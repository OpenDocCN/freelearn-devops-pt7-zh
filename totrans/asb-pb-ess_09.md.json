["```\n# setting up vi as editor\n$ export EDITOR=vi\n# Generate a encrypted file\n$ ansible-vault create aws_creds.yml\nVault password:\nConfirm Vault password:\n\n```", "```\n# Check file type and content\n$ file aws_creds.yml\naws_creds.yml: ASCII text\n$ cat aws_creds.yml\n$ANSIBLE_VAULT;1.1;AES256\n64616236666362376630366435623538336565393331333331663663636237636335313234313134\n3337303865323239623436646630336239653864356561640a363966393135316661636562333932\n61323932313230383433313735646438623032613635623966646232306433383335326566343333\n3136646536316261300a616438643463656263636237316136356163646161313365336239653434\n36626135313138343939363635353563373865306266363532386537623463623464376134353863\n37646638636231303461343564343232343837356662316262356537653066356465353432396436\n31336664313661306630653765356161616266653232316637653132356661343162396331353863\n34356632373963663230373866313961386435663463656561373461623830656261636564313464\n37383465353665623830623363353161363033613064343932663432653666633538\n\n```", "```\n$ ansible-vault edit aws_creds.yml\nVault password:\n\n```", "```\n$ ansible-vault decrypt aws_creds.yml\nVault password:\nDecryption successful\n\n```", "```\n$ ansible-vault rekey aws_creds.yml\nVault password:\nNew Vault password:\nConfirm New Vault password:\nRekey successful\n\n```", "```\n$ ansible-vault encrypt group_vars/all\nVault password:\nConfirm Vault password:\nEncryption successful\n\n```", "```\n$ ansible-playbook -i customhosts site.yml\nERROR: A vault password must be specified to decrypt /vagrant/chap8/group_vars/all\n\n```", "```\n$ ansible-playbook -i customhosts site.yml --ask-vault-pass\n\n```", "```\n$ echo \"password\" > ~/.vault_pass\n(replace password with your own secret)\n$ chmod 600 ~/.vault_pass\n\n```", "```\n$ ansible-playbook -i customhosts site.yml --vault-password-file ~/.vault_pass\n\n```", "```\n[defaults]\n  vault_password_file = ~/.vault_pass\n```", "```\n# launch ansible playbook run with encrypted data\n# with vault_password_file option set in the config\n$ ansible-playbook -i customhosts site.yml\n$ ansible-vault encrypt roles/mysql/defaults/main.yml\nEncryption successful\n$ ansible-vault decrypt roles/mysql/defaults/main.yml\nDecryption successful\n\n```", "```\n    #file: roles/nginx/defaults/main.yml \n    nginx_ssl: true\n    nginx_port_ssl: 443\n    nginx_ssl_path: /etc/nginx/ssl\n    nginx_ssl_cert_file: nginx.crt\n    nginx_ssl_key_file: nginx.key\n    ```", "```\n    $ openssl req -x509 -nodes -newkey rsa:2048 -keyout nginx.key -out nginx.crt\n\n    ```", "```\n    # file: group_vars/www\n    ---\n    nginx_ssl_cert_content: |\n        -----BEGIN CERTIFICATE-----\n        -----END CERTIFICATE-----\n    nginx_ssl_key_content: |\n        -----BEGIN PRIVATE KEY-----\n        -----END PRIVATE KEY-----\n    ```", "```\n    $ ansible-vault encrypt group_vars/www\n    Encryption successful\n\n    ```", "```\n    # filename: roles/nginx/templates/nginx.crt.j2\n    {{ nginx_ssl_cert_content }}\n\n    # filename: roles/nginx/templates/nginx.key.j2\n    {{ nginx_ssl_key_content }}\n    ```", "```\n    # filename: roles/nginx/templates/nginx.key.j2\n    server {\n      listen {{ nginx_port_ssl }};\n      server_name {{ ansible_hostname }};\n      ssl on;\n      ssl_certificate {{ nginx_ssl_path }}/{{ nginx_ssl_cert_file }};\n      ssl_certificate_key {{ nginx_ssl_path }}/{{ nginx_ssl_key_file }};\n\n      location / {\n        root {{ nginx_root }};\n        index {{ nginx_index }};\n      }\n    }\n    ```", "```\n    ---\n    # filename: roles/nginx/tasks/configure_ssl.yml\n     - name: create ssl directory\n        file: path=\"{{ nginx_ssl_path }}\" state=directory owner=root group=root\n     - name: add ssl key \n        template: src=nginx.key.j2 dest=\"{{ nginx_ssl_path }}/nginx.key\" mode=0644\n     - name: add ssl cert \n        template: src=nginx.crt.j2 dest=\"{{ nginx_ssl_path }}/nginx.crt\" mode=0644\n     - name: create ssl site configurations \n        template: src=default_ssl.conf.j2 dest=\"{{ nginx_ssl_path }}/default_ssl.conf\" mode=0644\n        notify:\n        - restart nginx service\n    ```", "```\n    # filename: roles/nginx/tasks/main.yml\n     - include: configure_ssl.yml\n        when: nginx_ssl\n    ```", "```\n    $ ansible-playbook -i customhosts  site.yml\n\n    ```"]