- en: Chapter 10.  Importing and Exporting Data in JIRA and Migrating Configuration
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 10 章 导入和导出数据在 JIRA 中以及迁移配置
- en: The data stored in JIRA is quite critical for companies, and JIRA administrators
    should make sure that regular backups of data are taken. In fact, it should be
    policy to take backups. In this chapter, we will discuss how to perform regular
    backups in JIRA and where these backups are stored. Most importantly, we will
    also discuss how to restore these backups.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA 中存储的数据对公司来说非常关键，因此 JIRA 管理员应确保定期备份数据。事实上，应该制定备份政策。在本章中，我们将讨论如何在 JIRA 中执行定期备份以及这些备份的存储位置。最重要的是，我们还将讨论如何恢复这些备份。
- en: There are a lot of other tools that are used in companies; tools such as **Mantis**
    and **Bugzilla** are quite popular bug trackers. When you move to JIRA, it would
    be great if your existing issues were migrated from these tools to JIRA, but migrating
    can be a complex task. JIRA comes with some tools to import data from external
    tools; however, JIRA has a powerful feature that also imports issues from plain
    CSV files. With proper planning, data from any tool can be exported into CSV,
    and from CSV it can be imported into JIRA. We will also understand how to use
    the **Configuration Manager** add-on to migrate JIRA configurations such as issue
    types, workflows, and other schemes to another JIRA instance.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 公司中使用了许多其他工具；例如 **Mantis** 和 **Bugzilla** 这样的流行 bug 跟踪器。当您转移到 JIRA 时，如果能够将现有问题从这些工具迁移到
    JIRA，将是非常好的事情，但迁移可能是一个复杂的任务。JIRA 自带一些工具，用于从外部工具导入数据；但是，JIRA 还具有一个强大的功能，可以从纯 CSV
    文件导入问题。通过适当的规划，可以将任何工具的数据导出为 CSV，并从 CSV 导入到 JIRA。我们还将了解如何使用 **Configuration Manager**
    插件来迁移 JIRA 配置，例如问题类型、工作流和其他方案到另一个 JIRA 实例。
- en: 'The topics covered are:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 所涵盖的主题包括：
- en: The backup system
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 备份系统
- en: External system import using CSV
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 CSV 进行外部系统导入
- en: Migrating JIRA configurations using the Configuration Manager add-on
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用配置管理器插件迁移 JIRA 配置
- en: The backup system
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 备份系统
- en: JIRA administrators should pay a lot of attention to taking regular backups
    of data and its configuration. Luckily, JIRA comes with a handy tool for generating
    backups. It not only contains data (such as issues and projects), but it also
    contains JIRA configurations that are stored in the backup file, which means that
    when you restore the system, all the data along with various schemes for issue
    types and workflows will also be restored.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA 管理员应特别注意定期备份数据及其配置。幸运的是，JIRA 自带一个方便的工具用于生成备份。它不仅包含数据（如问题和项目），还包含存储在备份文件中的
    JIRA 配置，这意味着当您恢复系统时，所有数据以及用于问题类型和工作流的各种方案也将被恢复。
- en: The backup system provided in the UI of JIRA is not particularly efficient when
    you have thousands of issues. For this, the recommended approach is to manually
    take a backup of your database. The details of this backup approach can be found
    at [https://confluence.atlassian.com/display/DOC/Production+Backup+Strategy](https://confluence.atlassian.com/display/DOC/Production+Backup+Strategy).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA UI 中提供的备份系统在有数千个问题时效率并不特别高。因此，推荐的方法是手动备份数据库。关于这种备份方法的详细信息可以在 [https://confluence.atlassian.com/display/DOC/Production+Backup+Strategy](https://confluence.atlassian.com/display/DOC/Production+Backup+Strategy)
    找到。
- en: Generating the backup
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成备份
- en: The JIRA backup tool can be used to perform backups as and when you require.
    Usually, before making any major configuration changes in JIRA, you should take
    a backup. Also, when you install a new add-on in JIRA, it's always advisable to
    take a backup. Of course, you should have a staging instance that should be an
    exact copy of your production one. You should do all the testing on the staging
    instance first, but you never know when things could go wrong. As a good practice,
    always take a backup before performing any major configuration changes.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA 备份工具可用于根据需要执行备份。通常在 JIRA 中进行任何重大配置更改之前，应进行备份。此外，当在 JIRA 中安装新插件时，建议始终进行备份。当然，您应该有一个演示实例，它应该是生产实例的精确副本。您应该首先在演示实例上进行所有测试，但您永远不知道什么时候事情会出错。作为良好的实践，始终在执行任何重大配置更改之前进行备份。
- en: 'Perform these steps to take a backup in JIRA using the JIRA backup tool:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤，使用 JIRA 备份工具在 JIRA 中进行备份：
- en: Navigate to **Administration** | **System** | **Backup System** (under **IMPORT
    & EXPORT**):![Generating the backup](img/image_10_001.jpg)
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 **Administration** | **System** | **Backup System**（位于 **IMPORT & EXPORT**
    下）：![生成备份](img/image_10_001.jpg)
- en: You will then see the **Backup JIRA data** page.
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后您将看到 **Backup JIRA data** 页面。
- en: Specify the **File name** and click on the **Backup** button to generate the
    backup file. It's a good idea to use timestamp in **File name**.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定**文件名**，然后点击**备份**按钮生成备份文件。建议在**文件名**中使用时间戳。
- en: The tool will then generate the backup file and give you the complete path of
    the file. You can copy this to some other location:![Generating the backup](img/image_10_002.jpg)
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工具将生成备份文件并提供完整的文件路径。你可以将其复制到其他位置：![生成备份](img/image_10_002.jpg)
- en: The backup files are stored in the `JIRA HOME` directory under the `export`
    folder.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 备份文件存储在 `JIRA HOME` 目录下的 `export` 文件夹中。
- en: Backup of attachments
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 附件的备份
- en: JIRA's data consists of details of issues, projects, and various configurations,
    but there are file attachments that are also attached to issues. The **Backup
    JIRA data** tool generates an XML file that stores information, but it cannot
    back up the file attachments.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA 的数据包含问题、项目以及各种配置的详细信息，但也有附加到问题的文件附件。**备份 JIRA 数据** 工具生成一个存储信息的 XML 文件，但它无法备份文件附件。
- en: 'These attachments are stored in the `JIRA HOME` directory under the `data\attachments`
    folder. You should copy the `attachments` folder if the file needs to be backed
    up. Usually, this is done when the JIRA instance needs to be migrated to a new
    server. The file attachments are organized in different folders for every project
    and the project key is the name of the folder:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这些附件存储在 `JIRA HOME` 目录下的 `data\attachments` 文件夹中。如果需要备份文件，应该复制 `attachments`
    文件夹。通常，在 JIRA 实例需要迁移到新服务器时会进行此操作。文件附件按项目分文件夹存储，项目密钥即文件夹的名称：
- en: The name of the attachment folder is project key, for example, `DPO`
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 附件文件夹的名称是项目密钥，例如，`DPO`
- en: The files are store within a subfolder whose name is the same as the issue ID,
    for example, `DPO-6`
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件存储在一个子文件夹中，子文件夹的名称与问题 ID 相同，例如，`DPO-6`
- en: Using this organization, the attachment folder is easily restored.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这种组织方式，附件文件夹可以轻松恢复。
- en: Generating automatic backups
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成自动备份
- en: The backup that we just generated is usually triggered just before a JIRA administrator
    needs to perform some major changes in the configuration. However, as a good practice,
    it would be great if these backups were generated automatically daily, or perhaps
    weekly.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚生成的备份通常是在 JIRA 管理员需要进行一些重要配置更改之前触发的。不过，作为一种良好做法，如果这些备份能够每天自动生成，或者每周生成一次，那就更好了。
- en: 'JIRA has the option to run a particular class automatically after a set time.
    JIRA comes with a couple of services preconfigured, but you can also add yours.
    Perform the following steps:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA 提供了在设定时间后自动运行特定类的选项。JIRA 默认配置了一些服务，你也可以添加自己的服务。请执行以下步骤：
- en: Navigate to **Administrator** | **System** | **Services** (under **ADVANCED**).
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至 **管理员** | **系统** | **服务**（在 **高级** 下）。
- en: You will get the list of **Services** that come preconfigured when you install
    JIRA:![Generating automatic backups](img/image_10_003.jpg)
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 JIRA 后，你将获得预配置的**服务**列表：![生成自动备份](img/image_10_003.jpg)
- en: 'The first service in the list is the **Mail Queue Service**, which is responsible
    for taking regular backups. The **Schedule** is the interval after which the services
    will run automatically. In the case of **Backup Service**, the **Schedule** is **Every 720
    minutes**, which is 12 hours; this means that after every 12 hours, the backup
    will be generated and placed in the `export` directory under `JIRA HOME`:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 列表中的第一个服务是**邮件队列服务**，它负责进行定期备份。**调度**是服务自动运行的间隔时间。对于**备份服务**，**调度**是**每 720
    分钟**，即 12 小时；这意味着每隔 12 小时，备份将会生成并放置在 `JIRA HOME` 下的 `export` 目录中：
- en: '![Generating automatic backups](img/image_10_004.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![生成自动备份](img/image_10_004.jpg)'
- en: As you can see in the previous screenshot, there are backup files generated
    by the JIRA service, except for `2014-12-09-backup`, which we generated manually.
    The format of the backup file remains the same irrespective of whether you generate
    it manually or if it's generated automatically.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如你在前面的截图中所见，JIRA 服务生成了备份文件，除了 `2014-12-09-backup`，那是我们手动生成的。无论是手动生成还是自动生成，备份文件的格式保持不变。
- en: As a good practice, always copy the backup files along with their attachments
    to a separate server. If something goes wrong with the server and the backups
    are kept on the same machine, they will also be lost. So, it's good to have them
    copied to a separate server. Preferably, write scripts to automate the process
    of copying backups to a backup server.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一种良好做法，始终将备份文件及其附件复制到一台单独的服务器上。如果服务器出现故障且备份文件存储在同一台机器上，它们也会丢失。因此，最好将它们复制到单独的服务器上。最好编写脚本来自动化将备份复制到备份服务器的过程。
- en: Restoring the system utility
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 恢复系统工具
- en: 'Now, you have learned how to generate the backup manually using JIRA''s **Backup
    System** tool and by relying on JIRA services. There are two scenarios when these
    backup files will be useful to you:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经学会了如何使用 JIRA 的**备份系统**工具手动生成备份，并依赖 JIRA 服务。以下是这些备份文件对你有用的两种场景：
- en: One is when your server crashes
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一种情况是当你的服务器崩溃时
- en: Secondly, when you want to migrate your JIRA instance to a new machine
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其次，当你想将 JIRA 实例迁移到一台新机器时
- en: JIRA comes with the utility to **Restore System**; it basically wipes out the
    existing data/configuration and replaces it with one on the backup files; hence,
    you have to be very careful when using the **Restore System** utility. As a rule
    of thumb, always perform the restore process on a test environment; this will
    also give you a chance to learn about and fix any errors that you may encounter.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: JIRA 提供了**恢复系统**工具；它基本上会擦除现有的数据/配置，并将其替换为备份文件中的数据；因此，使用**恢复系统**工具时必须非常小心。一般来说，总是先在测试环境中执行恢复过程；这也会给你一个机会了解并修复可能遇到的任何错误。
- en: In this example, we will restore the `2014-12-09-backup.zip` backup file, which
    we generated in the previous section.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们将恢复之前生成的`2014-12-09-backup.zip`备份文件。
- en: 'For this exercise, you should have a blank JIRA installation on a different
    machine with the same version as the one used to generate the backup. Perform
    the following steps:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本练习，你应当在另一台与生成备份时使用的相同版本的机器上安装一个空白的 JIRA 实例。执行以下步骤：
- en: Copy the backup file stored in the `JIRA HOME` directory under the `import`
    folder.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制存储在`JIRA HOME`目录下`import`文件夹中的备份文件。
- en: 'Navigate to **Administration** | **System** | **Restore System** (under **IMPORT
    & EXPORT**):'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 **管理** | **系统** | **恢复系统**（在**导入与导出**下）：
- en: Enter **File name** as `2014-12-09-backup.zip`, which is the backup file we
    generated previously.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入**文件名**为`2014-12-09-backup.zip`，这是我们之前生成的备份文件。
- en: Leave the **License** field empty; the license details of the source instance
    are stored in the backup file, which can be restored in the target instance; if
    you want to use a new license, only then enter it in this field.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持**许可证**字段为空；源实例的许可证详细信息已存储在备份文件中，可以在目标实例中恢复；如果你想使用新的许可证，只有在这种情况下才将其输入此字段。
- en: In the **Outgoing Mail** field, select **Disable**. This will ensure that e-mails
    are not being sent to anyone when the restore process takes place.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**外发邮件**字段中，选择**禁用**。这将确保在恢复过程中不会向任何人发送电子邮件。
- en: Click on the **Restore** button:![Restoring the system utility](img/image_10_005.jpg)
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**恢复**按钮：![Restoring the system utility](img/image_10_005.jpg)
- en: The restore process will start reading the backup file and will also display
    the restore progress. This whole restore process can take several minutes depending
    on the size of the backup file:![Restoring the system utility](img/image_10_006.jpg)
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 恢复过程将开始读取备份文件，并显示恢复进度。整个恢复过程可能需要几分钟，具体取决于备份文件的大小：![Restoring the system utility](img/image_10_006.jpg)
- en: Once the restore process is complete, you will get a confirmation message:![Restoring
    the system utility](img/image_10_007.jpg)
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦恢复过程完成，你将收到一条确认信息：![Restoring the system utility](img/image_10_007.jpg)
- en: After the restore process is complete, you can log in to the JIRA instance using
    the login and password credentials of the instance from which the backup was generated.
    Your login of the current JIRA instance will not work because the whole data has
    been wiped out and replaced by the backup file.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 恢复过程完成后，你可以使用生成备份的实例的登录和密码凭证登录到 JIRA 实例。你当前 JIRA 实例的登录将无法使用，因为所有数据已被清除并被备份文件替代。
- en: 'You can verify the following after the restoration:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 恢复后，你可以验证以下内容：
- en: Issue count
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题数量
- en: List of projects
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目列表
- en: List of configurations
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置列表
- en: User count
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户数量
- en: If these things match with your old instance and the restored instance, then
    the restore process was successful.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这些内容与你的旧实例和恢复后的实例匹配，则恢复过程成功。
- en: Project Import utility
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 项目导入工具
- en: The **Restore System** procedure is performed when the complete instance has
    to be restored or moved to another server, but there can be a scenario when you
    just need to restore a single project from another JIRA instance.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**恢复系统**程序在需要恢复整个实例或将其迁移到另一台服务器时执行，但也可能存在只需要从另一个JIRA实例恢复单个项目的情况。'
- en: Let's take an example of a company that has multiple JIRA instances used by
    various other business units. These business units work independently of each
    other; they have different teams and work from different geographic locations.
    As you know, these days companies reorganize quite often. Due to this reorganization
    process, a few projects from one business unit need to be transferred to another
    business unit. All the project code and documents along with the projects need
    to be transferred as well.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以一家拥有多个JIRA实例的公司为例，这些实例被不同的业务单元使用。这些业务单元相互独立工作，拥有不同的团队，并且分布在不同的地理位置。正如你所知道的，现在公司经常进行重组。由于这一重组过程，某些项目需要从一个业务单元转移到另一个业务单元。所有项目代码和文档也需要一起转移。
- en: In this case, we cannot simply take a backup of one instance and restore it
    in another because it will wipe out the data in the target instance. The restore
    process has to be done for a few selected projects only.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们不能简单地备份一个实例并将其恢复到另一个实例，因为这会清除目标实例中的数据。恢复过程必须仅对选定的项目进行。
- en: 'Atlassian understood this scenario and provided a tool called **Project Import**
    for performing just that:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Atlassian了解这种情况，并提供了一个名为**项目导入**的工具，正是用来执行这个操作：
- en: Navigate to  ****Administration**** | **System** | **Project Import** (under
    **IMPORT & EXPORT**).
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至****管理**** | **系统** | **项目导入**（在**导入与导出**下）。
- en: Enter the name of the backup **File name** from which you want to perform **Project
    Import**.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入你想要执行**项目导入**的备份**文件名**。
- en: Copy the attachments in the `JIRA HOME` under the `import\attachments` directory;
    the exact path specific to your machine will also be displayed.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将附件复制到`JIRA HOME`下的`import\attachments`目录中；你机器上的确切路径也会显示出来。
- en: Click on the **Next** button to continue:![Project Import utility](img/image_10_008.jpg)
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**按钮继续：![项目导入工具](img/image_10_008.jpg)
- en: The **Project Import** utility will read the backup file and display the progress.
    Depending on the size of the backup file, it may take several minutes to complete:![Project
    Import utility](img/image_10_009.jpg)
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**项目导入**工具将读取备份文件并显示进度。根据备份文件的大小，可能需要几分钟才能完成：![项目导入工具](img/image_10_009.jpg)'
- en: On the next screen, the list of the entire project in the backup file will be
    presented to you.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕上，将向你展示备份文件中所有项目的列表。
- en: You can now select the project that you want to import from the **Projects from
    Backup** drop-down list.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你可以从**备份中的项目**下拉列表中选择你想要导入的项目。
- en: The details of the project that you select will also be displayed. The **Project** field
    displays the name. The **Key** field displays the project key, and **Issues** displays
    the issue count.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你选择的项目的详细信息也将显示出来。**项目**字段显示项目名称，**Key**字段显示项目关键字，**问题**显示问题数量。
- en: Click on the **Next** button to continue:![Project Import utility](img/image_10_010.jpg)
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**按钮继续：![项目导入工具](img/image_10_010.jpg)
- en: The projects in the backup file may have some fields that are not present in
    the target instance. The **Project Import** tool will attempt to map them to the
    existing fields. Before attempting the import procedure, you need to make sure
    that all the custom fields are created in the target instance.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 备份文件中的项目可能包含一些目标实例中没有的字段。**项目导入**工具将尝试将它们映射到现有字段。在尝试导入操作之前，你需要确保目标实例中已经创建了所有的自定义字段。
- en: If the mapping is complete, click on the **Import** button to continue:![Project
    Import utility](img/image_10_011.jpg)
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果映射完成，点击**导入**按钮继续：![项目导入工具](img/image_10_011.jpg)
- en: Depending on the size of the project, it may take several minutes to complete;
    the progress will be shown on the screen:![Project Import utility](img/image_10_012.jpg)
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据项目的大小，可能需要几分钟才能完成；进度将显示在屏幕上：![项目导入工具](img/image_10_012.jpg)
- en: After the import process is successful, the result of **Project Import** will
    be displayed on the screen.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入过程成功后，**项目导入**的结果将显示在屏幕上。
- en: Verify the results and click on the **OK** button:![Project Import utility](img/image_10_013.jpg)
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证结果并点击**确定**按钮：![项目导入工具](img/image_10_013.jpg)
- en: Repeat the process for all the other projects that need to be imported.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对所有需要导入的其他项目重复此过程。
- en: The **Project Import** process is a complex procedure and has to be first performed
    on the test instance. Read the official documentation to understand more about
    this procedure at [https://confluence.atlassian.com/adminjiraserver071/restoring-a-project-from-backup-802592982.html](https://confluence.atlassian.com/adminjiraserver071/restoring-a-project-from-backup-802592982.html).
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '**项目导入**过程是一个复杂的程序，必须先在测试实例上执行。请阅读官方文档以了解有关此过程的更多信息：[https://confluence.atlassian.com/adminjiraserver071/restoring-a-project-from-backup-802592982.html](https://confluence.atlassian.com/adminjiraserver071/restoring-a-project-from-backup-802592982.html)。'
- en: Note
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Backups should be generated using the same version of the target JIRA instance.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 应使用目标JIRA实例的相同版本生成备份。
- en: Project configurations such as issue type schemes, field configurations, workflows,
    notifications, and permission schemes should be created on the target instance.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 项目配置，如问题类型方案、字段配置、工作流、通知和权限方案，应在目标实例上创建。
- en: Custom fields that are used in the project need to be created in the target
    instance.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 项目中使用的自定义字段需要在目标实例上创建。
- en: If there are certain add-ons installed and used by the project, then install
    them on the target instance first; there are certain custom fields created by
    add-ons and until you install the plugin on the target instance, these custom
    fields will not be mapped.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 如果项目中安装并使用了某些插件，请先在目标实例上安装它们；某些插件会创建自定义字段，直到你在目标实例上安装插件，这些自定义字段才会被映射。
- en: External system import using CSV
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用CSV的外部系统导入
- en: There are various issue tracking tools that have been available for many years
    on the market. There are tools such as Bugzilla, which is used primarily for bug
    tracking. There is another popular tool called Mantis that provides a good set
    of features, which again is used for bug tracking. Companies who are already using
    some of these tools and now want to move to JIRA can migrate their data using
    various importers provided by JIRA out of the box.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 市场上已经有许多问题跟踪工具可供使用多年。例如Bugzilla，主要用于错误跟踪。还有另一个流行的工具叫做Mantis，提供了一套不错的功能，同样用于错误跟踪。那些已经在使用这些工具的公司，如果现在想迁移到JIRA，可以使用JIRA自带的各种导入工具进行数据迁移。
- en: 'Follow these steps to perform the CSV import:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤执行CSV导入：
- en: Navigate to **Administration** | **System** | **External System Import** (Under
    **IMPORT & EXPORT**).
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**管理** | **系统** | **外部系统导入**（在**导入与导出**下）。
- en: You will get the list of various importers, as shown in the following screenshot:![External
    system import using CSV](img/image_10_014.jpg)
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到各种导入工具的列表，如下图所示：![使用CSV的外部系统导入](img/image_10_014.jpg)
- en: Tip
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: If you are using any of the tools mentioned in the previous screenshot, then
    you can try to import the data from your existing tool. There are also other import
    tools available that have been developed by third-party vendors. These can be
    downloaded from the Atlassian Marketplace. You can give them a try.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你使用的是前面截图中提到的工具，那么可以尝试从现有工具导入数据。还有一些由第三方供应商开发的其他导入工具，可以从Atlassian Marketplace下载。你可以试试看。
- en: These importers usually work well when there are not many customizations in
    your existing tool, but this is not the case most of the time. The first importer
    called **CSV** is a general purpose tool that can be used to import data from
    a CSV file into JIRA. We recommend to first export your data from your existing
    tool into a CSV file and then use this tool to import the data into JIRA.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这些导入工具通常在现有工具没有太多自定义的情况下工作得很好，但大多数情况下并非如此。第一个导入工具叫做**CSV**，它是一个通用工具，可用于将CSV文件中的数据导入JIRA。我们建议先将现有工具中的数据导出为CSV文件，然后使用该工具将数据导入JIRA。
- en: The data that needs to be imported into JIRA can be quite complex; issues could
    also be subtasks of other issues and there could be a need to upload the attachments
    too.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 需要导入到JIRA的数据可能相当复杂；问题也可能是其他问题的子任务，并且可能需要上传附件。
- en: Let's take a look at a few scenarios that can be used to import CSV into JIRA.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一些可以用于将CSV导入JIRA的场景。
- en: A simple CSV import
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个简单的CSV导入
- en: Let's understand how to perform a simple import of the CSV data. The first thing
    to do is to prepare the CSV file that will be imported into JIRA. For this exercise,
    we will import issues into a particular project; these issues will contain data
    such as issue **Summary**, **Status**, **Dates**, and a few other fields.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们了解如何执行简单的CSV数据导入。首先需要做的是准备要导入到JIRA的CSV文件。在这次练习中，我们将把问题导入到一个特定的项目中；这些问题将包含如**总结**、**状态**、**日期**等数据，以及一些其他字段。
- en: Preparing the CSV file
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 准备CSV文件
- en: 'We are going to use MS Excel to prepare the CSV file with the following data:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用MS Excel来准备CSV文件，包含以下数据：
- en: '![Preparing the CSV file](img/image_10_015.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![准备CSV文件](img/image_10_015.jpg)'
- en: If your existing tool has the option to export directly into the CSV file, then
    you can skip this step, but we recommend reviewing your data before importing
    it into JIRA. Usually, the CSV import will not work if the format of the CSV file
    and the data is not correct.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你现有的工具有直接导出为CSV文件的选项，则可以跳过这一步，但我们建议在将数据导入JIRA之前先检查一下数据。通常，如果CSV文件的格式或数据不正确，CSV导入将无法正常工作。
- en: 'It''s very easy to generate a CSV file from an Excel file. Perform these steps:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 从Excel文件生成CSV文件非常简单。执行以下步骤：
- en: Go to **File** | **Save As** | **File name:** and select **Save as type:** as
    **CSV (Comma delimited)**. If you don't have Microsoft Excel installed, you can
    use LibreOffice Calc, which is an open source alternative for Microsoft Office
    Excel:![Preparing the CSV file](img/image_10_016.jpg)
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**文件** | **另存为** | **文件名：**并选择**保存类型：**为**CSV（逗号分隔）**。如果你没有安装Microsoft Excel，可以使用LibreOffice
    Calc，这是一个开源的Microsoft Office Excel替代品：![准备CSV文件](img/image_10_016.jpg)
- en: You can open the CSV file to verify its format too:![Preparing the CSV file](img/image_10_017.jpg)
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你也可以打开CSV文件验证其格式：![准备CSV文件](img/image_10_017.jpg)
- en: 'Our CSV file has the following fields:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的CSV文件包含以下字段：
- en: '| **CSV Field** | **Purpose** |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| **CSV字段** | **目的** |'
- en: '| **Project** | JIRA''s project key needs to be specified in this field |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| **Project** | 需要在此字段中指定JIRA的项目密钥 |'
- en: '| **Summary** | This field is mandatory and needs to be specified in the CSV
    file |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| **Summary** | 这个字段是必填的，需要在CSV文件中指定 |'
- en: '| **Issue Type** | This is important for specifying the issue type |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| **Issue Type** | 这对于指定问题类型很重要 |'
- en: '| **Status** | This displays the status of the issue; these are workflow states
    that need to exist in JIRA, and the project workflow should have the states that
    are going to be imported into the CSV file |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| **Status** | 这显示了问题的状态；这些是需要在JIRA中存在的工作流状态，且项目工作流应该有将要导入到CSV文件中的状态 |'
- en: '| **Priority** | The priorities mentioned here should exist in JIRA before
    import |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| **Priority** | 这里提到的优先级应该在导入之前存在于JIRA中 |'
- en: '| **Resolution** | The resolutions mentioned here should exist in JIRA before
    import |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| **Resolution** | 这里提到的解决方案应该在导入之前存在于JIRA中 |'
- en: '| **Assignee** | This specifies the assignee of the issue |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| **Assignee** | 这指定了问题的负责人 |'
- en: '| **Reporter** | This specifies the reporter of the issue |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| **Reporter** | 这指定了问题的报告人 |'
- en: '| **Created** | This is the issue creation date |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| **Created** | 这是问题的创建日期 |'
- en: '| **Resolved** | This is the issue resolution date |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| **Resolved** | 这是问题的解决日期 |'
- en: Performing the CSV import
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 执行CSV导入
- en: 'Once your CSV file is prepared, then you are ready to perform the import in
    JIRA:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你的CSV文件准备好，就可以在JIRA中执行导入了：
- en: Navigate to **Administration** | **System** | **External System Import** | **Import
    from Comma-separated values (CSV)** (under **IMPORT & EXPORT**).
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**管理** | **系统** | **外部系统导入** | **从逗号分隔值（CSV）导入**（在**导入与导出**下）。
- en: On the **File import** screen in the **CSV Source File** field, click on the
    **Browse...** button to select the CSV file that you just prepared on your machine.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**文件导入**屏幕的**CSV源文件**字段中，点击**浏览...**按钮，选择你刚才在机器上准备的CSV文件。
- en: Once you select the CSV file, the **Next** button will be enabled:![Performing
    the CSV import](img/image_10_018.jpg)
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你选择了CSV文件，**下一步**按钮将被启用：![执行CSV导入](img/image_10_018.jpg)
- en: On the **Setup** screen, select **Import to Project** as **DOPT**, which is
    the name of our project.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**设置**屏幕上，选择**导入到项目**作为**DOPT**，这是我们项目的名称。
- en: Verify **Date format**, and it should match the format of the date values in
    the CSV file.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证**日期格式**，它应与CSV文件中日期值的格式匹配。
- en: Click on the **Next** button to continue.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**按钮继续。
- en: On the **Map fields** screen; we need to map the fields in the CSV file to JIRA
    fields. This step is crucial because in your old system, the field names may be
    different to JIRA fields, so in this step map these fields to the respective JIRA
    fields.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **Map fields** 屏幕上；我们需要将 CSV 文件中的字段映射到 JIRA 字段。此步骤至关重要，因为在旧系统中，字段名称可能与 JIRA
    字段不同，因此在此步骤中将这些字段映射到相应的 JIRA 字段。
- en: Click on the **Next** button to continue.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **Next** 按钮继续。
- en: On the **Map values** screen, map the values of **Status**; in fact, this mapping
    of field values can be done for any field. In our case, the values in the status
    field are the same as in JIRA, so click on the **Begin Import** button.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **Map values** 屏幕上，映射 **Status** 字段的值；实际上，任何字段的值映射都可以执行。在我们的例子中，状态字段的值与 JIRA
    中的相同，因此点击 **Begin Import** 按钮。
- en: You will finally get a confirmation that issues have been imported successfully:![Performing
    the CSV import](img/image_10_019.jpg)
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终，你将得到一个确认，表明问题已成功导入：![执行 CSV 导入](img/image_10_019.jpg)
- en: If you encounter any errors during the CSV import, then it's usually due to
    some problem with the CSV format. Read the error messages carefully and correct
    these issues. As mentioned earlier, the CSV import needs to be performed on the
    test environment first.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在 CSV 导入过程中遇到任何错误，通常是由于 CSV 格式的问题。请仔细阅读错误信息并修正这些问题。如前所述，CSV 导入需要先在测试环境中进行。
- en: The import that we just performed is straightforward, but it's possible to import
    data with complexities too.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚才执行的导入是直接的，但也可以导入具有复杂性的数据显示。
- en: Creating subtasks using the CSV file
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 CSV 文件创建子任务
- en: 'There are cases when issues need to be imported as subtasks. In such cases,
    use the format shown in the following screenshot:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 有时问题需要作为子任务导入。在这种情况下，请使用以下截图所示的格式：
- en: '![Creating subtasks using the CSV file](img/image_10_020.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![使用 CSV 文件创建子任务](img/image_10_020.jpg)'
- en: Note the two columns, that is, **Issue ID** and **Parent ID**; populate the
    **Issue ID** column with a random number for the parent task and enter this random
    number in the **Parent ID** column for all the subtasks.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意这两列，即 **Issue ID** 和 **Parent ID**；为父任务的 **Issue ID** 列填入随机数字，并将该随机数字输入到所有子任务的
    **Parent ID** 列中。
- en: '**Issue ID** and **Parent ID** need to be mapped to **Sub-Tasks** | **Issue
    Id** and **Sub-Tasks** | **Parent Id** during the CSV import respectively, as
    shown in the following screenshot:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**Issue ID** 和 **Parent ID** 需要分别映射到 **Sub-Tasks** | **Issue Id** 和 **Sub-Tasks**
    | **Parent Id**，如以下截图所示：'
- en: '![Creating subtasks using the CSV file](img/image_10_021.jpg)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![使用 CSV 文件创建子任务](img/image_10_021.jpg)'
- en: Proceed with the CSV import as usual and subtasks will be created.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 按照通常的方式继续进行 CSV 导入，子任务将被创建。
- en: Uploading attachments using the CSV file
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 CSV 文件上传附件
- en: It's usually desirable to attach files to the issues that need to be imported
    into JIRA.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 通常需要将文件附加到需要导入到 JIRA 的问题上。
- en: 'Perform these steps:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'Create a `csvimport` folder in your `JIRA HOME/import/attachments` directory.
    So, the final path should look like this:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `JIRA HOME/import/attachments` 目录中创建一个 `csvimport` 文件夹。因此，最终路径应如下所示：
- en: '[PRE0]'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The CSV JIRA import can read the particular directory using the `FILE` protocol.
    It's used to access the files stored on the same machine; the full path of the
    files needs to be specified.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: CSV JIRA 导入可以使用 `FILE` 协议读取特定目录。它用于访问存储在同一台计算机上的文件；需要指定文件的完整路径。
- en: 'Add a column called `Attachments` in your CSV file and enter the location in
    the following format:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 CSV 文件中添加一个名为 `Attachments` 的列，并按照以下格式输入位置：
- en: '[PRE1]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The file should finally look similar to the following screenshot:![Uploading
    attachments using the CSV file](img/image_10_022.jpg)
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终文件应类似于以下截图：![使用 CSV 文件上传附件](img/image_10_022.jpg)
- en: Don't forget to map this new `Attachments` column to the **Attachments** JIRA
    field; the rest of the process remains the same.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记将这个新的`Attachments`列映射到 **Attachments** JIRA 字段；其余的过程保持不变。
- en: Your issues may have multiple attachments instead of just one. In such cases,
    add an additional column for each attachment. Similarly, other fields with multiple
    values can be imported by simply adding multiple columns.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 你的问题可能会有多个附件，而不仅仅是一个。在这种情况下，为每个附件添加一个额外的列。同样，其他具有多个值的字段也可以通过简单地添加多个列进行导入。
- en: Updating existing issues
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更新现有问题
- en: There is another very good use of the CSV import tool. So far, we have seen
    how to import data into JIRA, but there are times when existing issues need to
    be modified. For instance, if you want to add a new fixed version to the issues
    of a particular project or if you want to resolve certain issues in bulk; in such
    cases, it's possible to use the CSV import tool.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: CSV 导入工具还有另一个非常好的用途。到目前为止，我们已经看到如何将数据导入 JIRA，但有时需要修改现有的工作项。例如，如果你想为某个项目的工作项添加一个新的修复版本，或者如果你想批量解决某些问题；在这种情况下，可以使用
    CSV 导入工具。
- en: In the CSV file, just add another column of `Issue Key` and add the columns
    as JIRA fields that need to be updated. If the CSV tool finds the issue key, then
    it will take the rest of the columns and update them in the existing issues.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在 CSV 文件中，只需添加一个 `问题键` 列，并添加需要更新的 JIRA 字段作为列。如果 CSV 工具找到问题键，它将更新该问题的其他列。
- en: However, there is also a **Bulk Change** tool in **Issue Navigator**, which
    does the same thing. It's up to your comfort level and use case to choose the
    method convenient to you. We recommend using the **Bulk Change** tool as it's
    much easier compared to the CSV import tool.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，**问题导航器**中也有一个 **批量变更** 工具，它完成相同的工作。你可以根据自己的舒适度和使用场景选择适合你的方法。我们建议使用 **批量变更**
    工具，因为它比 CSV 导入工具更为简单。
- en: Migrate JIRA configurations using the Configuration Manager add-on
  id: totrans-148
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用配置管理器插件迁移 JIRA 配置
- en: We have discussed how to fully restore a JIRA instance from a backup file, restore
    a specific project, and how to use the CSV import functionality with important
    data in JIRA. These utilities are so important that they really make the lives
    of JIRA administrators easier. They can perform these activities right from the
    JIRA user interface. The **Project Import** utility and CSV import are used for
    migrating one or more projects from one instance of JIRA to another, but the target
    instance should have the required configuration in place, otherwise these utilities
    will not work. For instance, if there is a project in a source instance with custom
    workflow states along with a few custom fields, then the exact configuration of
    workflow and custom fields should already exist in the target instance. Re-creating
    these configurations and schemes could be a time-consuming and error prone process.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了如何从备份文件完全恢复 JIRA 实例，如何恢复特定的项目，以及如何使用 JIRA 中的重要数据的 CSV 导入功能。这些工具非常重要，它们确实让
    JIRA 管理员的工作变得更轻松。管理员可以直接在 JIRA 用户界面中执行这些操作。**项目导入**工具和 CSV 导入用于将一个或多个项目从一个 JIRA
    实例迁移到另一个实例，但目标实例必须已具备所需的配置，否则这些工具将无法工作。例如，如果源实例中有一个带有自定义工作流状态和一些自定义字段的项目，那么目标实例中应已有与之完全相同的工作流和自定义字段配置。重新创建这些配置和方案可能是一个耗时且容易出错的过程。
- en: In various organizations, there is also a test environment or staging server
    for JIRA, where all the new configurations are first tested before being rolled
    out to the production instance. Currently, there is no such way to selectively
    migrate the configurations from one instance to another. It has to be done manually
    on the target instance.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在各类组织中，通常会有一个 JIRA 的测试环境或暂存服务器，所有新的配置都会先在这里进行测试，然后再推广到生产环境。目前，还没有一种方法可以选择性地将配置从一个实例迁移到另一个实例。必须在目标实例上手动完成此操作。
- en: Configuration Manager is an add-on that does this job. Using this add-on, the
    project specific configuration can be migrated from one instance to another.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 配置管理器是一个完成此工作的插件。使用该插件，项目特定的配置可以从一个实例迁移到另一个实例。
- en: Generate a snapshot
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成快照
- en: 'The following steps will guide you through the steps required to generate a
    project-specific snapshot that can be migrated and deployed on the target JIRA
    instance:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导你完成生成可以迁移并部署到目标 JIRA 实例的项目特定快照的过程：
- en: Go to **Administration** | **Add-ons** | **Find new add-ons** under **ATLASSIAN
    MARKETPLACE**, type `Configuration Manager` in the search box and press the *Enter*
    key:![Generate a snapshot](img/image_10_023.jpg)
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入 **管理** | **插件** | **查找新插件**，在 **ATLASSIAN MARKETPLACE** 下，在搜索框中输入 `Configuration
    Manager`，然后按下 *Enter* 键：![生成快照](img/image_10_023.jpg)
- en: The **Configuration Manager for JIRA** will appear. Click on the **Free trial**
    button to install this add-on on your instance. In the pop-up window that appears
    next, click on the **Accept** button.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**JIRA 配置管理器**将会出现。点击 **免费试用** 按钮，在你的实例上安装该插件。在随之弹出的窗口中，点击 **接受** 按钮。'
- en: Finally, you will be asked to enter your Atlassian account to generate a trial
    license.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，你将被要求输入你的 Atlassian 帐号，以生成试用许可证。
- en: Once installed, go to **Administration** | **Configuration Manager** | **Snapshots**.
    On this screen, you can generate a snapshot of a project's configuration. Click
    on the **Create Snapshot** button:![Generate a snapshot](img/image_10_024.jpg)
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，进入**管理** | **配置管理器** | **快照**。在此屏幕上，你可以生成项目配置的快照。点击**创建快照**按钮：![生成快照](img/image_10_024.jpg)
- en: In the **Select Snapshot Type** screen, make sure that the second tab **Project
    Configuration** is selected on the top right corner of the screen. Enter the **Name**,
    select one or more **Project(s)** from the drop down, tick the checkbox **Include
    custom fields with value in at least one issue** and enter a meaningful description.
    Press the **Next** button to continue:![Generate a snapshot](img/image_10_025.jpg)
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择快照类型**屏幕中，确保右上角选择了第二个标签**项目配置**。输入**名称**，从下拉菜单中选择一个或多个**项目**，勾选复选框**包含至少一个问题中有值的自定义字段**，并输入有意义的描述。点击**下一步**按钮继续：![生成快照](img/image_10_025.jpg)
- en: In the **Select Filters** screen, select the filters that are used in this project.
    If your project also has Agile boards, you need to select the filters used in
    your project as the Agile boards depend on filters. Press the **Next** button
    to continue:![Generate a snapshot](img/image_10_026.jpg)
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择过滤器**屏幕中，选择在此项目中使用的过滤器。如果你的项目中也有敏捷看板，你需要选择在项目中使用的过滤器，因为敏捷看板依赖于这些过滤器。点击**下一步**按钮继续：![生成快照](img/image_10_026.jpg)
- en: In the **Select Agile Boards** screen, select the Scrum or Kanban boards that
    you want migrated. Make sure that, as in the previous step, you have selected
    the filters that are used in the boards you want to migrate. Press the **Next**
    button to continue:![Generate a snapshot](img/image_10_027.jpg)
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择敏捷看板**屏幕中，选择你希望迁移的 Scrum 或 Kanban 看板。确保与你想要迁移的看板相关的过滤器已经在上一步中选择。点击**下一步**按钮继续：![生成快照](img/image_10_027.jpg)
- en: In the **Preview Snapshot** screen, review the items that are migrating and
    click on the **Create** button to generate the snapshot:![Generate a snapshot](img/image_10_028.jpg)
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**预览快照**屏幕中，检查即将迁移的项目，并点击**创建**按钮生成快照：![生成快照](img/image_10_028.jpg)
- en: Finally, the snapshot will be generated. You can download the snapshot file
    by clicking on the cog icon under the **Actions** column for the respective snapshot
    and clicking on **Download**:![Generate a snapshot](img/image_10_029.jpg)
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终，快照将被生成。你可以通过点击与相应快照相关的**操作**栏下的齿轮图标，然后点击**下载**来下载快照文件：![生成快照](img/image_10_029.jpg)
- en: Save the snapshot file on your computer. Its name will be `Demo Project Snapshot.zip`.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将快照文件保存在你的计算机上，文件名为`Demo Project Snapshot.zip`。
- en: Deploying a snapshot
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 部署快照
- en: 'The following steps will guide you through deploying the snapshot that you
    have generated on your source JIRA instance:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导你如何在源 JIRA 实例上部署你所生成的快照：
- en: Go to **Administration** | **Configuration Manager** | **Deploy**. On this screen
    you can generate a snapshot of a project's configuration. Click on the **From
    Snapshot File** tab on the top right corner. Then, click on the **Browse** button
    and select the `Demo Project Snapshot.zip` from your computer that you saved after
    generating the snapshot:![Deploying a snapshot](img/image_10_030.jpg)
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入**管理** | **配置管理器** | **部署**。在此屏幕中，你可以生成项目配置的快照。点击右上角的**从快照文件**标签。然后，点击**浏览**按钮，选择你在生成快照后保存在计算机上的`Demo
    Project Snapshot.zip`文件：![部署快照](img/image_10_030.jpg)
- en: Once the snapshot file is uploaded to your target JIRA server, it will be listed.
    Click on the **Deploy** link under the **Actions** column specific to your snapshot
    file.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦快照文件上传到目标 JIRA 服务器，它将被列出。点击与你的快照文件相关的**操作**栏下的**部署**链接。
- en: In the **Select Deployment Mode** screen, select the **New Project** tab in
    the top right corner. Enter a project **Name** and **Key**. These will also be
    suggested based on your old project details from the snapshot file. Press the
    **Next** button to continue:![Deploying a snapshot](img/image_10_031.jpg)
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择部署模式**屏幕中，选择右上角的**新项目**标签。输入项目的**名称**和**键**。这些也会根据快照文件中的旧项目详细信息自动建议。点击**下一步**按钮继续：![部署快照](img/image_10_031.jpg)
- en: In the **Analyze Configuration Changes** screen, review the configurations that
    will be added, modified, or removed from the target instance. Please spend considerable
    time on this screen to understand the impact of existing configurations on the
    target JIRA instance. Press the **Next** button to continue:![Deploying a snapshot](img/image_10_032.jpg)
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**分析配置变更**界面，查看将被添加、修改或移除的目标实例配置。请在此界面花费相当的时间，以了解现有配置对目标JIRA实例的影响。按下**下一步**按钮继续：![部署快照](img/image_10_032.jpg)
- en: In the **Migrate Configuration Changes** screen, the Configuration Manager tells
    us that no issues data migration is required, so press the **Next** button to
    continue:![Deploying a snapshot](img/image_10_033.jpg)
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**迁移配置变更**界面，配置管理器告诉我们无需进行问题数据迁移，因此按下**下一步**按钮继续：![部署快照](img/image_10_033.jpg)
- en: In the **Deploy** screen, just press the **Deploy** button to start the deployment:![Deploying
    a snapshot](img/image_10_034.jpg)
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**部署**界面，只需按下**部署**按钮即可开始部署：![部署快照](img/image_10_034.jpg)
- en: Finally, you will get a confirmation message in the **Snapshot deployed** screen:![Deploying
    a snapshot](img/image_10_035.jpg)
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，您将在**快照部署**界面看到确认信息：![部署快照](img/image_10_035.jpg)
- en: The Configuration Manager add-on is quite powerful. It can migrate all the project-specific
    configurations like issue types, workflows, custom fields, roles, permission,
    and notification schemes. The simple example that we just showed you in this section
    should give you enough understanding of the usage of this useful add-on.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 配置管理器插件非常强大。它可以迁移所有与项目相关的配置，如问题类型、工作流、自定义字段、角色、权限和通知方案。我们在本节中展示的简单示例应该能让您充分理解这个有用插件的使用。
- en: After moving the configurations and creating a blank project by the Configuration
    Manager add-on, you can now perform data migration using the **Project Import**
    utility that we discussed earlier in this chapter. This add-on can save hundreds
    of man hours by avoiding the manual recreation of your configurations.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在通过配置管理器插件迁移配置并创建空白项目后，您现在可以使用我们在本章早些时候讨论的**项目导入**工具进行数据迁移。这个插件可以节省数百个工时，避免手动重新创建配置。
- en: Summary
  id: totrans-175
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you learned how to import and export data into JIRA. We started
    with understanding how to take a backup of the entire JIRA instance. You also
    learned how to restore the instance from this backup. We also looked at scenarios
    where you want to import selected projects from the backup file. We spent considerable
    time understanding how to migrate data to JIRA using the CSV file, which provides
    a lot of flexibility in importing not only simple data, but also complex data
    with subtasks and attachments as well. Finally, we also understood how to use
    the Configuration Manager add-on in order to easily migrate configurations from
    one instance of JIRA to another.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您学习了如何将数据导入和导出到JIRA。我们首先了解了如何备份整个JIRA实例，您还学习了如何从备份中恢复实例。我们还讨论了如何从备份文件中导入选定的项目。我们花费了相当的时间来理解如何使用CSV文件将数据迁移到JIRA，CSV文件提供了在导入简单数据以及包含子任务和附件的复杂数据时的灵活性。最后，我们还了解了如何使用配置管理器插件，轻松地将配置从一个JIRA实例迁移到另一个实例。
- en: In the next chapter, we will understand how to implement Scrum and Kanban methodologies
    in JIRA using a powerful add-on from Atlassian called **JIRA Agile** for Agile
    tracking. This chapter will cover two scenarios of both techniques. We will discuss
    how to set up and configure the board, and most importantly how to analyze reports.
    You will also learn these two Agile techniques and basic concepts with practical
    examples.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将了解如何使用Atlassian提供的强大插件**JIRA Agile**在JIRA中实施Scrum和Kanban方法论，用于敏捷追踪。本章将涵盖这两种技术的两种场景。我们将讨论如何设置和配置看板，最重要的是如何分析报告。您还将通过实际示例学习这两种敏捷技术和基本概念。
