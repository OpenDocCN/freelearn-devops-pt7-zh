- en: Jira Troubleshooting and Administration
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Jira 故障排除与管理
- en: In the previous chapters, we looked at Jira's different customization options.
    As we have seen, Jira can be a complex system, especially as the number of customizations
    increases. This can be a headache for administrators when users run into problems
    and require support.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在前几章中，我们已经探讨了 Jira 的不同自定义选项。正如我们所看到的，Jira 是一个复杂的系统，特别是随着自定义项的增多。对于管理员来说，当用户遇到问题并需要支持时，这可能成为一个头疼的问题。
- en: In this chapter, we will how learn to use tools for troubleshooting Jira configuration
    issues that easily pinpoint the cause of the problem. We will also look at other
    tools that can help you, as an administrator, to be more efficient at diagnosing
    and fixing issues, as well as supporting your users.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将学习如何使用工具来排查 Jira 配置问题，这些工具能轻松找出问题的根源。我们还将介绍其他能帮助你作为管理员提高效率的工具，帮助诊断和修复问题，并为用户提供支持。
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下内容：
- en: Troubleshooting notifications
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 故障排除通知
- en: Troubleshooting permissions
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 故障排除权限
- en: Troubleshooting field configurations
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 故障排除字段配置
- en: Running Jira in safe mode
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在安全模式下运行 Jira
- en: Importing data from other issue trackers
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从其他问题跟踪系统导入数据
- en: Automating tasks in Jira
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Jira 中自动化任务
- en: Running scripts in Jira
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Jira 中运行脚本
- en: Switching user sessions in Jira
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Jira 中切换用户会话
- en: Working with Jira from the command line
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用命令行操作 Jira
- en: Viewing Jira logs online
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在线查看 Jira 日志
- en: Managing shared filters and dashboards
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理共享筛选器和仪表板
- en: Troubleshooting notifications
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 故障排除通知
- en: In this recipe, we will look at how to troubleshoot problems related to notifications,
    such as determining whether a user is receiving notifications for an issue and
    determining the reason why a user might not be receiving notifications.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 本节将介绍如何排查与通知相关的问题，例如确定用户是否收到某个问题的通知，以及确定用户未收到通知的原因。
- en: How to do it...
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to troubleshoot notification problems in Jira:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤排查 Jira 中的通知问题：
- en: Navigate to Administration > **System** > **Notification Helper**.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至 **管理** > **系统** > **通知助手**。
- en: Select the user that is not receiving the notifications as expected.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择未按预期接收到通知的用户。
- en: Select the issue for which the user is expected to receive notifications.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择用户应接收通知的问题。
- en: Select the notification event that should trigger the notification.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择应触发通知的通知事件。
- en: Click on Submit to start troubleshooting.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“提交”以开始故障排除。
- en: You can also run the **Notification Helper** tool from the Admin menu while
    viewing an issue.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以在查看问题时，从管理员菜单运行 **通知助手** 工具。
- en: How it works...
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The Notification Helper tool works by looking at the notification scheme settings
    that are used by the project of the selected issue, and it verifies whether the
    selected user matches one of the notifications.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 通知助手工具通过查看所选问题的项目所使用的通知方案设置来工作，并验证所选用户是否符合其中一项通知。
- en: 'Let''s take a look at the following screenshot:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看下面的截图：
- en: '![](img/be1d7a9b-afb6-4e85-a480-d704d4e61682.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](img/be1d7a9b-afb6-4e85-a480-d704d4e61682.png)'
- en: The user, Christine Johnson, should not receive notifications about the HUM-14 issue,
    because she is not the reporter, assignee, or a watcher of the issue.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 用户 **Christine Johnson** 不应接收到有关 HUM-14 问题的通知，因为她既不是报告人，也不是指派人，也不是该问题的观察者。
- en: There's more...
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多内容...
- en: Of course, other than your notification scheme settings, you will also want
    to check that your Jira is able to send outgoing emails successfully (refer to
    the *Setting up an outgoing mail server* recipe in [Chapter 6](de142fbf-5c35-4240-9581-1c12d1eddbdd.xhtml), *Emails
    and Notifications*), and also that the notification emails are not being filtered
    out to the user's spam folder.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，除了你的通知方案设置外，你还需要检查 Jira 是否能够成功发送外发邮件（参见 [第 6 章](de142fbf-5c35-4240-9581-1c12d1eddbdd.xhtml)中的
    *设置外发邮件服务器* 章节，*电子邮件和通知*），并且确保通知邮件没有被过滤到用户的垃圾邮件文件夹。
- en: Troubleshooting permissions
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 故障排除权限
- en: In this recipe, we will look at how to troubleshoot problems caused by permission settings,
    such as a user being unable to view an issue.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本节将介绍如何排查由于权限设置导致的问题，例如用户无法查看问题。
- en: How to do it...
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to troubleshoot permission problems in Jira:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤排查 Jira 中的权限问题：
- en: Navigate to **Administration** > System > Permission Helper.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至 **管理** > 系统 > 权限助手。
- en: Select the affected user.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择受影响的用户。
- en: Select the issue for which the user is expected to have permissions.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择用户预期有权限的相关问题。
- en: Select the permission type that the user should have access to.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择用户应当访问的权限类型。
- en: Click on **Submit **to start troubleshooting.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**提交**以开始排查问题。
- en: You can also run the **Permission Helper** tool from the Admin menu while viewing
    an issue.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以在查看问题时，从**权限助手**工具中通过管理菜单运行它。
- en: How it works...
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The Permission Helper tool works by looking at both the permission scheme and
    the security scheme settings that are used by the selected issue. It verifies
    whether the selected user has the required permissions for the necessary action.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 权限助手工具通过查看选定问题的权限方案和安全方案设置来工作。它验证所选用户是否具备执行必要操作所需的权限。
- en: 'As shown in the following screenshot, the user Eric Lin does not have the ability
    to delete the HUM-10 issue because he does not have the Administrators project
    role for the project:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，用户Eric Lin没有权限删除HUM-10问题，因为他在该项目中没有管理员角色：
- en: '![](img/355d81f5-44e1-4d26-9aad-de9e621e4d7a.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](img/355d81f5-44e1-4d26-9aad-de9e621e4d7a.png)'
- en: This completes our recipe.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了我们的教程。
- en: Troubleshooting field configurations
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 排查字段配置问题
- en: In this recipe, we will determine why a given field is not displayed while viewing
    an issue and look at how to troubleshoot it.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将确定为什么在查看问题时某个字段没有显示，并且查看如何排查问题。
- en: How to do it...
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to troubleshoot why a field is not being displayed:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤排查字段未显示的原因：
- en: Navigate to the issue that has missing fields.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到缺失字段的相关问题。
- en: 'Select the Where is my field?option from the Admin menu:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从管理菜单中选择“我的字段在哪里？”选项：
- en: '![](img/2f707882-326c-4b1e-bae0-8252ff1afaad.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2f707882-326c-4b1e-bae0-8252ff1afaad.png)'
- en: Select the field that is missing to start troubleshooting.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择缺失的字段开始排查问题。
- en: How it works...
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'The **Field Helper** tool examines field-related configurations, including
    the following:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**字段助手**工具检查与字段相关的配置，包括以下内容：'
- en: '**Field context**: This checks whether the field is a custom field. The tool
    will then check whether the field has a context that matches the current project
    and issue type combinations.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段上下文**：这会检查该字段是否为自定义字段。然后，工具会检查该字段是否有与当前项目和问题类型组合匹配的上下文。'
- en: '**Field configuration**: This verifies that the field is set to Hidden.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段配置**：这会验证该字段是否设置为“隐藏”。'
- en: '**Screens**: This verifies whether the field is placed on the current screen
    based on the screen scheme and issue type screen scheme.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**屏幕**：这会验证字段是否根据屏幕方案和问题类型屏幕方案放置在当前屏幕上。'
- en: '**Field data**: This verifies whether the current issue has a value for the
    field, as custom fields without a value will often not be displayed.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段数据**：这会验证当前问题是否为字段提供了值，因为没有值的自定义字段通常不会显示。'
- en: 'Let''s look at the following screenshot:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一下以下截图：
- en: '![](img/5593cbf5-054b-4bf8-8ae6-05cb98d430c0.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5593cbf5-054b-4bf8-8ae6-05cb98d430c0.png)'
- en: Total Comments is a custom field, and the reason it isn't displayed is that
    it has not been added to the screen.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: “总评论”是一个自定义字段，未显示的原因是它没有被添加到屏幕上。
- en: Running Jira in safe mode
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在安全模式下运行Jira
- en: When you have different people installing apps in Jira, you can, at times, run
    into problems, but you might be unsure as to which app has caused a certain problem.
    In these cases, you can use the process of elimination by first disabling all
    the apps and re-enabling them one at a time.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在Jira中有不同的人安装应用时，有时会遇到问题，但你可能不确定哪个应用程序导致了某个特定问题。在这种情况下，你可以通过逐一禁用所有应用并重新启用它们的过程来进行排除。
- en: Getting ready
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Enabling safe mode will impact on your users, so make sure you plan accordingly
    before doing so.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 启用安全模式会影响到你的用户，因此在操作之前，请确保做好相应的计划。
- en: How to do it...
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to enable safe mode:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤启用安全模式：
- en: Navigate to Administration > **System** > Manage apps.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 管理 > **系统** > 管理应用程序。
- en: Click on the Enter safe modelink at the bottom of the page.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面底部的“进入安全模式”链接。
- en: Click on **Enter safe mode **when you are prompted to confirm the operation.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当系统提示时，点击**进入安全模式**以确认操作。
- en: 'The window looks like the following screenshot:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 窗口看起来像下图所示：
- en: '![](img/6e780545-acf0-4b51-accc-71f355b3d5b9.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6e780545-acf0-4b51-accc-71f355b3d5b9.png)'
- en: This completes the steps for our recipe.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了我们教程的步骤。
- en: How it works...
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The **Universal Plugin Manager** (**UPM**) is what Jira uses to manage all its
    apps. Other than being the interface that allows you to upload and install third-party
    apps (unless instructed otherwise), it also provides a number of other useful
    administrative features.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '**通用插件管理器**（**UPM**）是 Jira 用来管理所有应用的工具。除了作为允许你上传和安装第三方应用的界面（除非另有指示），它还提供了其他一些有用的管理功能。'
- en: When you enable safe mode, the UPM will disable all user-installed apps, which
    returns Jira to a vanilla state. You can then individually enable each app, thereby
    finding the problematic app via the process of elimination.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 启用安全模式时，UPM 将禁用所有用户安装的应用，从而使 Jira 恢复到默认状态。你可以逐个启用每个应用，通过排除法找出有问题的应用。
- en: There's more...
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: The UPM also provides an audit feature, which keeps track of all the changes
    related to the apps. You can simply click on the Audit log link at the bottom
    of the page and the UPM will display a list of changes made in the last 90 days.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: UPM 还提供了审计功能，能够跟踪与应用相关的所有更改。你可以点击页面底部的“Audit log”链接，UPM 将显示过去 90 天内的所有更改列表。
- en: Importing data from other issue trackers
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从其他问题跟踪系统导入数据
- en: If you have another issue tracker and are thinking about switching to Jira,
    you can often easily migrate your existing data into Jira with its built-in import
    tool.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有其他问题跟踪系统，并且考虑迁移到 Jira，你通常可以通过其内置的导入工具轻松地将现有数据迁移到 Jira。
- en: In this recipe, we will look at how to import data from Bitbucket's issue tracker.
    Jira supports the importing of data from other issue trackers, such as **Bugzilla**
    and **GitHub**, and as a CSV file. As we will see, the process is almost identical,
    so this recipe can be applied to these other systems too.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们将介绍如何从 Bitbucket 的问题跟踪系统导入数据。Jira 支持从其他问题跟踪系统（如 **Bugzilla** 和 **GitHub**）以及
    CSV 文件导入数据。正如我们所看到的，整个过程几乎相同，因此这个方法也适用于这些其他系统。
- en: How to do it...
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to import data from other issue trackers, such
    as Bitbucket, into Jira:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤将数据从其他问题跟踪系统（如 Bitbucket）导入到 Jira：
- en: Navigate to Administration > System > External System Import.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至“Administration > System > External System Import”。
- en: Select the source's issue tracker system. We will select Bitbucketfor this recipe.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择源系统的 issue tracker。我们将在这个食谱中选择 Bitbucket。
- en: 'Click on the Next button to authorize the Jira importer to access data from
    Bitbucket, and when prompted, click on Authorize:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“Next”按钮，授权 Jira 导入工具访问 Bitbucket 数据，并在提示时点击“Authorize”：
- en: '![](img/2eeb31c3-2d37-48de-9b88-e980cba14add.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2eeb31c3-2d37-48de-9b88-e980cba14add.png)'
- en: Map projects from Bitbucket to Jira projects. Check the Don't import this projectoption
    for those projects that you do not want to import to Jira. Click on Next to continue,
    as shown in the following screenshot.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Bitbucket 项目映射到 Jira 项目。对于不想导入到 Jira 的项目，勾选“Don't import this project”选项。点击“Next”继续，如下图所示。
- en: 'After you have clicked on Next, Jira will query Bitbucket to get an export
    of settings, such as fields and values, so that they can be used to map the Jira
    counterparts. This process may take a few minutes, depending on the size of your
    Bitbucket project:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“Next”后，Jira 将查询 Bitbucket，获取设置的导出数据，如字段和值，以便映射到 Jira 对应项。这一过程可能需要几分钟，具体取决于
    Bitbucket 项目的大小：
- en: '![](img/8edf7a07-62e1-43d6-80b9-c3b78b649312.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8edf7a07-62e1-43d6-80b9-c3b78b649312.png)'
- en: 'Select the fields from Bitbucket that you want to manually map to the Jira
    field values. Click on Nextto continue:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你希望手动映射到 Jira 字段值的 Bitbucket 字段。点击“Next”继续：
- en: '![](img/8b33f2f2-9981-49de-a1ac-8c98f6b02285.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8b33f2f2-9981-49de-a1ac-8c98f6b02285.png)'
- en: 'Map the field values from Bitbucket to the field values of the Jira fields,
    as shown in the following screenshot. Click on Nextto continue:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Bitbucket 的字段值映射到 Jira 字段的对应值，如下图所示。点击“Next”继续：
- en: '![](img/eecf94dd-3185-4090-bb9a-75a4dec4ead5.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](img/eecf94dd-3185-4090-bb9a-75a4dec4ead5.png)'
- en: 'Map Bitbucket''s link types to the Jira issue link types. Click on Begin Importto
    start importing data into Jira, as seen in the following screenshot:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Bitbucket 的链接类型映射到 Jira 的问题链接类型。点击“Begin Import”开始将数据导入到 Jira，如下图所示：
- en: '![](img/40f54fa0-c41e-4d1c-9761-ae9d1a594649.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/40f54fa0-c41e-4d1c-9761-ae9d1a594649.png)'
- en: 'Review the import result. You can click on the download a detailed loglink
    to get a full log of the process if the import has failed. You can also click
    on the save the configuration link to get a copy of the mapped files so that you
    do not have to remap everything from scratch next time:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看导入结果。如果导入失败，您可以点击下载详细日志链接，以获取完整的过程日志。您还可以点击保存配置链接，获取映射文件的副本，以便下次无需重新映射一切：
- en: '![](img/e1f3d55d-99a9-47e3-8c29-839092b7b69a.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e1f3d55d-99a9-47e3-8c29-839092b7b69a.png)'
- en: We will now look at how the steps work.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看看这些步骤是如何工作的。
- en: How it works...
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 其工作原理...
- en: 'Jira has a common wizard interface for all the different issue tracker importers.
    While each importer is unique in its own way, they all follow the same basic steps,
    as described in the following list:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: Jira为所有不同的任务跟踪器导入器提供了统一的向导界面。虽然每个导入器都有其独特之处，但它们都遵循相同的基本步骤，如下所述：
- en: '**Configuring the target data source**: This step is where the target issue
    tracker''s data is retrieved. It can be direct database access in the case of
    Bugzilla or it can be over the internet in the case of Bitbucket.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配置目标数据源**：此步骤是从目标问题跟踪器中检索数据的过程。在Bugzilla的情况下，它可以是直接的数据库访问，在Bitbucket的情况下，则是通过互联网进行访问。'
- en: '**Selecting a project to import to**: This is where we have to choose the issues
    that are to be imported to either an existing project or a new project.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择要导入的项目**：在这里，我们需要选择要导入到现有项目还是新项目的任务。'
- en: '**Mapping the target system''s fields to Jira fields**: This is where the target
    issue maps the tracker''s fields to the corresponding Jira fields. Custom fields
    can be automatically created as part of the process.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**将目标系统的字段映射到Jira字段**：在这里，目标问题跟踪器将其字段映射到相应的Jira字段。自定义字段可以作为过程的一部分自动创建。'
- en: '**Mapping a target system''s field values to Jira field values**: This maps
    the field data based on the previous field mappings. It is usually required for
    selecting list-based fields, such as priority, issue status, and custom fields.'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**将目标系统的字段值映射到Jira字段值**：根据之前的字段映射进行字段数据映射。通常在选择基于列表的字段时需要此步骤，如优先级、任务状态和自定义字段。'
- en: '**Mapping the issue link types**: This step is optional depending on whether
    the target issue tracker supports linking. If it does, those link types will need
    to be mapped to the Jira issue link types.'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**映射问题链接类型**：这一步是可选的，取决于目标问题跟踪器是否支持链接。如果支持，必须将这些链接类型映射到Jira问题链接类型。'
- en: Although the Jira importer is able to handle most instances where the data mapping
    is straightforward, for bigger instances with complex mapping requirements, such
    as project merging and conditional mapping, it is recommended that you engage
    an Atlassian Expert ([https://www.atlassian.com/resources/experts](https://www.atlassian.com/resources/experts))
    to handle the migration rather than relying on the importer alone.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然Jira导入器能够处理大多数数据映射简单的情况，但对于数据映射要求较复杂的大型实例，如项目合并和条件映射，建议您聘请一位Atlassian专家（[https://www.atlassian.com/resources/experts](https://www.atlassian.com/resources/experts)）来处理迁移，而不是仅依赖导入器。
- en: There's more...
  id: totrans-110
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: If there are no import options available for your issue tracker, you can also
    try to export your data in CSV format and then use the built-in CSV importer to
    import the data.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的问题跟踪器没有可用的导入选项，您也可以尝试将数据导出为CSV格式，然后使用内置的CSV导入器导入数据。
- en: Automating tasks in Jira
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Jira中自动化任务
- en: As an administrator, being able to automate tasks is often a very important
    part of your job. You will often need to have some programming skills in order
    to take advantage of some of the automation facilities provided by Jira out of
    the box, such as **listeners** and **services**. Luckily, there are now tools
    that can help you with automation without you needing to know any programming.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 作为管理员，能够自动化任务通常是您工作中非常重要的一部分。您通常需要具备一些编程技能，以便利用Jira提供的自动化功能，如**监听器**和**服务**。幸运的是，现在有一些工具可以帮助您进行自动化，而无需您了解编程。
- en: In this recipe, we will set up an automated task where Jira will periodically
    check for issues that have not been updated in 7 days, close them, and add a comment.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个操作步骤中，我们将设置一个自动化任务，让Jira定期检查7天内未更新的任务，关闭它们并添加评论。
- en: Getting ready
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, we need to have the** Automation for Jira **app installed.
    You can download it from [https://marketplace.atlassian.com/apps/1215460/automation-for-jira](https://marketplace.atlassian.com/apps/1215460/automation-for-jira) and
    install it using the UPM.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个示例，我们需要安装**Automation for Jira**应用。您可以从[https://marketplace.atlassian.com/apps/1215460/automation-for-jira](https://marketplace.atlassian.com/apps/1215460/automation-for-jira)下载并使用UPM安装它。
- en: How to do it...
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to set up an automated task:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤设置自动化任务：
- en: Navigate to Administration > System > Automation rules.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到 Administration > System > Automation rules。
- en: Click on the Create rulebutton.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“创建规则”按钮。
- en: Select the `Scheduled` trigger for the new automation rule.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择新自动化规则的`Scheduled`触发器。
- en: Enter how often the automation task should run. We want our task to run once
    every day, so enter `1`.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入自动化任务应运行的频率。我们希望任务每天运行一次，因此输入`1`。
- en: 'Enter the `project = "Support Desk" and updated <= 7d` JQL query so that the
    automation task will know which issues it should affect:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`project = "Support Desk" and updated <= 7d` JQL查询，以便自动化任务知道它应该影响哪些问题：
- en: '![](img/7a452bc6-9a0c-48c4-b0a0-6335c297af5a.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7a452bc6-9a0c-48c4-b0a0-6335c297af5a.png)'
- en: Click on the Save button to save the trigger configuration.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存”按钮以保存触发器配置。
- en: With the trigger configured, we now need to select an action. Since we want
    to close issues, we will select the New action option.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置好触发器后，我们现在需要选择一个动作。由于我们想要关闭问题，因此我们将选择“新建动作”选项。
- en: Select the Transition issue action type.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“转换问题”操作类型。
- en: 'Select the destination status to transition affected issues when the automation
    task runs. We want to close issues, so select the Done status. If your workflow
    uses a different status, select that instead:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择目标状态，以便在自动化任务运行时转换受影响的问题。我们想关闭问题，所以选择“完成”状态。如果您的工作流使用的是不同的状态，请选择该状态：
- en: '![](img/37194869-d627-4846-a605-6156fad13dd6.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/37194869-d627-4846-a605-6156fad13dd6.png)'
- en: If your workflow requires additional fields to be set, you can also set them
    here by selecting the fields from the Choose fields to set… drop-down menu.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您的工作流需要设置额外的字段，您也可以通过从“选择要设置的字段”下拉菜单中选择字段来在这里进行设置。
- en: Click the Save button to save our changes.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“保存”按钮以保存我们的更改。
- en: Enter a name for our new automation task, such as Close old issues, and click
    on the Turn it on button.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为我们的新自动化任务输入名称，例如“关闭旧问题”，然后点击“开启”按钮。
- en: 'Your completed automation task should look something like the following:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 您完成的自动化任务应该像下面这样：
- en: '![](img/66a1c653-651a-48d5-b24e-da31fb866d89.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/66a1c653-651a-48d5-b24e-da31fb866d89.png)'
- en: It's time to look at how these steps work.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候了解这些步骤是如何工作的了。
- en: How it works...
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'In its most basic form, an automation rule consists of two components: the
    trigger and the action. The trigger will determine when the automation task will
    run. There are three built-in trigger types:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在其最基本的形式下，一个自动化规则由两个组件组成：触发器和动作。触发器将决定自动化任务何时运行。共有三种内置的触发器类型：
- en: '**Issue triggers**: These triggers run when the corresponding issue fires an
    event, usually when issues are updated in some way, such as during issue updates
    and workflow transitions.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Issue triggers（问题触发器）**：这些触发器会在相应问题触发事件时运行，通常是在问题以某种方式更新时，例如在问题更新和工作流转换时。'
- en: '**Scheduled**: This trigger type will automatically run on a predetermined
    time frame. You can use the simple form, as we have in this recipe, to specify
    the frequency, or you can use a *cron* expression to specify the exact hour, minute,
    and second.'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Scheduled**：此触发器类型将在预定的时间框架内自动运行。您可以像我们在本例中那样使用简单的形式来指定频率，或者您可以使用*cron*表达式来指定确切的小时、分钟和秒。'
- en: '**Integrations:** This trigger type creates a webhook URL. When an external
    system makes an HTTP `POST` request to the URL, the trigger will run.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Integrations（集成）**：此触发器类型会创建一个Webhook URL。当外部系统向该URL发出HTTP `POST`请求时，触发器将被触发。'
- en: The **action** is what will happen when a trigger runs. A trigger can run more
    than one action. An action can perform operations, including making changes to
    issue data, sending email notifications, and sending outgoing HTTP `POST` requests.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**Action**（动作）是在触发器运行时会发生的事情。一个触发器可以运行多个动作。动作可以执行各种操作，包括更改问题数据、发送电子邮件通知和发送外部HTTP
    `POST`请求。'
- en: You can add more advanced components to your automation rule to have conditional
    branching and execution. For example, when a trigger is run, you can run one action
    for issues of type Bug, and another action for issues of type Story. You can also
    chain your automation rules so that one rule has a trigger based on a webhook,
    and you can have another rule with an action that makes an HTTP `POST` to that
    webhook URL to trigger it.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以向自动化规则中添加更多高级组件，以实现条件分支和执行。例如，当触发器运行时，您可以为Bug类型的任务执行一个操作，为Story类型的任务执行另一个操作。您还可以将自动化规则串联起来，使一个规则基于webhook触发，然后您可以设置另一个规则，其中包含一个操作，该操作向该webhook
    URL发送HTTP `POST`请求以触发它。
- en: With our automation rule, we have set up a trigger to run once every day. We
    then used a JQL query to select only the issues in the Support Desk project that
    have not been updated in the last 7 days since the task was run. We then added
    an action for the trigger to transition all the issues returned from the JQL query
    to Done.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 使用我们的自动化规则，我们设置了一个触发器，使其每天运行一次。然后，我们使用JQL查询选择了在过去7天内自任务执行以来未更新的所有Support Desk项目中的任务。接着，我们为触发器添加了一个操作，将所有从JQL查询返回的任务转换为Done状态。
- en: Running scripts in Jira
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Jira中运行脚本
- en: Jira provides an app framework for people with programming skills to create
    apps to extend its features or perform tasks that would otherwise be impossible
    or tedious;  however, even with this functionality, it is sometimes overkill to
    create a full-blown app for what may seem like a simple task. The good news is
    that there is an option for you to write or program scripts that can take advantage
    of what the API offers without the burden of full app development.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: Jira为具有编程技能的人提供了一个应用框架，可以创建应用以扩展其功能或执行那些否则不可能或繁琐的任务；然而，即便具备了这个功能，有时创建一个完整的应用来完成看似简单的任务也是一种过度的做法。好消息是，您可以编写或编程脚本，利用API提供的功能，而不必承担开发完整应用的负担。
- en: In this recipe, we will create a Groovy script that will share a number of search
    filters by adding them as favorites for everyone in Jira—a task that would otherwise
    take a lot of time if done manually.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们将创建一个Groovy脚本，通过将搜索过滤器作为收藏项添加给Jira中的每个人来共享多个搜索过滤器——这个任务如果手动完成会花费大量时间。
- en: Getting ready
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, we need to have ScriptRunner for the Jira app installed. You
    can download it from [https://marketplace.atlassian.com/plugins/com.onresolve.jira.groovy.groovyrunner](https://marketplace.atlassian.com/plugins/com.onresolve.jira.groovy.groovyrunner) and
    install it with the UPM.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，我们需要安装ScriptRunner for Jira应用。您可以从 [https://marketplace.atlassian.com/plugins/com.onresolve.jira.groovy.groovyrunner](https://marketplace.atlassian.com/plugins/com.onresolve.jira.groovy.groovyrunner) 下载并通过UPM进行安装。
- en: How to do it...
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'Go through the following steps to run a custom Groovy script in Jira (note
    that you will need to update the filter IDs accordingly):'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤在Jira中运行自定义的Groovy脚本（请注意，您需要根据情况更新过滤器ID）：
- en: Navigate to Administration > Manage apps > Script Console.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入 Administration > Manage apps > Script Console。
- en: 'Copy the following script into the Script text area:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下脚本复制到Script文本框中：
- en: '[PRE0]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Switch the filter IDs (`searchRequestIds`) and group name (`shareWith`) based
    on your data. You can get filter IDs by running your filter, and the ID will be
    in your browser's address bar.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据您的数据，切换过滤器ID（`searchRequestIds`）和组名（`shareWith`）。您可以通过运行您的过滤器来获取过滤器ID，ID会显示在浏览器的地址栏中。
- en: Click on Run to execute the script.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 Run来执行脚本。
- en: 'The Script Console window is shown in the following screenshot:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了Script Console窗口：
- en: '![](img/097cb7f0-94a5-47f1-aa61-589ef1e5117d.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/097cb7f0-94a5-47f1-aa61-589ef1e5117d.png)'
- en: You can see the information being displayed in the console.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在控制台中看到正在显示的信息。
- en: How it works...
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: The ScriptRunner for Jira app allows you to run Groovy scripts inside Jira.
    Since both Java (what Jira is built with) and Groovy can run on the JVM, you will
    have access to all the components and APIs that Jira exposes to developers.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: ScriptRunner for Jira应用允许您在Jira中运行Groovy脚本。由于Jira是用Java编写的，而Groovy也可以在JVM上运行，因此您将能够访问Jira向开发者公开的所有组件和API。
- en: In the script, we list a number of search filters by their IDs (these filters
    need to be shared so that other users can favorite them), loop through them, and
    add each ID as a favorite to the users in the `jira-software-users` group, all
    done using Jira's public API.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在脚本中，我们通过ID列出多个搜索过滤器（这些过滤器需要共享，以便其他用户可以将其添加为收藏），循环遍历它们，并将每个ID作为收藏项添加到`jira-software-users`组中的用户，所有这些都通过Jira的公共API完成。
- en: Switching user sessions in Jira
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Jira中切换用户会话
- en: You will often have problems that only happen to a particular user. In these
    cases, you will have to either sit next to the user in order to see and understand
    the problem or reset the user's password and log in as that user.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 您经常会遇到仅发生在特定用户身上的问题。在这种情况下，您需要坐在该用户旁边以便查看和理解问题，或者重置该用户的密码并以该用户身份登录。
- en: In this recipe, we will learn how you can switch your current session to any
    other user's session without having to reset or get hold of the user's password.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个教程中，我们将学习如何在不重置或获取用户密码的情况下，将您的当前会话切换到任何其他用户的会话。
- en: Getting ready
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, we need to have the **SU** (short for **switch user**) for
    Jira app installed. You can download it from [https://marketplace.atlassian.com/plugins/com.dolby.atlassian.jira.jirasu ](https://marketplace.atlassian.com/plugins/com.dolby.atlassian.jira.jirasu)and
    install it with the UPM.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个教程，我们需要安装 **SU**（即 **switch user**）for Jira 应用。您可以从 [https://marketplace.atlassian.com/plugins/com.dolby.atlassian.jira.jirasu](https://marketplace.atlassian.com/plugins/com.dolby.atlassian.jira.jirasu)
    下载并通过 UPM 安装它。
- en: How to do it...
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To switch (SU) to a different user, go through the following steps:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 要切换（SU）到其他用户，请按照以下步骤操作：
- en: Navigate to **Administration >** **User management** > Users
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至 **管理 > 用户管理 > 用户**
- en: 'Click the SU link for the user you want to switch to:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您想切换到的用户的 SU 链接：
- en: '![](img/ed68cd01-868c-4f89-b058-d7afb88ed07c.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ed68cd01-868c-4f89-b058-d7afb88ed07c.png)'
- en: After you have selected the user, your current user session will be switched
    to that user, with the same configurations and permissions applied. After you
    are done, you can switch back by selecting the SU Exit option from the SU menu
    item from the top navigation bar.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在您选择了用户后，当前用户会话将切换到该用户，并应用相同的配置和权限。完成后，您可以通过从顶部导航栏的 SU 菜单项中选择 SU 退出选项来切换回来。
- en: How it works...
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The SU for Jira app works by changing your current user session to the user
    of your choice, then, from Jira's point of view, you have effectively logged in
    (without having to supply the user's password) as the selected user.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: SU for Jira 应用通过将当前用户会话切换到您选择的用户来工作，然后从 Jira 的角度来看，您实际上是以所选用户身份登录（无需提供该用户的密码）。
- en: Now that you understand this, it should be obvious that this technique could
    be potentially misused in the wrong hands. You can restrict access to the SU functionality
    by going to the UPM and clicking on the Configure button of the SU for Jira app.
    This will then allow you to restrict access to selected groups.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 既然您了解了这一点，应该很明显，这种技术可能在错误的手中被滥用。您可以通过访问 UPM 并点击 SU for Jira 应用的配置按钮来限制对 SU 功能的访问。这将允许您限制对特定组的访问。
- en: One useful feature is its audit log. Every time someone uses the SU function,
    it is logged in the system, so administrators can always go and check if someone
    has been abusing it. You can access the SU Audit Log by navigating to Administration
    > System > SU Audit Log.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 一个有用的功能是审计日志。每当有人使用 SU 功能时，系统会记录下来，因此管理员可以随时检查是否有人在滥用该功能。您可以通过导航至 **管理 > 系统
    > SU 审计日志** 来访问 SU 审计日志。
- en: Working with Jira from the command line
  id: totrans-177
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从命令行使用 Jira
- en: We normally interact with Jira via the browser, but sometimes it is useful to
    be able to use the command line, especially for administrative tasks or writing
    shell scripts.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通常通过浏览器与 Jira 交互，但有时能够使用命令行也很有用，尤其是对于管理任务或编写 shell 脚本时。
- en: In this recipe, we will use the command line to create new users in Jira.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个教程中，我们将使用命令行在 Jira 中创建新用户。
- en: Getting ready
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you need to have the **Atlassian** **Command Line Interface** (**CLI**)
    tool available on your workstation. You can download it from [https://marketplace.atlassian.com/plugins/org.swift.atlassian.cli](https://marketplace.atlassian.com/plugins/org.swift.atlassian.cli).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个教程，您需要在工作站上安装 **Atlassian** **命令行界面**（**CLI**）工具。您可以从 [https://marketplace.atlassian.com/plugins/org.swift.atlassian.cli](https://marketplace.atlassian.com/plugins/org.swift.atlassian.cli)
    下载。
- en: How to do it...
  id: totrans-182
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: To use the Atlassian CLI tool, we first need to install it by unzipping it to
    a convenient location on your workstation. Next, update the `jira.sh` (for Unix)
    or `jira.bat` (for Windows) file to add Jira's details.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Atlassian CLI 工具，我们首先需要将其解压到工作站的一个便捷位置。接下来，更新 `jira.sh`（适用于 Unix）或 `jira.bat`（适用于
    Windows）文件，以添加 Jira 的详细信息。
- en: 'For example, as shown in the following command, Jira is running on `http://localhost:8080`,
    and the administrator credential is `admin_user` with `admin_password` as the
    password:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如下命令所示，Jira 运行在 `http://localhost:8080` 上，管理员凭证为 `admin_user`，密码为 `admin_password`：
- en: '[PRE1]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'So, now that we have everything set up, we can run the following command to create a
    new user in Jira:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，既然我们已做好一切准备，可以运行以下命令在 Jira 中创建新用户：
- en: '[PRE2]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'You should get the following response:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您应该得到以下响应：
- en: '[PRE3]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: How it works...
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: The Atlassian CLI tool works by accessing Jira features and functions via its
    remote SOAP and REST API.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: Atlassian CLI 工具通过其远程 SOAP 和 REST API 访问 Jira 的功能和特性。
- en: We updated the Jira script file with Jira details, so we don't have to specify
    them every time; this is useful if we want to use the tool in a script. When we
    run the Jira script, it will have all the necessary connection information.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 我们更新了 Jira 脚本文件中的 Jira 详情，因此每次都不需要指定这些信息；如果我们想在脚本中使用该工具，这将非常有用。当我们运行 Jira 脚本时，它将包含所有必要的连接信息。
- en: The Atlassian CLI comes with a list of command actions, such as the `addUser` action
    that we used to create users in Jira. You can get a full list of actions from [https://bobswift.atlassian.net/wiki/display/JCLI/Documentation](https://bobswift.atlassian.net/wiki/display/JCLI/Documentation).
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: Atlassian CLI 附带了一系列命令操作，例如我们用来在 Jira 中创建用户的 `addUser` 操作。您可以从 [https://bobswift.atlassian.net/wiki/display/JCLI/Documentation](https://bobswift.atlassian.net/wiki/display/JCLI/Documentation)
    获取完整的操作列表。
- en: Viewing Jira logs online
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在线查看 Jira 日志
- en: Often, when an error occurs, you, as the administrator, will need to examine
    the Jira log files to pinpoint the exact problem. Normally, in order to get access
    to the logs, you will need to either SSH into the server or download the file
    using an FTP client. In a locked-down environment, you will have to request this
    via your IT team, which could lead to a long turnaround time.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，当发生错误时，作为管理员，您需要检查 Jira 日志文件以确定问题的根源。通常，您需要通过 SSH 登录服务器或使用 FTP 客户端下载文件才能访问日志。在一个封闭的环境中，您将需要通过
    IT 团队请求，这可能会导致较长的响应时间。
- en: In this recipe, we will look at how you can access and search through your Jira
    log files, all from the browser.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们将看看如何通过浏览器访问和搜索您的 Jira 日志文件。
- en: Getting ready
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, we need to have the** Last Log for Jira** app installed. You
    can download it from [https://marketplace.atlassian.com/apps/1211604/last-log-for-jira?hosting=server&tab=overview](https://marketplace.atlassian.com/apps/1211604/last-log-for-jira?hosting=server&tab=overview) and
    install it with the UPM.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，我们需要安装 **Last Log for Jira** 应用。您可以从 [https://marketplace.atlassian.com/apps/1211604/last-log-for-jira?hosting=server&tab=overview](https://marketplace.atlassian.com/apps/1211604/last-log-for-jira?hosting=server&tab=overview)
    下载并通过 UPM 安装它。
- en: How to do it...
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'Go through the following steps to access the Jira log files from the browser:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 请按照以下步骤通过浏览器访问 Jira 日志文件：
- en: Navigate to Administration > Manage apps > View log.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航至 管理 > 管理应用 > 查看日志。
- en: Select the log file to view from the log-file drop-down.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从日志文件下拉菜单中选择要查看的日志文件。
- en: 'Enter the text string to search the selected log file. If matches are found,
    they will be highlighted, as shown in the following screenshot:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入要搜索的文本字符串。如果找到匹配项，它们将被高亮显示，如下截图所示：
- en: '![](img/f44010ed-7d4e-4214-93f0-835be7548a8d.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f44010ed-7d4e-4214-93f0-835be7548a8d.png)'
- en: With this, we have completed the steps for this recipe.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这个步骤，我们已经完成了这个食谱的步骤。
- en: How it works...
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: Jira writes its logs in the `atlassian-jira.log` file in the `JIRA_HOME/log` directory.
    Some Jira components, such as Jira Service Desk, and third-party apps write to
    their own log files. Since the Last Log for Jira app allows you to access all
    the files inside the `JIRA_HOME/log` directory, you will have access to all the
    log files.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 将日志写入 `JIRA_HOME/log` 目录下的 `atlassian-jira.log` 文件。一些 Jira 组件，如 Jira 服务台，以及第三方应用，会将日志写入各自的日志文件。由于
    Last Log for Jira 应用允许您访问 `JIRA_HOME/log` 目录中的所有文件，您将能够访问所有日志文件。
- en: Managing shared filters and dashboards
  id: totrans-208
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理共享的筛选器和仪表盘
- en: Jira allows end users to create their own search filters and dashboards and
    share them with other users. When the owner of the shared filters and dashboards
    leaves the organization or goes on leave, others will not be able to make changes
    to them. In these cases, as the Jira administrator, you can temporarily (or permanently)
    change the owner of the shared filter and dashboard to a new user.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 允许最终用户创建自己的搜索筛选器和仪表盘，并与其他用户共享。当共享筛选器和仪表盘的所有者离开组织或请假时，其他人将无法对此进行更改。在这些情况下，作为
    Jira 管理员，你可以临时（或永久）将共享筛选器和仪表盘的所有者更改为新用户。
- en: How to do it...
  id: totrans-210
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go through the following steps to reassign a shared filter or dashboard to
    another user:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤将共享筛选器或仪表盘重新分配给另一个用户：
- en: Navigate to Administration > System > Shared filters (or dashboards).
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 管理 > 系统 > 共享筛选器 （或仪表盘）。
- en: Search for the shared filter.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索共享筛选器。
- en: Select the Change Owneroption for the filter.
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 更改所有者 选项来更改筛选器的所有者。
- en: 'Enter a new owner for the filter—for example, yourself—and click on the Change
    Ownerbutton:'
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入筛选器的新所有者—例如，你自己—然后点击 更改所有者 按钮：
- en: '![](img/f628c20a-d6bb-4112-a2c1-35fd62544257.png)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f628c20a-d6bb-4112-a2c1-35fd62544257.png)'
- en: This completes the steps for this recipe.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了本操作步骤。
- en: There's more...
  id: totrans-218
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Normally, you will only need to change the owner of shared filters or dashboards,
    as other users use those; however, in rare cases where you need to change the
    owner of nonshared filters or dashboards, you can first switch the user session
    to the owner of the filter or dashboard, as outlined in the *Switching user sessions
    in Jira* recipe, and then change the owner to someone else. Note that this requires
    the user to be active in Jira, so you might need to first reactivate the account.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你只需要更改共享筛选器或仪表盘的所有者，因为其他用户在使用它们；然而，在少数情况下，如果你需要更改非共享筛选器或仪表盘的所有者，你可以首先将用户会话切换到筛选器或仪表盘的所有者，如 *Jira
    中切换用户会话* 食谱中所述，然后再将所有者更改为其他人。请注意，这要求用户在 Jira 中处于活动状态，因此你可能需要首先重新激活该帐户。
