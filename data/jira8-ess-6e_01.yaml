- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Getting Started with Jira Data Center
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始使用 Jira 数据中心
- en: In this chapter, we will start by providing a high-level overview of Jira, the
    various products that run on top of the platform, and then introduce Jira Data
    Center. After that, we will examine the various deployment options and system
    requirements for hosting Jira Data Center yourself. Finally, we will get our hands
    dirty by installing our very own Jira Data Center from scratch, both as a standalone
    and a clustered deployment.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将首先提供对 Jira 的高层概述，介绍在该平台上运行的各种产品，然后介绍 Jira 数据中心。接下来，我们将讨论部署选项和托管 Jira
    数据中心所需的系统要求。最后，我们将动手从头开始安装自己的 Jira 数据中心，包括独立部署和集群部署。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章内容包括：
- en: Understanding the Jira platform
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 Jira 平台
- en: Introducing Jira Data Center
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍 Jira 数据中心
- en: System requirements
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统要求
- en: Installation package options
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装包选项
- en: Installing and configuring Jira
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置 Jira
- en: Post-installation configuration
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装后配置
- en: Clustering
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集群
- en: Zero-downtime upgrade
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 零停机升级
- en: By the end of the chapter, you will have learned about the Jira platform and
    the new Data Center product. You will also learn about the system requirements
    to install Jira, and how a Jira cluster works. Finally, you will have your own
    Jira instance up and running.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章结束时，你将了解 Jira 平台和新的数据中心产品。你还将学习安装 Jira 所需的系统要求，以及 Jira 集群的工作原理。最后，你将自己启动并运行一个
    Jira 实例。
- en: Understanding the Jira platform
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 Jira 平台
- en: Jira started as a popular tool used by software development teams to track and
    manage their projects. As the IT industry changed over the years, Jira has also
    grown to meet the demands and challenges faced by its users. Today, Jira has transformed
    from being a single application to a platform with many applications and solutions
    that can run on top of it, and it provides additional features and capabilities
    that go beyond issue tracking.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 最初是作为一个流行的工具，用于软件开发团队跟踪和管理他们的项目。随着 IT 行业多年的变化，Jira 也在不断发展，以应对用户面临的需求和挑战。如今，Jira
    已经从一个单一应用转变为一个平台，能够运行多个应用和解决方案，并提供超越问题跟踪的额外功能和能力。
- en: 'Atlassian, the company behind Jira, has several other products that make up
    the Jira family. These include the following:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 背后的公司 Atlassian 还有其他几款产品，组成了 Jira 家族。这些包括以下产品：
- en: '**Jira Software**: This is a product that focuses on software development.
    It allows project teams to run their software development projects using traditional
    waterfall and agile methodologies such as Scrum and Kanban.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Jira 软件**：这是一个专注于软件开发的产品。它允许项目团队使用传统的瀑布式方法和敏捷方法（如 Scrum 和看板）来运行软件开发项目。'
- en: '**Jira Work Management**: This is a product that is designed for non-software
    development teams, such as marketing, operations, and legal. It is perfect for
    general-purpose task management.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Jira 工作管理**：这是一个为非软件开发团队设计的产品，如市场营销、运营和法律团队。它非常适合通用任务管理。'
- en: '**Jira Service Management**: This is a product for service desk teams. It is
    designed for running Jira as a support ticketing system, with a simplified user
    interface for the end users with a focus on customer satisfaction and **Service-Level
    Agreement** (**SLA**) goals.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Jira 服务管理**：这是一个为服务台团队设计的产品。它旨在将 Jira 用作支持工单系统，为终端用户提供简化的用户界面，重点关注客户满意度和
    **服务水平协议** (**SLA**) 目标。'
- en: At its core, the Jira platform provides many of its common functionalities for
    various products, such as user interface customization, workflows, and email notifications,
    while Jira Software and Jira Service Desk add specialized features on top of it.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 平台的核心提供了多种常见功能，供不同产品使用，例如用户界面定制、工作流和电子邮件通知，而 Jira 软件和 Jira 服务台在此基础上添加了专门的功能。
- en: Of course, being a platform means Jira also allows other third-party developers
    to develop solutions for it. Atlassian has a huge thriving ecosystem of products
    and solutions made by partners that add even more features to Jira. We will look
    at some of these solutions later in this book.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，作为一个平台，Jira 还允许其他第三方开发者为其开发解决方案。Atlassian 拥有一个庞大的生态系统，其中包括由合作伙伴开发的产品和解决方案，这些都为
    Jira 增添了更多功能。在本书的后续部分，我们将介绍其中的一些解决方案。
- en: In this book, we will primarily focus on Jira Software, but we will also cover
    all the common features that are shared by all the applications, and how they
    can be used by them in their specific use cases. For this reason, the term *Jira*
    will be primarily used to refer to Jira Software, unless a specific distinction
    is needed.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本书主要聚焦于 Jira 软件，但我们也会涵盖所有应用程序共享的常见功能，以及它们如何在各自的使用场景中使用这些功能。因此，术语 *Jira* 将主要用于指代
    Jira 软件，除非需要做出特定区分。
- en: Now that we have learned about the Jira platform and its various products, it
    is time to look at the newest member of the Jira family.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了 Jira 平台及其各种产品，是时候来看看 Jira 家族的新成员了。
- en: Introducing Jira Data Center
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍 Jira 数据中心
- en: One of the biggest challenges users often face with Jira Server is **scalability**.
    When an organization’s Jira deployment grows to thousands of concurrent users
    and hundreds of thousands of issues, they will often start to experience performance
    issues, such as slower response times. While each new major release would include
    performance improvements, customers often had to archive and export old projects
    to another Jira instance or split up their one big instance into several smaller
    instances.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 用户在使用 Jira Server 时常遇到的最大挑战之一是 **可扩展性**。当一个组织的 Jira 部署扩展到成千上万的并发用户和数十万个问题时，他们往往会开始遇到性能问题，例如响应时间变慢。尽管每个新版本都会包含性能改进，但客户通常不得不将旧项目归档并导出到另一个
    Jira 实例，或者将一个大实例拆分成多个小实例。
- en: Some organizations can resolve this problem by migrating to the Jira Cloud offering.
    However, not everyone can move to the public cloud due to security, regulations,
    and other reasons, or they prefer to run Jira in their private cloud. This is
    where **Jira Data Center** comes in.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 一些组织可以通过迁移到 Jira 云服务来解决这个问题。然而，由于安全性、法规以及其他原因，并非每个人都可以迁移到公共云，或者他们更倾向于在自己的私有云中运行
    Jira。这就是 **Jira 数据中心** 的作用所在。
- en: Jira Data Center is the new offering from Atlassian that replaces the old Jira
    Server and aims to address challenges that are often faced by organizations that
    need their Jira deployment to be performant, scalable, highly available, and secure.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 数据中心是 Atlassian 推出的新产品，取代了旧版的 Jira Server，旨在解决那些需要确保 Jira 部署具有高性能、可扩展性、高可用性和安全性的组织常面临的挑战。
- en: With Jira Data Center, you can continue to host Jira yourself, with the aforementioned
    added benefits. Many additional features are added, such as support for **Security
    Assertion Markup Language** (**SAML**), Advanced Roadmaps for planning, and improved
    administrative functions.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Jira 数据中心，您可以继续自行托管 Jira，同时享受上述附加好处。增加了许多附加功能，例如支持 **安全声明标记语言** (**SAML**)、用于规划的高级路线图以及改进的管理功能。
- en: Additional information
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 额外信息
- en: You can find a full list of differences between the old Jira Server and Jira
    Data Center at [https://confluence.atlassian.com/enterprise/jira-server-and-data-center-feature-comparison-953651628.html](https://confluence.atlassian.com/enterprise/jira-server-and-data-center-feature-comparison-953651628.html).
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://confluence.atlassian.com/enterprise/jira-server-and-data-center-feature-comparison-953651628.html](https://confluence.atlassian.com/enterprise/jira-server-and-data-center-feature-comparison-953651628.html)找到旧版
    Jira Server 和 Jira 数据中心之间的差异完整列表。
- en: 'So, how does Jira Data Center achieve all these benefits and improvements?
    Unlike Jira Server, where you have a single instance of Jira running, Jira Data
    Center allows you to run multiple Jira instances together as a single deployment,
    called a **cluster**. The following diagram illustrates a typical Jira Data Center
    deployment:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，Jira 数据中心是如何实现所有这些好处和改进的呢？与 Jira Server 只有一个运行实例不同，Jira 数据中心允许您将多个 Jira 实例作为一个单一的部署运行，称为
    **集群**。下图展示了典型的 Jira 数据中心部署：
- en: '![Figure 1.1 – Jira Data Center deployment'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.1 – Jira 数据中心部署'
- en: '](img/Figure_1.1_B18644.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.1_B18644.jpg)'
- en: Figure 1.1 – Jira Data Center deployment
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – Jira 数据中心部署
- en: You will have one or more Jira instances, called **nodes**, running in a single
    cluster. All the Jira nodes will connect to the same database and file server,
    with a load balancer to distribute the traffic across all the nodes. This way,
    you have more computing power shared across the cluster, and you can add another
    node to the cluster at any time to add additional capacity.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 您将有一个或多个 Jira 实例，称为 **节点**，它们在一个集群中运行。所有 Jira 节点将连接到同一个数据库和文件服务器，并通过负载均衡器将流量分配到所有节点。这样，集群中的计算能力得以共享，您可以随时向集群中添加一个节点来增加额外的容量。
- en: Another good feature of Jira Data Center is that you do not need to run a cluster
    if you are not ready. You can run your deployment with a single node as a standalone,
    just as you would with the previous Jira Server. Then, when you need to, you can
    always convert your deployment into a cluster. Doing so gives you flexibility,
    as well as all the additional features that have been introduced in Jira Data
    Center. With a good understanding of Jira Data Center, let’s look at what we will
    need for deployment.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: Jira Data Center 的另一个优点是，如果您还未准备好，您不需要运行集群。您可以像使用旧版 Jira Server 一样，以单节点的形式运行独立部署。然后，等到需要时，您可以随时将部署转换为集群。这样做为您提供了灵活性，以及
    Jira Data Center 引入的所有额外功能。了解了 Jira Data Center 后，我们来看看部署所需的资源。
- en: System requirements
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 系统要求
- en: Before we can deploy Jira Data Center, we need to look at the hardware and software
    required for Jira, and how you want your deployment to be.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们部署 Jira Data Center 之前，我们需要看看 Jira 所需的硬件和软件，以及您希望如何进行部署。
- en: 'You can deploy Jira in two ways:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过两种方式部署 Jira：
- en: '**Standalone**: This is the same deployment as the classic Jira Server, where
    you have a single Jira instance serving your users. This is the easier option
    and does not require as many system resources. If you are just getting started,
    this is the option for you.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**独立**：这就是经典的 Jira Server 部署方式，您只有一个 Jira 实例为用户提供服务。这是更简单的选项，不需要那么多系统资源。如果您刚刚开始使用，这个选项适合您。'
- en: '**Cluster**: This is the deployment shown in *Figure 1.1*, where you can have
    multiple Jira instances (nodes) running in a cluster, and they all serve your
    users. If you need scalability, high availability, and other cluster-specific
    features, this is the option for you.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集群**：这就是*图 1.1*中所展示的部署方式，您可以在集群中运行多个 Jira 实例（节点），它们共同为您的用户提供服务。如果您需要可扩展性、高可用性以及其他集群特性，这就是适合您的选项。'
- en: If you are unsure which option to start with, you can always start with the
    standalone option and switch to a cluster when you need all the features and benefits
    from a clustered deployment.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不确定从哪个选项开始，您可以始终从独立部署选项开始，当您需要所有集群部署的功能和优势时，再切换到集群部署。
- en: Now that we know what deployment options are available for Jira, let’s start
    looking at the hardware and software you will need.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了 Jira 的部署选项，接下来让我们看看您需要的硬件和软件。
- en: Hardware requirements
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 硬件要求
- en: For evaluation purposes, where there will only be a small number of users, Jira
    will run happily on any server that has a 1.5 GHz processor and 1 GB to 2 GB of
    RAM. As your Jira usage grows, a typical server will have a quad-core 2 GHz+ CPU
    and 4 GB of RAM dedicated to the Jira application, and at least 10 GB of hard
    disk space for your database.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 对于评估目的，仅有少量用户的情况下，Jira 可以在任何拥有 1.5 GHz 处理器和 1 GB 到 2 GB 内存的服务器上顺利运行。随着 Jira
    使用量的增加，典型服务器将配备 2 GHz+ 四核 CPU 和 4 GB 内存专门为 Jira 应用程序分配，并且至少 10 GB 的硬盘空间用于数据库。
- en: 'For production deployment, as in most applications, it is recommended that
    you run Jira on its own dedicated server. There are many factors that you should
    consider when deciding the extent of the resources to allocate to Jira, especially
    in terms of how Jira will scale and grow in the future. When deciding on your
    hardware needs, you should consider the following:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 对于生产环境部署，像大多数应用程序一样，建议您将 Jira 安装在专用服务器上。当决定分配给 Jira 的资源时，您需要考虑很多因素，特别是 Jira
    将如何扩展和增长。确定硬件需求时，您应考虑以下几点：
- en: The number of active (concurrent) users in the system, especially during peak
    hours
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统中活跃（并发）用户的数量，尤其是在高峰时段
- en: The number of projects, issues, and comments in the system
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统中的项目、问题和评论数量
- en: The number of configuration items, such as custom fields and workflows
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置项的数量，如自定义字段和工作流
- en: At times, it can be difficult to estimate these figures. As a reference, a server
    running with a 2.0 quad-core CPU and 4 GB of RAM will be sufficient for most instances
    with around 200 active users. If you start to get into thousands of active users,
    you will need to have at least 8 GB of RAM allocated to Jira (JVM). Once you have
    gone beyond a million issues and thousands of active users for a single Jira instance,
    simply adding raw system resources (vertical scaling) will start to yield diminishing
    returns. In such cases, it is often better to consider using the Data Center edition
    of Jira, which offers better scalability by allowing you to have multiple instances
    clustered together (horizontal scaling), with the added benefit of providing high
    availability.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，估算这些数字可能会很困难。作为参考，配备 2.0 四核 CPU 和 4 GB RAM 的服务器足以支持大多数拥有约 200 名活跃用户的实例。如果用户数量达到几千人，你将需要至少为
    Jira（JVM）分配 8 GB 的 RAM。一旦超越一百万个问题和几千名活跃用户的单一 Jira 实例，单纯增加系统资源（垂直扩展）将开始带来递减效益。在这种情况下，通常更好考虑使用
    Jira 的数据中心版，它通过允许多个实例进行集群（横向扩展）提供更好的可扩展性，并且具有高可用性的优势。
- en: Officially, Jira only supports x86 hardware and 64-bit derivatives of it. When
    running Jira on a 64-bit system, you will be able to allocate more than 4 GB of
    memory to Jira, which is the limit if you are using a 32-bit system. If you are
    planning to deploy a large instance, it is recommended that you use a 64-bit system.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 官方上，Jira 仅支持 x86 硬件及其 64 位衍生版本。当在 64 位系统上运行 Jira 时，你可以为 Jira 分配超过 4 GB 的内存，而
    32 位系统的限制就是 4 GB。如果你计划部署一个大型实例，建议使用 64 位系统。
- en: Software requirements
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 软件要求
- en: 'Jira has three major requirements when it comes to software: it needs a supported
    operating system, a Java environment, and a database to store all of its data.
    In the following sections, we will discuss each of these requirements and the
    options that you have to install and run Jira.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 在软件方面有三个主要要求：需要一个支持的操作系统、一个 Java 环境和一个用于存储所有数据的数据库。在接下来的部分中，我们将讨论这些要求以及你可以选择的安装和运行
    Jira 的选项。
- en: Additional information
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 其他信息
- en: You can find the latest information on software requirements online at [https://confluence.atlassian.com/adminjiraserver/supported-platforms-938846830.html](https://confluence.atlassian.com/adminjiraserver/supported-platforms-938846830.html).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在线查看最新的软件要求信息，网址：[https://confluence.atlassian.com/adminjiraserver/supported-platforms-938846830.html](https://confluence.atlassian.com/adminjiraserver/supported-platforms-938846830.html)。
- en: Operating systems
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 操作系统
- en: Jira supports most of the major operating systems, so the choice of which operating
    system to run Jira on becomes a matter of expertise, comfort, and, in most cases,
    the existing organization’s infrastructure and requirements.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 支持大多数主流操作系统，因此选择在哪个操作系统上运行 Jira，更多的是关于专业技能、舒适度，并且在大多数情况下，还要考虑现有组织的基础设施和需求。
- en: The operating systems supported by Atlassian are Windows and Linux. There is
    a Jira distribution for macOS, but this is mostly for evaluation purposes only.
    **Amazon Web Services** (**AWS**) and Microsoft Azure are also supported with
    quick-start templates.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: Atlassian 支持的操作系统包括 Windows 和 Linux。虽然有一个适用于 macOS 的 Jira 版本，但这主要用于评估目的。**亚马逊
    Web 服务**（**AWS**）和微软 Azure 也通过快速启动模板得到支持。
- en: With both Windows and Linux, Atlassian provides an executable installer wizard
    package that bundles all the necessary components to simplify the installation
    process. There are minimal differences when it comes to installing, configuring,
    and maintaining Jira on different operating systems. If you do not have any preferences
    and would like to keep initial costs down, CentOS Linux is a good choice.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 和 Linux 上，Atlassian 提供了一个可执行的安装向导包，捆绑了所有必要的组件，简化了安装过程。在安装、配置和维护 Jira
    时，不同操作系统之间几乎没有差异。如果你没有特别的偏好，并希望降低初始成本，CentOS Linux 是一个不错的选择。
- en: Java platforms
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Java 平台
- en: Jira is a Java-based web application, so it needs to have a Java environment
    installed. This can be a **Java Development Kit** (**JDK**) or a **Java Runtime
    Environment** (**JRE**). The executable installer that comes with Windows or Linux
    includes a JRE. However, if you want to use archive distributions, you will need
    to make sure that you have the required Java environment installed and configured.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 是一个基于 Java 的 Web 应用程序，因此需要安装 Java 环境。这可以是**Java 开发工具包**（**JDK**）或**Java
    运行环境**（**JRE**）。随 Windows 或 Linux 一起提供的可执行安装程序包括 JRE。但是，如果你打算使用归档分发版本，必须确保已安装并配置好所需的
    Java 环境。
- en: 'Jira requires a minimum version of Java 8\. If you run Jira on an unsupported
    Java version or from an unsupported vendor, you may run into unexpected errors.
    The following table shows the supported Java versions for Jira:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Jira需要最低版本的Java 8。如果你在不支持的Java版本或不支持的供应商环境中运行Jira，可能会遇到意外错误。下表显示了Jira支持的Java版本：
- en: '![Table 1.1 – Java platforms'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '![表1.1 – Java平台'
- en: '](img/1.png)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/1.png)'
- en: Table 1.1 – Java platforms
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.1 – Java平台
- en: You should also keep your Java versions up to date by running the latest patched
    version of either Java 8 or 11\. This will ensure you have the latest bug and
    security patches to keep your environment secure.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 你还应该保持Java版本的最新，通过运行最新的Java 8或11的修补版本。这将确保你获得最新的错误修复和安全补丁，保障环境的安全。
- en: Databases
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数据库
- en: Jira stores all its data in a relational database. While you can run Jira with
    **H2 Database**, the in-memory database that comes bundled with Jira, it is prone
    to data corruption. You should only use this to set up a new instance quickly
    for evaluation purposes, where no important data will be stored. For this reason,
    you must use an enterprise-level database such as MySQL for production systems.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: Jira将所有数据存储在关系型数据库中。虽然你可以使用**H2数据库**（Jira自带的内存数据库）来运行Jira，但它容易导致数据损坏。你应该仅将其用于快速设置新实例进行评估，且不会存储重要数据。出于这个原因，你必须使用像MySQL这样的企业级数据库来进行生产系统。
- en: Most relational databases available on the market today are supported by Jira,
    and there are no differences when you install and configure Jira. Just like operating
    systems, your choice of database will come down to your organization’s infrastructure/DevOps
    team’s expertise, experience, and established corporate IT standards. If you run
    Windows as your operating system, then you probably want to go with Microsoft
    SQL Server. On the other hand, if you run Linux, then you may want to go with
    PostgreSQL and MySQL.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 市面上大多数关系型数据库都被Jira支持，并且在安装和配置Jira时没有差异。就像操作系统一样，你选择的数据库将取决于你组织的基础设施/DevOps团队的专业知识、经验以及既定的公司IT标准。如果你使用Windows作为操作系统，那么你可能会选择Microsoft
    SQL Server。另一方面，如果你使用Linux，那么你可能会选择PostgreSQL或MySQL。
- en: 'The following table summarizes the databases that are supported by Jira at
    the time of writing. It is worth mentioning that both MySQL and PostgreSQL are
    open source products, so they are excellent options if you are looking to minimize
    your initial cost:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 下表总结了写作时Jira支持的数据库。值得一提的是，MySQL和PostgreSQL都是开源产品，因此它们是减少初期成本的优秀选择：
- en: '| **Database** | **Support Status** |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| **数据库** | **支持状态** |'
- en: '| MySQL | MySQL 5.7, 8.0*Note that both MariaDB and PerconaDB are not supported*
    |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| MySQL | MySQL 5.7, 8.0*注意，MariaDB和PerconaDB不受支持* |'
- en: '| PostgreSQL | PostgreSQL 10, 11, 12 |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| PostgreSQL | PostgreSQL 10, 11, 12 |'
- en: '| Microsoft SQL Server | SQL Server 2016, 2017, 2019 |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| Microsoft SQL Server | SQL Server 2016, 2017, 2019 |'
- en: '| Oracle | Oracle 12c R2, 18c, 19c*This requires the JDBC 19.3 (ojdbc8) driver*
    |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| Oracle | Oracle 12c R2, 18c, 19c*这需要JDBC 19.3 (ojdbc8) 驱动程序* |'
- en: '| Azure SQL |  |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| Azure SQL |  |'
- en: '| Amazon Aurora | PostgreSQL 10, 11, 12 |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| Amazon Aurora | PostgreSQL 10, 11, 12 |'
- en: '| H2 | This is bundled with the standalone distribution, for evaluation purposes
    only |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| H2 | 仅与独立分发包捆绑，仅用于评估目的 |'
- en: Table 1.2 – Databases
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.2 – 数据库
- en: Take special note of the driver requirement for each database. Jira comes bundled
    with drivers for several of the databases, but some, such as Oracle, will require
    you to get the driver separately. You need to make sure you get the correct version
    of the driver to avoid any unexpected errors.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 特别注意每个数据库的驱动程序要求。Jira捆绑了一些数据库的驱动程序，但有些数据库，比如Oracle，要求你单独获取驱动程序。你需要确保获取正确版本的驱动程序，以避免出现意外错误。
- en: With the system and database requirements covered, it is time to move on to
    Jira itself.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在系统和数据库要求已涵盖的情况下，接下来我们就进入Jira本身。
- en: Installation package options
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装包选项
- en: Jira Data Center comes with several deployment options. The first choice you
    need to make is where you would like to deploy Jira. If you want to deploy Jira
    to AWS or Azure, Atlassian provides quick-start templates so that you can get
    up and running quickly.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: Jira Data Center提供了多种部署选项。你需要做的第一个选择是你希望在哪里部署Jira。如果你想将Jira部署到AWS或Azure，Atlassian提供了快速启动模板，以帮助你快速启动和运行。
- en: 'If you want to deploy Jira to your hardware or other cloud vendors, or simply
    want to manage how you want the deployment to be, you can use the installation
    packages available. Jira installation packages come in two flavors:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想将 Jira 部署到你的硬件或其他云服务商，或者仅仅希望管理你想要的部署方式，你可以使用可用的安装包。Jira 安装包有两种形式：
- en: '**Executable installer**: The executable installer provides a wizard-driven
    interface that will walk you through the entire installation process. It even
    comes with a Java installer to save you some time.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可执行安装程序**：可执行安装程序提供了一个向导界面，带你完成整个安装过程。它甚至附带了一个 Java 安装程序，帮你节省时间。'
- en: '**TAR.GZ or ZIP archive**: The archive package is similar to the executable
    installer, except it does not have an installation wizard, does not bundle Java,
    and will not configure Jira to run as a service.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**TAR.GZ 或 ZIP 压缩包**：该压缩包类似于可执行安装程序，区别在于它没有安装向导，不包含 Java，也不会配置 Jira 作为服务运行。'
- en: You will also need to perform some post-installation steps manually, such as
    configuring Jira as a service. However, you do get the advantage of learning what
    goes on under the hood.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 你还需要手动执行一些安装后的步骤，例如将 Jira 配置为服务。但你可以获得学习背后运作机制的好处。
- en: In our exercise, we will be using the installer package, but we will also cover
    the post-installation steps so that you have a good understanding of the various
    configuration options available. We will start by installing Java.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的练习中，我们将使用安装包，但也会涵盖安装后的步骤，以便你对各种配置选项有一个全面的了解。我们将从安装 Java 开始。
- en: Installing Java
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装 Java
- en: Since we will be using the installer package that’s bundled with Java, you can
    skip this section. However, if you are using the archive option, you need to make
    sure that you have Java installed on your system.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们将使用捆绑了 Java 的安装包，你可以跳过本节。如果你使用的是压缩包选项，你需要确保系统上已经安装了 Java。
- en: 'Jira 8 requires JRE version 8 as a minimum to run. You can verify the version
    of Java you have by running the following command in **Command Prompt**:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 8 至少需要 JRE 版本 8 才能运行。你可以通过在 **命令提示符** 中运行以下命令来验证你安装的 Java 版本：
- en: '[PRE0]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The preceding command tells you which version of Java is running on your system,
    as shown in the following screenshot:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 上述命令会告诉你系统上运行的是哪个版本的 Java，如下图所示：
- en: '![Figure 1.2 – Java version'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.2 – Java 版本'
- en: '](img/Figure_1.2_B18644.jpg)'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.2_B18644.jpg)'
- en: Figure 1.2 – Java version
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – Java 版本
- en: 'If you do not see a similar output, then chances are you do not have Java installed.
    You will need to perform the following steps to set up your Java environment.
    Start by installing Java on your system:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有看到类似的输出，那么很可能是你没有安装 Java。你需要执行以下步骤来设置 Java 环境。首先，安装 Java 到你的系统：
- en: Download the latest Java 8 or 11 from [https://www.java.com/en/download/manual.jsp](https://www.java.com/en/download/manual.jsp).
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [https://www.java.com/en/download/manual.jsp](https://www.java.com/en/download/manual.jsp)
    下载最新的 Java 8 或 11。
- en: Note
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: At the time of writing, the latest version of Java 8 is JDK 8 Update 321.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 截至撰写本文时，Java 8 的最新版本是 JDK 8 更新 321。
- en: Double-click on the downloaded installation file to start the installation wizard.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击下载的安装文件，启动安装向导。
- en: Select where you would like to install Java. Alternatively, you can simply accept
    the default values. The location where you install JDK will be referred to as
    `JAVA_HOME` for the remainder of this book.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你希望安装 Java 的位置。或者，你也可以直接接受默认值。你安装 JDK 的位置将在本书的后续部分被称为 `JAVA_HOME`。
- en: 'Create a new environment variable named `JAVA_HOME` with the value set to the
    full path of the location where you installed Java. You can do this as follows:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的环境变量，名为 `JAVA_HOME`，并将其值设置为你安装 Java 的完整路径。你可以按如下方式操作：
- en: Open the **System Properties** window by going to **About your PC** from the
    Windows **Start** menu.
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从 Windows **开始**菜单进入 **关于你的电脑**，打开 **系统属性** 窗口。
- en: Select the **Advanced system settings** option.
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **高级系统设置** 选项。
- en: 'Click on the **Environment Variable** button from the new popup:'
  id: totrans-105
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击新弹出窗口中的 **环境变量** 按钮：
- en: '![Figure 1.3 – The JAVA_HOME environment variable'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.3 – JAVA_HOME 环境变量'
- en: '](img/Figure_1.3_B18644.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.3_B18644.jpg)'
- en: Figure 1.3 – The JAVA_HOME environment variable
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.3 – JAVA_HOME 环境变量
- en: Add a new variable (either User or System) called `JAVA_HOME` and set its value
    to where you installed Java.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个新的变量（可以是用户变量或系统变量），命名为 `JAVA_HOME`，并将其值设置为你安装 Java 的路径。
- en: Now that you have a good understanding of Jira Data Center, the basic system
    requirements, and the various installation options, we are ready to deploy our
    own Jira instances.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经对 Jira 数据中心、基本系统要求和各种安装选项有了充分了解，我们准备部署我们自己的 Jira 实例。
- en: Installing and configuring Jira
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装并配置 Jira
- en: We will start by installing Jira as a standalone deployment. We will perform
    our installation on a Windows platform and use PostgreSQL for the database. If
    you are planning on using a different platform or database, refer to the vendor
    documentation on installing the required software for your platform.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先以独立部署的方式安装 Jira。我们将在 Windows 平台上执行安装，并使用 PostgreSQL 作为数据库。如果你打算使用不同的平台或数据库，请参考厂商文档以了解如何为你的平台安装所需的软件。
- en: 'In this section, you will do the following:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将进行以下操作：
- en: Install a fresh instance of Jira Software
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装一个全新的 Jira 软件实例
- en: Connect Jira to a PostgreSQL database
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 Jira 连接到 PostgreSQL 数据库
- en: Configure the Jira instance to work in a cluster environment
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置 Jira 实例以便在集群环境中工作
- en: We will continue to use this Jira deployment in subsequent chapters and exercises
    as we build our help desk implementation.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在后续章节和练习中继续使用这个 Jira 部署，构建我们的帮助台实现。
- en: 'For our deployment, we will use the following:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的部署，我们将使用以下配置：
- en: Jira Software 8.21.0
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jira 软件 8.21.0
- en: PostgreSQL 12.9
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PostgreSQL 12.9
- en: Apache web server
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Apache Web 服务器
- en: Microsoft Windows
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 微软 Windows
- en: Let’s begin by installing Jira!
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始安装 Jira！
- en: Installing Jira
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装 Jira
- en: 'Before we install Jira, here are two important directories we need to mention:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装 Jira 之前，有两个重要的目录需要说明：
- en: '`JIRA_INSTALL`: This is the directory where the Jira application will be installed'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`JIRA_INSTALL`：这是 Jira 应用程序将安装到的目录'
- en: '`JIRA_HOME`: This is the directory that Jira will use to store some of its
    important configuration and data files'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`JIRA_HOME`：这是 Jira 用来存储一些重要配置和数据文件的目录'
- en: 'We will be referring to those two directories throughout this book. Now, on
    to the installation. There are generally two steps involved:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在本书中一直提到这两个目录。现在，进入安装部分。通常有两个步骤：
- en: Downloading and installing the Jira application
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下载并安装 Jira 应用程序
- en: Running through the Jira setup wizard
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行 Jira 设置向导
- en: Let’s get started.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧。
- en: Obtaining and installing Jira
  id: totrans-132
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 获取并安装 Jira
- en: The first step is to download the latest stable release of Jira. You can download
    Atlassian Jira from [https://www.atlassian.com/software/jira/update](https://www.atlassian.com/software/jira/update).
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是下载 Jira 的最新稳定版本。你可以从 [https://www.atlassian.com/software/jira/update](https://www.atlassian.com/software/jira/update)
    下载 Atlassian Jira。
- en: The Atlassian website will detect the operating system you are using and automatically
    suggest an installation package for you to download. If you intend to install
    Jira on a different operating system from the one you are currently on, make sure
    that you select the correct operating system package.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: Atlassian 网站会检测你使用的操作系统，并自动为你推荐一个安装包。如果你打算在不同的操作系统上安装 Jira，请确保选择正确的操作系统安装包。
- en: 'As we mentioned earlier, with Windows, there is a Windows installer package
    and a self-extracting archive package. For this exercise, we will use the installer
    package (`Windows 64-bit Installer`):'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前提到的，Windows 提供了 Windows 安装包和自解压归档包。对于本次练习，我们将使用安装包（`Windows 64-bit Installer`）：
- en: 'Double-click on the downloaded installation file to start the installation
    wizard and click on the **Next** button to continue:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击下载的安装文件以启动安装向导，然后点击 **下一步** 按钮继续：
- en: '![Figure 1.4 – Jira installation step 1'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.4 – Jira 安装步骤 1'
- en: '](img/Figure_1.4_B18644.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.4_B18644.jpg)'
- en: Figure 1.4 – Jira installation step 1
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – Jira 安装步骤 1
- en: 'Select the **Custom Install (recommended for advanced users)** option and click
    on the **Next** button to continue. Using the custom installation will let us
    decide where to install Jira and will also provide numerous configuration options,
    as shown in the following screenshot:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **自定义安装（推荐高级用户使用）** 选项，并点击 **下一步** 按钮继续。使用自定义安装可以让我们决定安装 Jira 的位置，并提供多个配置选项，如下图所示：
- en: '![Figure 1.5 – Jira installation step 2'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.5 – Jira 安装步骤 2'
- en: '](img/Figure_1.5_B18644.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.5_B18644.jpg)'
- en: Figure 1.5 – Jira installation step 2
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – Jira 安装步骤 2
- en: 'Select the directory where Jira will be installed. This will become the `JIRA_INSTALL`
    directory. Click on the **Next** button to continue:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择安装 Jira 的目录。这将成为 `JIRA_INSTALL` 目录。点击 **下一步** 按钮继续：
- en: '![Figure 1.6 – Jira installation step 3'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.6 – Jira安装步骤3'
- en: '](img/Figure_1.6_B18644.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.6_B18644.jpg)'
- en: Figure 1.6 – Jira installation step 3
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.6 – Jira安装步骤3
- en: 'Select where Jira will store its data files, such as attachments and log files.
    This will become the `JIRA_HOME` directory. Click on the **Next** button to continue:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择Jira将存储数据文件的位置，例如附件和日志文件。这将成为`JIRA_HOME`目录。点击**下一步**按钮继续：
- en: '![Figure 1.7 – Jira installation step 4'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.7 – Jira安装步骤4'
- en: '](img/Figure_1.7_B18644.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.7_B18644.jpg)'
- en: Figure 1.7 – Jira installation step 4
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.7 – Jira安装步骤4
- en: Select where you would like to create shortcuts to the Start menu and click
    on the **Next** button to continue.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您希望在开始菜单中创建快捷方式的位置，然后点击**下一步**按钮继续。
- en: 'In the `8080`. If `8080` has already been taken by another application, or
    if you want Jira to run on a different port such as port `80`, select the **Set
    custom value for HTTP and Control ports** option and specify the port numbers
    you want to use. Click on the **Next** button to continue:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`8080`端口。如果`8080`已经被其他应用程序占用，或者您希望Jira在不同的端口上运行，例如端口`80`，请选择**为HTTP和控制端口设置自定义值**选项，并指定您希望使用的端口号。点击**下一步**按钮继续：
- en: '![Figure 1.8 – Jira installation step 6'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.8 – Jira安装步骤6'
- en: '](img/Figure_1.8_B18644.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.8_B18644.jpg)'
- en: Figure 1.8 – Jira installation step 6
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.8 – Jira安装步骤6
- en: 'Select whether you would like Jira to run as a service. If you enable this
    option, Jira will be installed as a system service and can be configured to start
    automatically with the server; refer to the *Starting and stopping Jira* section
    for more details:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择是否希望Jira作为服务运行。如果启用此选项，Jira将作为系统服务安装，并可以配置为与服务器一起自动启动；有关更多详细信息，请参考*启动和停止Jira*部分：
- en: '![Figure 1.9 – Jira installation step 7'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.9 – Jira安装步骤7'
- en: '](img/Figure_1.9_B18644.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.9_B18644.jpg)'
- en: Figure 1.9 – Jira installation step 7
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.9 – Jira安装步骤7
- en: 'For the final step, review all the installation options and click on the **Install**
    button to start the installation:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在最后一步，检查所有安装选项，并点击**安装**按钮以开始安装：
- en: '![Figure 1.10 – Jira installation step 8'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.10 – Jira安装步骤8'
- en: '](img/Figure_1.10_B18644.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.10_B18644.jpg)'
- en: Figure 1.10 – Jira installation step 8
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.10 – Jira安装步骤8
- en: 'Once the installation is complete, check the **Launch Jira Software in browser**
    option and click on **Finish**. This will close the installation wizard and open
    your web browser so that you can access Jira. This may take a few minutes to load
    as Jira starts up for the first time:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，勾选**在浏览器中启动Jira软件**选项，并点击**完成**。这将关闭安装向导并打开您的网页浏览器，以便您访问Jira。由于Jira是第一次启动，这可能需要几分钟时间：
- en: '![Figure 1.11 – Jira installation step 9'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.11 – Jira安装步骤9'
- en: '](img/Figure_1.11_B18644.jpg)'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.11_B18644.jpg)'
- en: Figure 1.11 – Jira installation step 9
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.11 – Jira安装步骤9
- en: That’s it! Congratulations, your Jira is installed and running. Now, let’s learn
    how to configure it.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 就是这样！恭喜，您的Jira已安装并运行。现在，让我们学习如何配置它。
- en: The Jira setup wizard
  id: totrans-170
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Jira设置向导
- en: If you chose the `http://localhost:<port number>` in your browser, where `<port
    number>` is the number you assigned to Jira in *Step 6* of the installation process.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在浏览器中选择了`http://localhost:<端口号>`，其中`<端口号>`是您在安装过程中*第6步*中为Jira分配的端口号。
- en: The easy-to-use setup wizard that comes with Jira will walk you through the
    process of completing your Jira setup. Here, you will be able to configure the
    database connections, default language, and much more.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: Jira附带的易用设置向导将指导您完成完成Jira设置的过程。在此过程中，您将能够配置数据库连接、默认语言等设置。
- en: 'The steps for this are as follows:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 这些步骤如下：
- en: 'In the first step of the wizard, we need to select how we want Jira to be set
    up. Since we are installing Jira for production use, we will select the **I’ll
    set it up myself** option, as shown in the following screenshot:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在向导的第一步中，我们需要选择如何设置Jira。由于我们是为生产环境安装Jira，因此我们将选择**我自己设置**选项，如下图所示：
- en: '![Figure 1.12 – Jira configuration step 1'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.12 – Jira配置步骤1'
- en: '](img/Figure_1.12_B18644.jpg)'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.12_B18644.jpg)'
- en: Figure 1.12 – Jira configuration step 1
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.12 – Jira配置步骤1
- en: 'For the second step, we will need to select the database we want to use. This
    is where we configure Jira to use PostgreSQL as its database. If you select the
    **Built In** option, Jira will use its bundled in-memory H2 database, which is
    good for evaluation purposes. If you want to use a proper database, such as in
    our case, you should select the **My Own Database** option:'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第二步，我们需要选择要使用的数据库。在此步骤中，我们配置 Jira 使用 PostgreSQL 作为数据库。如果选择**内置**选项，Jira 将使用其捆绑的内存
    H2 数据库，这对于评估用途非常有用。如果您希望使用正式的数据库，例如在我们这种情况下，应该选择**我的数据库**选项：
- en: '![Figure 1.13 – Jira configuration step 2'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.13 – Jira 配置步骤 2'
- en: '](img/Figure_1.13_B18644.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.13_B18644.jpg)'
- en: Figure 1.13 – Jira configuration step 2
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.13 – Jira 配置步骤 2
- en: Note
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The **Built In** option is great for getting Jira up and running quickly for
    evaluation purposes.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '**内置**选项非常适合快速启动 Jira 进行评估使用。'
- en: After you have selected the **My Own Database** option, the wizard will expand
    for you to provide the database connection details. If you do not have the necessary
    database driver installed, Jira will prompt you for it.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 选择**我的数据库**选项后，向导将扩展，要求您提供数据库连接详细信息。如果没有安装必要的数据库驱动程序，Jira 会提示您安装。
- en: Once you have filled in the details for your database, it’s a good idea to click
    on the **Test Connection** button to verify that Jira can connect to the database.
    If everything has been set up correctly, Jira will report a success message. You
    should be able to move on to the next step by clicking on the **Next** button.
    This may take a few minutes as Jira will now create all the necessary database
    objects. Once this is done, you will be taken to the next step of the wizard.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 填写数据库详细信息后，建议点击**测试连接**按钮，验证 Jira 是否可以连接到数据库。如果一切设置正确，Jira 会显示成功消息。您应该能够通过点击**下一步**按钮继续进行下一步操作。这可能需要几分钟时间，因为
    Jira 现在将创建所有必要的数据库对象。完成后，您将进入向导的下一步骤。
- en: 'In the third step, you will need to provide some basic details about this Jira
    instance. Once you have filled in the requisite fields, click on **Next** to move
    on to the next step of the wizard:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在第三步中，您需要提供有关此 Jira 实例的一些基本信息。填写完必填字段后，点击**下一步**继续向导的下一个步骤：
- en: '![Figure 1.14 – Jira configuration step 3'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.14 – Jira 配置步骤 3'
- en: '](img/Figure_1.14_B18644.jpg)'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.14_B18644.jpg)'
- en: Figure 1.14 – Jira configuration step 3
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – Jira 配置步骤 3
- en: 'In this step, we need to provide a license key for Jira. If you have already
    obtained a license from Atlassian, you can paste it into the **Your License Key**
    textbox. If you do not have a license, you can generate an evaluation license
    by clicking on the **generate a Jira trial license** link. The evaluation license
    will grant you access to Jira’s full set of features for 1 month. After the evaluation
    period ends, you will lose the ability to create new issues, but you can still
    access your data:'
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此步骤中，我们需要为 Jira 提供许可证密钥。如果您已经从 Atlassian 获得许可证，可以将其粘贴到**您的许可证密钥**文本框中。如果没有许可证，您可以通过点击**生成
    Jira 试用许可证**链接来生成评估许可证。评估许可证将允许您在 1 个月内访问 Jira 的完整功能。评估期结束后，您将失去创建新问题的能力，但仍然可以访问您的数据：
- en: '![Figure 1.15 – Jira configuration step 4'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.15 – Jira 配置步骤 4'
- en: '](img/Figure_1.15_B18644.jpg)'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.15_B18644.jpg)'
- en: Figure 1.15 – Jira configuration step 4
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – Jira 配置步骤 4
- en: 'Now, you must set up the administrator account for Jira. It is important that
    you keep the account details somewhere safe and do not lose the password. Since
    Jira only stores the hashed value of the password instead of the actual password
    itself, you will not be able to retrieve it. Fill in the administrator account
    details and click on **Next**:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您必须为 Jira 设置管理员帐户。确保将帐户详细信息保存在安全的地方，并且不要丢失密码。由于 Jira 只存储密码的哈希值，而不是实际的密码，您将无法恢复它。填写管理员帐户的详细信息并点击**下一步**：
- en: '![Figure 1.16 – Jira configuration step 5'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.16 – Jira 配置步骤 5'
- en: '](img/Figure_1.16_B18644.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.16_B18644.jpg)'
- en: Figure 1.16 – Jira configuration step 5
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – Jira 配置步骤 5
- en: Important note
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 重要说明
- en: This account is important, and it can help you troubleshoot and fix problems
    later on. Do not lose it!
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 这个帐户非常重要，它可以帮助您排除故障并解决问题。千万不要丢失它！
- en: 'Next, you must set up your email server details. Jira will use the information
    configured here to send out notification emails. Notifications are a very powerful
    feature in Jira and one of the primary ways Jira communicates with users. If you
    do not have your email server information handy, you can skip this step for now
    by selecting the **Later** option and clicking on **Finish**. You can configure
    your email server settings later, as you will see in [*Chapter 8*](B18644_08.xhtml#_idTextAnchor220),
    *Emails and Notifications*:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你需要设置电子邮件服务器的详细信息。Jira 将使用这里配置的信息发送通知邮件。通知是 Jira 中一个非常强大的功能，也是 Jira 与用户沟通的主要方式之一。如果你没有准备好电子邮件服务器的信息，你可以通过选择**稍后**选项并点击**完成**来跳过此步骤。你可以稍后再配置电子邮件服务器设置，正如你将在[*第8章*](B18644_08.xhtml#_idTextAnchor220)中看到的，*电子邮件和通知*：
- en: '![Figure 1.17 – Jira configuration step 6'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.17 – Jira 配置步骤 6'
- en: '](img/Figure_1.17_B18644.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.17_B18644.jpg)'
- en: Figure 1.17 – Jira configuration step 6
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17 – Jira 配置步骤 6
- en: 'Congratulations! You have completed your Jira setup. You should now see the
    welcome page, and be automatically logged in as the administrator user you created
    in *Step 5*. On the welcome page, you will need to set up a few user preferences,
    such as the default language and profile picture. Follow the onscreen prompts
    to set up the account. Once you are done, you should be presented with the options
    to create a sample project, a new project from scratch, or import project data
    from other sources, as shown in the following screenshot:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！你已经完成了 Jira 的设置。此时你应该能看到欢迎页面，并且已经自动以你在*第5步*中创建的管理员用户身份登录。在欢迎页面上，你需要设置一些用户偏好，例如默认语言和头像。按照屏幕上的提示设置账户。完成后，你将看到创建示例项目、从头开始创建新项目或从其他来源导入项目数据的选项，如下图所示：
- en: '![Figure 1.18 – Jira welcome page'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.18 – Jira 欢迎页面'
- en: '](img/Figure_1.18_B18644.jpg)'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.18_B18644.jpg)'
- en: Figure 1.18 – Jira welcome page
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.18 – Jira 欢迎页面
- en: With that, Jira is fully configured. We will cover the various features and
    things you can do with it later in this book, but for now, we will look at some
    additional management and configuration options for Jira, starting with how to
    start and stop Jira as a service.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 至此，Jira 已完全配置好。我们将在本书的后续章节中介绍你可以使用的各种功能，但现在，我们将先看一下 Jira 的一些额外管理和配置选项，从如何作为服务启动和停止
    Jira 开始。
- en: Starting and stopping Jira
  id: totrans-209
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 启动和停止 Jira
- en: 'Since we used Windows Installer, Jira is installed as a Windows service. Therefore,
    you can start, stop, and restart it via the Windows **Services** console. In the
    **Services** console, look for **Atlassian Jira**. Here, you will be able to stop
    and start the application, as shown in the following screenshot:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们使用了 Windows 安装程序，Jira 被安装为 Windows 服务。因此，你可以通过 Windows **服务**控制台来启动、停止和重启
    Jira。在**服务**控制台中，寻找**Atlassian Jira**。在这里，你将能够停止和启动该应用程序，如下图所示：
- en: '![Figure 1.19 – Windows Services'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.19 – Windows 服务'
- en: '](img/Figure_1.19_B18644.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.19_B18644.jpg)'
- en: Figure 1.19 – Windows Services
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.19 – Windows 服务
- en: If you installed Jira using the archive options, you can start and stop Jira
    using the scripts provided in the `JIRA_INSTALL\bin` directory, which are `start-jira.sh`
    and `stop-jira.sh` for Linux, and `start-jira.bat` and `stop-jira.bat` for Windows.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你通过归档选项安装了 Jira，你可以使用`JIRA_INSTALL\bin`目录中的脚本来启动和停止 Jira，Linux 系统上是`start-jira.sh`和`stop-jira.sh`，Windows
    系统上是`start-jira.bat`和`stop-jira.bat`。
- en: Now that we know how to start and stop Jira, let’s look at some of the additional
    configurations, such as **allocating memory**.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道了如何启动和停止 Jira，接下来让我们来看一些额外的配置选项，比如**分配内存**。
- en: Post-installation configuration
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装后配置
- en: The post-installation configuration steps are optional, depending on your needs
    and environment. If you set up Jira for evaluation purposes, you probably do not
    need to perform any of the following steps, but it is always good practice to
    be familiar with these as a reference.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 安装后的配置步骤是可选的，取决于你的需求和环境。如果你是为了评估目的而设置 Jira，那么你可能不需要执行以下任何步骤，但作为参考，熟悉这些步骤总是一个好的实践。
- en: You will need to restart Jira after making the changes that will be discussed
    in the next section.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中讨论的更改完成后，你需要重启 Jira。
- en: Increasing Jira’s memory
  id: totrans-219
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 增加 Jira 的内存
- en: 'The default memory setting for Jira is usually sufficient for a small to medium-sized
    deployment. As Jira’s adoption rate increases, you will find that the amount of
    memory allocated by default is no longer enough. If Jira is running as a Windows
    service, as we described in this chapter, you can increase the memory as follows:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 的默认内存设置通常足以支持小型到中型部署。当 Jira 的使用率增加时，你会发现默认分配的内存已不再足够。如果 Jira 作为 Windows
    服务运行，如本章所述，你可以按如下方式增加内存：
- en: Find the service name for Jira. You can do this by going to the Windows `JIRA150215215627`.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查找 Jira 的服务名称。你可以通过访问 Windows 的 `JIRA150215215627` 来找到它。
- en: Open a new Command Prompt and change the current working directory to the `JIRA_INSTALL\bin`
    directory.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个新的命令提示符窗口，将当前工作目录更改为 `JIRA_INSTALL\bin` 目录。
- en: 'Run the following command by substituting the actual service name for Jira:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令，替换为实际的 Jira 服务名称：
- en: '[PRE1]'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Select the **Java** tab, update the **Initial memory pool** and **Maximum memory
    pool** sizes, and click on **OK**:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **Java** 选项卡，更新 **初始内存池** 和 **最大内存池** 的大小，然后点击 **确定**：
- en: '![Figure 1.20 – Jira memory settings'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.20 – Jira 内存设置'
- en: '](img/Figure_1.20_B18644.jpg)'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.20_B18644.jpg)'
- en: Figure 1.20 – Jira memory settings
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.20 – Jira 内存设置
- en: Restart Jira to apply the change.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重启 Jira 以应用更改。
- en: 'If you are not running Jira as a Windows service, you need to open the `setenv.bat`
    file (for Windows) or the `setenv.sh` file (for Linux) in the `JIRA_INSTALL\bin`
    directory. Then, locate the following lines:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有将 Jira 作为 Windows 服务运行，则需要打开 `JIRA_INSTALL\bin` 目录下的 `setenv.bat` 文件（适用于
    Windows）或 `setenv.sh` 文件（适用于 Linux）。然后，定位到以下几行：
- en: '[PRE2]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Change the value for the two parameters and restart Jira. Normally, 4 GB (4,096
    MB) of memory is enough to support a fairly large instance of Jira used by hundreds
    of users.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 更改这两个参数的值并重启 Jira。通常，4 GB（4,096 MB）的内存足以支持一个由数百名用户使用的较大 Jira 实例。
- en: The initial memory pool or `JVM_MINIMUM_MEMORY` parameter determines the amount
    of memory Jira will start with. Usually, the smaller the amount, the faster Jira
    will start up. The maximum memory pool or `JVM_MAXIMUM_MEMORY` parameter determines
    the maximum amount of memory Jira can use. If the two values are not the same,
    Jira will start up with the minimum amount of memory and grow to the maximum as
    more and more users start to use Jira.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 初始内存池或 `JVM_MINIMUM_MEMORY` 参数决定了 Jira 启动时的内存量。通常，内存越少，Jira 启动越快。最大内存池或 `JVM_MAXIMUM_MEMORY`
    参数决定了 Jira 可以使用的最大内存量。如果这两个值不相同，Jira 将以最小内存启动，并随着用户的增加而逐渐增长至最大内存。
- en: Important note
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Make sure that you have sufficient physical RAM available before allocating
    instances to Jira.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在分配实例给 Jira 之前，请确保你有足够的物理内存可用。
- en: Changing Jira’s port number and context path
  id: totrans-236
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更改 Jira 的端口号和上下文路径
- en: 'As part of the installation process, the installation wizard prompted us to
    decide which port Jira should listen to for incoming connections. If you accepted
    the default value, then this will be port `8080`. If you change your mind and
    want to change this setting later, you can do so by locating and opening the `server.xml`
    file in a text editor in the `JIRA_INSTALL/conf` directory. Let’s examine the
    relevant contents of this file:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装过程中，安装向导会提示我们选择 Jira 用于接收连接的端口。如果你接受了默认值，那么该端口将是 `8080`。如果你改变主意，想要稍后更改该设置，你可以通过在文本编辑器中打开
    `JIRA_INSTALL/conf` 目录下的 `server.xml` 文件来实现。我们来看一下该文件的相关内容：
- en: '[PRE3]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This preceding line specifies the port for the command to shut down Jira. By
    default, it is port `8005`. If you already have an application that is running
    on that port (for example, another instance of Jira), you need to change this
    to a different port. The following line specifies which port Jira will be running
    on:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 上述行指定了用于关闭 Jira 的端口。默认情况下是端口 `8005`。如果该端口已被其他应用（例如另一个 Jira 实例）占用，你需要将其更改为其他端口。以下行指定了
    Jira 将运行的端口：
- en: '[PRE4]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'By default, Jira will be running on port `8080`. If you already have an application
    that is running on that port, or if the port is unavailable for some reason, you
    need to change it to another available port. The following line allows you to
    specify the context that Jira will be running under:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Jira 将在端口 `8080` 上运行。如果该端口已经被其他应用占用，或者由于某种原因该端口不可用，你需要将其更改为另一个可用端口。以下行允许你指定
    Jira 将运行的上下文路径：
- en: '[PRE5]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: By default, the value is empty, which means Jira will be accessible from `http://hostname:portnumber`.
    If you decide to specify a context, the URL will be `http://hostname:portnumber/context`.
    In our example, Jira will be accessible from `http://localhost:8080/jira`.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，值为空，这意味着 Jira 将通过 `http://hostname:portnumber` 访问。如果你决定指定一个上下文，URL 将是
    `http://hostname:portnumber/context`。在我们的示例中，Jira 将通过 `http://localhost:8080/jira`
    访问。
- en: Configuring HTTPS
  id: totrans-244
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置 HTTPS
- en: By default, Jira runs with a standard, non-encrypted HTTP protocol. This is
    acceptable if you are running Jira in a secured environment, such as an internal
    network. However, if you plan to open up access to Jira over the internet, you
    will need to tighten up security by encrypting sensitive data, such as usernames
    and passwords that are being sent, by enabling HTTPS (HTTP over SSL).
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Jira 使用标准的、未加密的 HTTP 协议运行。如果你在一个安全的环境中运行 Jira，例如内部网络，那么这样是可以接受的。然而，如果你打算通过互联网开放
    Jira 的访问，你需要通过启用 HTTPS（基于 SSL 的 HTTP）来加密敏感数据，如正在传输的用户名和密码，从而增强安全性。
- en: 'For a standalone installation, you will need to do the following, in order:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 对于独立安装，你需要按以下顺序进行操作：
- en: Obtain and install a certificate
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取并安装证书
- en: Enable HTTPS on your application server (Tomcat)
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的应用服务器（Tomcat）上启用 HTTPS
- en: Redirect traffic to HTTPS
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将流量重定向到 HTTPS
- en: First, you need to get a digital certificate. This can be obtained from a certification
    authority, such as *VeriSign* (CA certificate), or a self-signed certificate that’s
    been generated by you. A CA certificate will not only encrypt data for you but
    also identify your copy of Jira to the users. A self-signed certificate is useful
    when you do not have a valid CA certificate and you are only interested in setting
    up HTTPS for encryption. Since a self-signed certificate is not signed by a certification
    authority, it is unable to identify your site to the public and users will be
    prompted with a warning that the site is untrusted when they first visit it. However,
    for evaluation purposes, a self-signed certificate will suffice until you can
    get a proper CA certificate.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你需要获取一个数字证书。这个证书可以从认证机构获取，比如 *VeriSign*（CA 证书），或者是你自己生成的自签名证书。CA 证书不仅会为你加密数据，还会将你的
    Jira 副本识别给用户。自签名证书适用于你没有有效的 CA 证书，并且只关心为加密设置 HTTPS 的情况。由于自签名证书没有经过认证机构的签署，它无法向公众识别你的站点，因此用户首次访问时会收到站点不受信任的警告。然而，出于评估目的，自签名证书足以在你获得合适的
    CA 证书之前使用。
- en: 'For this exercise, we will create a self-signed certificate to illustrate the
    complete process. If you have a CA certificate, you can skip the following steps:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 在本练习中，我们将创建一个自签名证书，以说明完整的过程。如果你有一个 CA 证书，可以跳过以下步骤：
- en: Java comes with a handy tool for certificate management, called `keytool`, which
    can be found in the `JIRA_INSTALL\jre\bin` directory if you are using the installer
    package. If you are using your own Java installation, then you can find it in
    `JAVA_INSTALL\bin`.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Java 提供了一个便捷的证书管理工具，叫做 `keytool`，如果你使用的是安装包，可以在 `JIRA_INSTALL\jre\bin` 目录中找到它。如果你使用的是自定义的
    Java 安装，则可以在 `JAVA_INSTALL\bin` 中找到它。
- en: 'To generate a self-signed certificate, run the following commands from Command
    Prompt:'
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要生成自签名证书，请从命令提示符运行以下命令：
- en: '[PRE6]'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This will create a KeyStore (if one does not already exist) and export the self-signed
    certificate (`file.cer`). When you run the first command, you will be asked to
    set the password for the KeyStore and Tomcat. You need to use the same password
    for both. The default password is `changeit`. You can specify a different password
    of your choice, but then you have to let Jira/Tomcat know, as we will see later.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将创建一个 KeyStore（如果尚未存在），并导出自签名证书（`file.cer`）。当你运行第一个命令时，会要求你为 KeyStore 和 Tomcat
    设置密码。你需要为两者使用相同的密码。默认密码是`changeit`。你可以指定一个不同的密码，但随后你需要让 Jira/Tomcat 知道这个密码，稍后我们会看到如何操作。
- en: 'Now that you have your certificate ready, you need to import it into your trust
    store for Tomcat to use. Again, you will use the `keytool` application in Java:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经准备好证书，接下来需要将它导入到你的信任库中，供 Tomcat 使用。同样，你将使用 Java 中的 `keytool` 工具：
- en: '[PRE7]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This will import the certificate into your trust store, which can be used by
    JIRA/Tomcat to set up HTTPS.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 这将把证书导入到你的信任库中，JIRA/Tomcat 可以使用该证书来设置 HTTPS。
- en: 'To enable HTTPS on Tomcat, open the `server.xml` file in a text editor from
    the `JIRA_INSTALL/conf` directory. Locate the following configuration snippet:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 Tomcat 上启用 HTTPS，请在文本编辑器中打开 `JIRA_INSTALL/conf` 目录下的 `server.xml` 文件。找到以下配置片段：
- en: '[PRE8]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'This enables HTTPS for Jira on port `8443`. If you have selected a different
    password for your KeyStore, you will have to add the following line to the end
    of the preceding snippet before the closing tag:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 这为 Jira 启用了 `8443` 端口的 HTTPS。如果你为 KeyStore 选择了不同的密码，你需要在关闭标签之前，将以下行添加到前面代码片段的末尾：
- en: '[PRE9]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The last step is to set up Jira so that it automatically redirects from a non-HTTP
    request to an HTTPS request. Find and open the `web.xml` file in the `JIRA_INSTALL/atlassian-jira/WEB-INF`
    directory. Then, add the following snippet to the end of the file before the closing
    `</web-app>` tag:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是设置 Jira，使其从非 HTTPS 请求自动重定向到 HTTPS 请求。找到并打开 `JIRA_INSTALL/atlassian-jira/WEB-INF`
    目录中的 `web.xml` 文件。然后，在文件末尾的 `</web-app>` 标签之前，添加以下代码片段：
- en: '[PRE10]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Now, when you access Jira with a normal HTTP URL, such as `http://localhost:8080/jira`,
    you will be automatically redirected to its HTTPS equivalent – that is, `https://localhost:8443/jira`.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，当你通过正常的 HTTP URL 访问 Jira，如 `http://localhost:8080/jira`，你将自动被重定向到其 HTTPS
    对应地址 —— 即 `https://localhost:8443/jira`。
- en: Clustering
  id: totrans-266
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集群化
- en: 'So far, our Jira instance is running in standalone mode, which means it is
    serving all the requests by itself and is not yet cluster-enabled. Some of the
    main benefits of running Jira in a cluster are as follows:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们的 Jira 实例运行在独立模式下，这意味着它独自处理所有请求，尚未启用集群模式。运行 Jira 集群的主要好处如下：
- en: '**Improved performance at scale**: By running a cluster with multiple nodes,
    Jira’s ability to serve concurrent user requests is greatly improved, leading
    to better response time and overall user satisfaction.'
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在规模化时的性能提升**：通过运行一个包含多个节点的集群，Jira 同时处理多个用户请求的能力大大提高，从而提升响应时间和整体用户满意度。'
- en: '**High availability and failover**: With multiple nodes running in a cluster,
    if any individual node becomes unavailable for any reason, other nodes within
    the cluster can continue to serve your users, thus avoiding downtime.'
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高可用性和故障转移**：通过在集群中运行多个节点，如果任何一个节点因故障而不可用，集群中的其他节点仍然可以继续为用户提供服务，从而避免停机时间。'
- en: '**Zero-downtime upgrade**: Usually, when you need to upgrade Jira, there will
    be downtime involved in the process. When running a Jira cluster, you can upgrade
    each node individually at a time so that other nodes in the cluster can continue
    to serve your users.'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**零停机升级**：通常，在你需要升级 Jira 时，过程会涉及停机。但在运行 Jira 集群时，你可以逐个节点地升级，以便集群中的其他节点继续为用户提供服务。'
- en: 'To configure Jira to run in a cluster, you must do the following:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 配置 Jira 以在集群中运行，你必须执行以下操作：
- en: Create a shared file home directory for both nodes to access.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为两个节点创建一个共享的文件主目录，以便它们都可以访问。
- en: Add cluster configuration to our current Jira instance.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将集群配置添加到当前的 Jira 实例中。
- en: Add another Jira instance to be the second node in our cluster. Technically,
    you can have a single node cluster, but for this exercise, we will add another
    node to the cluster so that you can see the cluster in action.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加另一个 Jira 实例，作为集群中的第二个节点。从技术上讲，你可以拥有一个单节点集群，但为了这个练习，我们将添加另一个节点，以便你能看到集群的实际运行情况。
- en: Add and configure a load balancer to distribute incoming traffic to both nodes.
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加并配置负载均衡器，将传入流量分配到两个节点。
- en: Now that we know what we need to run Jira in a cluster, let’s start preparing!
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道了运行 Jira 集群所需的条件，让我们开始准备吧！
- en: Preparing for clustering
  id: totrans-277
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备集群化
- en: 'The first step in enabling clustering is to prepare the hardware required.
    For a Jira cluster, you will have the following components:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 启用集群化的第一步是准备所需的硬件。对于一个 Jira 集群，你将需要以下组件：
- en: '**Load balancer**: This can be any load balancer that supports session affinity
    (sticky sessions), such as Apache and nginx.'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**负载均衡器**：这可以是任何支持会话亲和性（粘性会话）的负载均衡器，例如 Apache 和 nginx。'
- en: '**Jira instance node**: This will contain separate Jira instances that will
    be part of the cluster.'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Jira 实例节点**：这将包含作为集群一部分的独立 Jira 实例。'
- en: '**Database**: This is the same database you are using for your standalone deployment.
    Note that since all Jira nodes will be sharing the same database, the in-memory
    H2 database will not work in a cluster.'
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据库**：这是你为独立部署使用的相同数据库。需要注意的是，由于所有 Jira 节点将共享相同的数据库，因此内存中的 H2 数据库在集群中无法使用。'
- en: '**Shared file drive**: The Jira cluster needs to have a shared home directory
    that all Jira nodes can read and write to.'
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**共享文件驱动器**：Jira 集群需要一个共享的主目录，所有 Jira 节点都能读取和写入。'
- en: Ideally, each component listed previously should be running on its own server,
    so for a two-node cluster, you will need a minimum of three servers and a shared
    network drive. You can run multiple Jira nodes on the same server, but you should
    only do this for evaluation purposes, as it diminishes the benefits of having
    a cluster.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，每个前面列出的组件应该运行在独立的服务器上，因此，对于一个两节点集群，你至少需要三台服务器和一个共享的网络驱动器。你可以在同一台服务器上运行多个
    Jira 节点，但仅应将其用于评估目的，因为这样会降低集群的优势。
- en: 'When preparing servers for the Jira nodes, you need to ensure the following:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 在为 Jira 节点准备服务器时，需要确保以下事项：
- en: All node servers are located in the same data center or region (for cloud vendors
    such as AWS and Azure)
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有节点服务器位于相同的数据中心或地区（对于 AWS 和 Azure 等云服务商）
- en: You have the same software and hardware specifications, including memory, operating
    system, and Java version
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你需要确保软件和硬件规格相同，包括内存、操作系统和 Java 版本。
- en: All nodes are running the same version of Jira
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有节点都运行相同版本的 Jira
- en: The nodes have been configured to be in the same timezone
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 节点已配置为处于相同的时区
- en: Creating JIRA_SHARED_HOME
  id: totrans-289
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建 JIRA_SHARED_HOME
- en: 'The first step is to create a new directory where the cluster can store its
    data files. We will refer to this directory as `JIRA_SHARED_HOME`. This can be
    a network drive that allows all Jira nodes to read from and write to. Copy over
    the following directories from your standalone Jira instance’s `JIRA_HOME` directory
    to the new shared directory:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是创建一个新目录，集群可以在其中存储其数据文件。我们将此目录称为 `JIRA_SHARED_HOME`。这可以是一个网络驱动器，允许所有 Jira
    节点进行读写操作。将以下目录从你的独立 Jira 实例的 `JIRA_HOME` 目录复制到新的共享目录：
- en: '`data`'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`data`'
- en: '`plugins`'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`plugins`'
- en: '`logos`'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`logos`'
- en: '`import`'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`import`'
- en: '`export`'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`export`'
- en: '`caches`'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`caches`'
- en: Enabling clustering
  id: totrans-297
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启用集群
- en: The second step is to enable clustering for your first Jira node. This is done
    by adding a new `cluster.properties` file to its local `JIRA_HOME` directory.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 第二步是为你的第一个 Jira 节点启用集群。这通过在其本地 `JIRA_HOME` 目录中添加一个新的 `cluster.properties` 文件来完成。
- en: Shut down your Jira standalone instance.
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭你的 Jira 独立实例。
- en: Create a new file called `cluster.properties`.
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的 `cluster.properties` 文件。
- en: 'Add the following lines to the files:'
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下行添加到文件中：
- en: '[PRE11]'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Start Jira.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 Jira。
- en: Adding a node to the load balancer
  id: totrans-304
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将节点添加到负载均衡器
- en: 'With the first cluster node up and running, we can add another node. We need
    to add this node to the load balancer so that it can start routing traffic to
    it. The exact configuration will differ, depending on what you use for the load
    balancer. The following is an example using Apache:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一个集群节点启动并运行后，我们可以添加另一个节点。我们需要将此节点添加到负载均衡器中，以便它可以开始路由流量。具体配置将根据你使用的负载均衡器有所不同。以下是使用
    Apache 的示例：
- en: '[PRE12]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Note that for Apache, you will need to enable the `proxy_balancer_module` module.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，对于 Apache，你需要启用 `proxy_balancer_module` 模块。
- en: Adding new nodes to the cluster
  id: totrans-308
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将新节点添加到集群
- en: 'To add a new node to the cluster, follow these steps:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 要将新节点添加到集群，请按照以下步骤操作：
- en: Copy over the `JIRA_HOME` directory from our existing Jira instance to the new
    node server.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将现有 Jira 实例的 `JIRA_HOME` 目录复制到新节点服务器上。
- en: Install a new Jira instance on the new server.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新服务器上安装一个新的 Jira 实例。
- en: Edit the `cluster.properties` files and change the `jira.node.id` value.
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑 `cluster.properties` 文件，并更改 `jira.node.id` 的值。
- en: Add the new node to the load balancer.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新节点添加到负载均衡器。
- en: Start the new Jira node.
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动新的 Jira 节点。
- en: If you are running the second node on the same server, you will also need to
    change the port numbers for `ehcache.listener.port` and `ehcache.object.port`
    in the `cluster.properties` file, and the port numbers in the `server.xml` file,
    as mentioned in the *Changing Jira’s port number and context path* section.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在同一台服务器上运行第二个节点，还需要在 `cluster.properties` 文件中更改 `ehcache.listener.port` 和
    `ehcache.object.port` 的端口号，以及在 `server.xml` 文件中更改端口号，正如 *更改 Jira 的端口号和上下文路径* 部分所述。
- en: 'And with this, you should have a two-node Jira cluster up and running. Now,
    if you log into Jira and go to **Administration** | **System** | **Clustering**,
    you should see both nodes listed, with the node currently serving you highlighted
    in bold, as shown here:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 至此，你应该有一个运行中的两节点 Jira 集群。如果你登录 Jira 并进入 **Administration** | **System** | **Clustering**，你应该会看到两个节点，并且当前为你服务的节点会以粗体突出显示，如下所示：
- en: '![Figure 1.21 – Cluster nodes in Jira'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.21 – Jira 中的集群节点'
- en: '](img/Figure_1.21_B18644.jpg)'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.21_B18644.jpg)'
- en: Figure 1.21 – Cluster nodes in Jira
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.21 – Jira 中的集群节点
- en: On this page, you can see all the nodes in your cluster and their status. This
    is very useful to help you troubleshoot your cluster if a node becomes unresponsive
    or is under heavy load.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 在此页面上，你可以查看集群中所有节点及其状态。这对于帮助你排查集群问题非常有用，尤其是当某个节点变得无响应或负载过重时。
- en: Zero-downtime upgrade
  id: totrans-321
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 零停机升级
- en: As mentioned earlier, when you are running Jira in a cluster, you can perform
    a **zero-downtime upgrade**, also known as a **rolling upgrade**. With a zero-downtime
    upgrade, you can upgrade each node in the cluster one at a time. When a node is
    being upgraded, other nodes in the cluster will continue serving your users, so
    they will not experience any downtime.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，当你在集群中运行Jira时，可以进行**零停机升级**，也称为**滚动升级**。通过零停机升级，你可以逐个升级集群中的节点。当某个节点正在升级时，集群中的其他节点将继续为用户提供服务，因此用户不会遇到停机问题。
- en: 'Performing a rolling upgrade consists of the following steps:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 执行滚动升级的步骤如下：
- en: Put Jira into **Upgrade** mode. This will allow the Jira cluster to have nodes
    with different versions running at the same time.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Jira置于**升级**模式。这将允许Jira集群同时运行不同版本的节点。
- en: Upgrade each node in the cluster one at a time.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 逐个升级集群中的每个节点。
- en: Finalize the upgrade once all the nodes have been upgraded.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所有节点升级完成后，最终完成升级。
- en: 'We will start by putting Jira into **Upgrade** mode:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先将Jira置于**升级**模式：
- en: Log into Jira as an administrator.
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录Jira。
- en: Browse to **Administration** | **Applications** | **Jira upgrades**.
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览至**管理** | **应用程序** | **Jira升级**。
- en: 'Click **Put Jira into upgrade mode**:'
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**将Jira置于升级模式**：
- en: '![Figure 1.22 – Zero-downtime upgrade'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 1.22 – 零停机升级'
- en: '](img/Figure_1.22_B18644.jpg)'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_1.22_B18644.jpg)'
- en: Figure 1.22 – Zero-downtime upgrade
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.22 – 零停机升级
- en: Once Jira has been put into **Upgrade** mode, you can shut down a node in the
    cluster and upgrade it. After a node has been upgraded, you can restart it and
    repeat this process for other nodes in the cluster.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦Jira进入**升级**模式，你可以关闭集群中的一个节点并对其进行升级。升级完成后，你可以重新启动该节点，并对集群中的其他节点重复此过程。
- en: 'After you have upgraded all the nodes in the cluster, you need to finalize
    the upgrade by doing the following:'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 升级完集群中的所有节点后，你需要通过以下步骤完成升级：
- en: Browsing to **Administration** | **Applications** | **Jira upgrades**.
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览至**管理** | **应用程序** | **Jira升级**。
- en: Clicking **Finalize upgrade**.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**完成升级**。
- en: Once you have clicked on **Finalize** **Upgrade**, this will complete the upgrade
    process for your cluster. By doing a rolling upgrade like this, you can upgrade
    your entire cluster without disrupting your users with downtime.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**完成升级**后，这将完成集群的升级过程。通过这种滚动升级，你可以在不打扰用户的情况下升级整个集群，避免停机。
- en: Summary
  id: totrans-339
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: Jira is a powerful, yet simple, application, as reflected in its straightforward
    installation procedures. You have a wide variety of options available so that
    you can choose how you would like to install and configure your copy. You can
    mix and match different aspects, such as operating systems and databases, to best
    suit your requirements. You can run a standalone deployment to get started, and
    later turn it into a cluster as the adoption of Jira grows in your organization.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: Jira是一个功能强大而简单的应用程序，其简便的安装流程也体现了这一点。你有各种选择，可以根据需要选择安装和配置你的版本。你可以将操作系统和数据库等不同方面组合搭配，以最适合你的需求。你可以先运行一个独立部署，然后在Jira在组织中的使用量增长时，将其转变为集群。
- en: In the next chapter, we will start to explore various aspects of Jira, starting
    with projects, and how you can use Jira to manage them for business teams.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，我们将开始探索Jira的各个方面，从项目开始，并讨论如何使用Jira来管理业务团队的项目。
