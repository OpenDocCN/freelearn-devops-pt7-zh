- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Over the last few years, the world of IT has seen radical shifts in the ways
    in which software applications are developed and deployed. The rise of automation,
    cloud computing, and virtualization has fundamentally shifted how system administrators,
    software developers, and organizations as a whole view and manage infrastructure.
    Just a few years ago, it would seem unthinkable to many in the IT industry to
    allow mission-critical applications to be run outside the walls of the corporate
    data center. However, now there are more organizations than ever migrating infrastructure
    to cloud services such as AWS, Azure, and Google Compute in an effort to save
    time and cut back on overhead costs related to running physical infrastructure.
    By abstracting away the hardware, companies can focus on what really matters—the
    software applications that serve their users.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的几年中，IT 领域在软件应用开发和部署的方式上发生了剧变。自动化、云计算和虚拟化的兴起，深刻改变了系统管理员、软件开发人员以及整个组织如何看待和管理基础设施。几年前，很多
    IT 行业内的人认为，允许关键任务应用程序在企业数据中心外运行几乎是不可能的。然而，现在比以往更多的组织将基础设施迁移到云服务，如 AWS、Azure 和
    Google Compute，以节省时间并削减与运行物理基础设施相关的开销成本。通过抽象化硬件，企业可以将注意力集中在真正重要的事物上——为用户提供服务的软件应用。
- en: The next great tidal wave within the IT field formally started in 2013 with
    the initial release of the Docker container engine. Docker allowed users to easily
    package software into small, reusable execution environments known as containers,
    leveraging features in the Linux kernel for use with LXC (Linux Containers). Using
    Docker, developers can create microservice applications that can be built quickly,
    are guaranteed to run in any environment, and leverage reusable service artifacts
    (container images) that can be version controlled. As more and more users adopted
    containerized workflows, gaps in execution began to appear. While Docker was great
    at building and running containers, it struggled to be a true end-to-end solution
    across the entire container life cycle.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: IT 领域的下一波巨大浪潮正式始于 2013 年，Docker 容器引擎的首次发布。Docker 让用户能够轻松地将软件打包成小型、可重用的执行环境，称为容器，并利用
    Linux 内核中的特性与 LXC（Linux 容器）一起使用。使用 Docker，开发人员可以创建微服务应用程序，这些应用程序可以快速构建、在任何环境中都能运行，并利用可版本控制的可重用服务工件（容器镜像）。随着越来越多的用户采用容器化工作流，执行过程中开始出现一些问题。尽管
    Docker 在构建和运行容器方面表现出色，但它在整个容器生命周期中难以成为一个真正的端到端解决方案。
- en: The Ansible Container project was developed to bring the power of the Ansible
    configuration management and automation platform to the world of containers. Ansible
    Container bridges the container life cycle management gap by allowing container
    build and deploy pipelines to speak the Ansible language. Using Ansible Container,
    you can leverage the powerful Ansible configuration management language to not
    only build containers, but deploy full-scale applications on remote servers and
    cloud platforms.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Ansible Container 项目旨在将 Ansible 配置管理和自动化平台的强大功能引入容器世界。Ansible Container 弥补了容器生命周期管理的空白，它允许容器的构建和部署流水线使用
    Ansible 语言。通过使用 Ansible Container，你不仅可以构建容器，还能利用强大的 Ansible 配置管理语言，在远程服务器和云平台上部署全规模应用。
- en: This book will serve as a guide to working with the Ansible Container project.
    It is my goal that by the end of this book, you will have a firm understanding
    of how Ansible Container works, and how to leverage its many capabilities to build
    robust containerized software stacks from development all the way to production.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将作为使用 Ansible Container 项目的指南。我的目标是通过本书的学习，你将牢固地理解 Ansible Container 的工作原理，并能够利用其众多功能，从开发到生产环境，构建稳健的容器化软件堆栈。
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[Chapter 1](61a61ca8-60d4-48a0-8987-6f719d6a2c36.xhtml), *Building Containers
    with Docker*, introduces the reader to what Docker is, how it works, and the basics
    of using Dockerfiles and Docker Compose. This chapter lays down the foundational
    concepts needed to start learning how to use Ansible Container.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 1 章](61a61ca8-60d4-48a0-8987-6f719d6a2c36.xhtml)，*使用 Docker 构建容器*，向读者介绍了
    Docker 是什么，它是如何工作的，以及如何使用 Dockerfile 和 Docker Compose 的基础知识。本章奠定了学习如何使用 Ansible
    Container 所需的基础概念。'
- en: '[Chapter 2](089af66a-24d7-4d4d-bcfd-56bfe873ea91.xhtml), *Working with Ansible
    Container*, explores the Ansible Container workflow. This chapter gives the reader
    familiarity with the core Ansible Container concepts such as build, run, and destroy.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](089af66a-24d7-4d4d-bcfd-56bfe873ea91.xhtml)，*使用 Ansible Container*，探讨了
    Ansible Container 工作流。本章使读者熟悉 Ansible Container 的核心概念，如构建、运行和销毁。'
- en: '[Chapter 3](4b15cefb-8d9c-48b7-8927-126501886315.xhtml), *Your First Ansible
    Container Project*, gives the user experience in building a simple Ansible Container
    project by leveraging a community role available on Ansible Galaxy. By the end
    of this chapter, the reader will be familiar with building projects and pushing
    container artifacts to container image repositories such as Docker Hub.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](4b15cefb-8d9c-48b7-8927-126501886315.xhtml)，*你的第一个 Ansible 容器项目*，通过利用
    Ansible Galaxy 上的社区角色，带给用户构建一个简单 Ansible 容器项目的体验。在本章结束时，读者将熟悉如何构建项目并将容器制品推送到像
    Docker Hub 这样的容器镜像仓库。'
- en: '[Chapter 4](747fd1c6-46e4-424a-be59-5bbf20deb5ed.xhtml), *What''s in a Role?*,
    gives the user an overview of how to write custom container-enabled roles for
    use with Ansible Container. The overarching goal of this chapter is to write a
    role that builds a fully functional MariaDB container image from scratch. By the
    end of this chapter, the user should have basic familiarity with writing Ansible
    playbooks using proper style and syntax.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](747fd1c6-46e4-424a-be59-5bbf20deb5ed.xhtml)，*角色中有什么？*，向用户概述了如何编写自定义容器启用的角色以供
    Ansible Container 使用。本章的总体目标是编写一个角色，从头开始构建一个功能完备的 MariaDB 容器镜像。在本章结束时，用户应对使用正确风格和语法编写
    Ansible playbook 有基本了解。'
- en: '[Chapter 5](ccc07e61-25e7-4984-953b-586b28b12aab.xhtml), *Containers at Scale
    with Kubernetes*, gives the reader an overview of the Kubernetes platform and
    core functionality. In this chapter, the reader will have the opportunity to create
    a multi-node Kubernetes cluster in the Google Cloud and run containers inside
    it.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ccc07e61-25e7-4984-953b-586b28b12aab.xhtml)，*使用 Kubernetes 大规模管理容器*，向读者概述了
    Kubernetes 平台及其核心功能。在本章中，读者将有机会在 Google Cloud 中创建一个多节点的 Kubernetes 集群并在其中运行容器。'
- en: '[Chapter 6](d3c6ddae-003d-4f20-a3a5-efd018ac61ee.xhtml), *Managing Containers
    with OpenShift*, introduces the reader to Redhat''s OpenShift platform. This chapter
    gives the reader the steps required to deploy a local OpenShift cluster using
    Minishift and run containerized workloads on it. This chapter also looks at the
    key differences between Kubernetes and OpenShift, even though the architectures
    are fundamentally similar.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](d3c6ddae-003d-4f20-a3a5-efd018ac61ee.xhtml)，*使用 OpenShift 管理容器*，向读者介绍了
    Redhat 的 OpenShift 平台。本章向读者展示了使用 Minishift 部署本地 OpenShift 集群并在其上运行容器化工作负载所需的步骤。本章还探讨了
    Kubernetes 和 OpenShift 之间的关键区别，尽管它们的架构本质上是相似的。'
- en: '[Chapter 7](ef89f30f-00a9-4f4c-93b9-009474fc3022.xhtml), *Deploying Your First
    Project* takes an in-depth look at the final command in the Ansible Container
    workflow—deploy. Using deploy, the reader will gain first-hand experience of deploying
    previously built projects to Kubernetes and OpenShift using the Ansible Container
    as an end-to-end workflow tool.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ef89f30f-00a9-4f4c-93b9-009474fc3022.xhtml)，*部署你的第一个项目*，深入探讨了 Ansible
    Container 工作流中的最终命令——部署。通过使用部署，读者将获得将先前构建的项目部署到 Kubernetes 和 OpenShift 上的第一手经验，利用
    Ansible Container 作为端到端工作流工具。'
- en: '[Chapter 8](f734178a-8a55-4fc5-9961-13e8182fdda7.xhtml), *Building and Deploying
    a Multi-Container Project*, looks at how Ansible Container can be used to build
    a project that leverages more than one application container. Critical to a full
    understanding of this topic is an introduction to container networking and configuring
    containers to access network resources. This chapter will give the reader an opportunity
    to build and deploy a multi-container project using Django, Gulp, NGINX, and PostgreSQL
    containers.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](f734178a-8a55-4fc5-9961-13e8182fdda7.xhtml)，*构建和部署多容器项目*，探讨了如何使用 Ansible
    Container 构建一个涉及多个应用容器的项目。要全面理解这一主题，必须先了解容器网络并配置容器以访问网络资源。本章将为读者提供构建和部署一个多容器项目的机会，该项目使用
    Django、Gulp、NGINX 和 PostgreSQL 容器。'
- en: '[Chapter 9](5137aec5-ebc9-44cc-938b-8959117fff8c.xhtml), *Going Further with
    Ansible Container*, gives the reader an idea of the next steps to take after mastering
    the entire Ansible Container workflow. Topics explored in this section include
    integrating Ansible Container with CICD tools, and sharing projects on Ansible
    Galaxy.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](5137aec5-ebc9-44cc-938b-8959117fff8c.xhtml)，*深入了解 Ansible Container*，为读者提供了掌握整个
    Ansible Container 工作流后应采取的下一步措施。此部分讨论的主题包括将 Ansible Container 与 CICD 工具集成，以及在
    Ansible Galaxy 上共享项目。'
- en: What you need for this book
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书所需的内容
- en: 'This book assumes a beginner-to-medium level of experience of working with
    the Linux operating system, deploying applications, and managing servers. This
    book walks you through the steps required to bring up a fully-functional lab environment
    on your local laptop to quickly get up and running using a Virtualbox and Vagrant
    environment. Prior to starting, it would be helpful to have Virtualbox, Vagrant,
    and the Git command-line client installed and running on your personal computer.
    To run this environment with full specifications, the following system requirements
    must be met or exceeded:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设读者具有初级到中级的 Linux 操作系统使用经验、应用部署经验和服务器管理经验。本书将引导你完成所需步骤，在本地笔记本电脑上建立一个完全功能的实验环境，并快速使用
    VirtualBox 和 Vagrant 环境进行操作。在开始之前，建议读者已经安装并运行 VirtualBox、Vagrant 和 Git 命令行客户端。为了完全符合本环境的要求，必须满足或超过以下系统规格：
- en: 'CPU: 2 cores (Intel Core i5 or equivalent)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CPU：2 核（Intel Core i5 或同等处理器）
- en: 'Memory: 8 GB RAM'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内存：8 GB RAM
- en: 'Disk space: 80 GB'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 硬盘空间：80 GB
- en: 'In this book, you will need the following software list:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，你将需要以下软件列表：
- en: VirtualBox 5.1 or higher
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VirtualBox 5.1 或更高版本
- en: Vagrant 1.9.1 or higher
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vagrant 1.9.1 或更高版本
- en: A text editor that edits YAML files (GitHub Atom or VIM preferred)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个用于编辑 YAML 文件的文本编辑器（推荐使用 GitHub Atom 或 VIM）
- en: Internet connectivity is required to install the necessary packages.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 安装必要的软件包需要互联网连接。
- en: Who this book is for
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合谁阅读
- en: This book is designed to assist those currently working as system administrators,
    DevOps engineers, or technical architects, (or similar roles) to quickly get up
    and running with the Ansible Container workflow. It is helpful as well if the
    reader already has a basic understanding of Docker, Ansible, or other related
    automation platforms prior to reading the book, although not required. It is my
    hope that a user can get a firm understanding of these basics while reading the
    book. The end goal is to help readers gain a solid foundation on how Ansible Container
    can accelerate building, running, testing, and deploying application containers
    from development to production environments.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本书旨在帮助目前担任系统管理员、DevOps 工程师、技术架构师（或类似角色）的人，快速掌握 Ansible 容器工作流。如果读者在阅读本书之前已经具备
    Docker、Ansible 或其他相关自动化平台的基本知识，那么本书将更加有帮助，尽管这不是必需的。我希望读者在阅读本书时能够深入理解这些基础知识。最终目标是帮助读者在了解如何使用
    Ansible Container 加速构建、运行、测试和部署应用容器的过程中，建立从开发到生产环境的坚实基础。
- en: Conventions
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: 'In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning. Code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles are shown as follows: "We can include other contexts through the use of
    the `include` directive."'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，你将看到许多文本样式，它们用于区分不同类型的信息。以下是这些样式的一些示例及其含义解释：文本中的代码词汇、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟
    URL、用户输入以及 Twitter 用户名显示如下：“我们可以通过使用 `include` 指令来包含其他上下文。”
- en: 'A block of code is set as follows:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块如下所示：
- en: '[PRE0]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 所有命令行输入或输出将如下所示：
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "Clicking the Next button moves you to the next screen."'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要词汇**以粗体显示。屏幕上出现的词汇，例如菜单或对话框中的内容，会像这样出现在文本中：“点击 Next 按钮将带你进入下一个屏幕。”'
- en: Warnings or important notes appear like this.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会以如下方式出现。
- en: Tips and tricks appear like this.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧会以如下方式出现。
- en: Reader feedback
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book-what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of. To send us general
    feedback, simply e-mail `feedback@packtpub.com`, and mention the book's title
    in the subject of your message. If there is a topic that you have expertise in
    and you are interested in either writing or contributing to a book, see our author
    guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。让我们知道您对本书的看法——您喜欢或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出您真正能够从中受益的书籍。若要向我们提供一般反馈，只需发送电子邮件至`feedback@packtpub.com`，并在邮件主题中注明书名。如果您在某个领域有专业知识并且有兴趣编写或参与编写书籍，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer Support
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已经成为一本Packt书籍的骄傲拥有者，我们提供了一些内容，帮助您最大限度地从您的购买中获益。
- en: Downloading the color images for this book
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载本书的彩色图像
- en: We also provide you with a PDF file that has color images of the screenshots/diagrams
    used in this book. The color images will help you better understand the changes
    in the output. You can download this file from [https://www.packtpub.com/sites/default/files/downloads/ContainerizationwithAnsible2_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/ContainerizationwithAnsible2_ColorImages.pdf).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还为您提供了一个包含本书中使用的截图/图表彩色图像的PDF文件。这些彩色图像将帮助您更好地理解输出中的变化。您可以从[https://www.packtpub.com/sites/default/files/downloads/ContainerizationwithAnsible2_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/ContainerizationwithAnsible2_ColorImages.pdf)下载此文件。
- en: Errata
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 勘误表
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books-maybe a mistake in the text
    or the code-we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details of your errata. Once your errata is verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title. To view the previously
    submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the Errata section.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已尽力确保内容的准确性，但错误仍然可能发生。如果您在我们的书籍中发现错误——可能是文本或代码中的错误——我们将非常感激您能向我们报告。通过这样做，您可以帮助其他读者避免困扰，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)报告勘误，选择您的书籍，点击“勘误提交表格”链接，并输入勘误的详细信息。一旦您的勘误被验证，您的提交将被接受，并且勘误将上传到我们的网站或添加到该书籍的勘误列表中。要查看已提交的勘误，请访问[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需信息将显示在“勘误”部分。
- en: Piracy
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy. Please contact us at `copyright@packtpub.com`
    with a link to the suspected pirated material. We appreciate your help in protecting
    our authors and our ability to bring you valuable content.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网版权材料盗版是一个跨媒体的持续问题。在Packt，我们非常重视保护我们的版权和许可。如果您在互联网上发现我们作品的非法副本，请立即提供该内容的链接或网站名称，以便我们采取相应措施。请通过`copyright@packtpub.com`联系我们，并附上涉嫌盗版内容的链接。感谢您在保护我们的作者及我们为您提供有价值内容方面的帮助。
- en: Questions
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: If you have a problem with any aspect of this book, you can contact us at `questions@packtpub.com`,
    and we will do our best to address the problem.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在本书的任何方面遇到问题，可以通过`questions@packtpub.com`联系我们，我们会尽力解决问题。
