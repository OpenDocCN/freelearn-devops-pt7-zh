- en: '7'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '7'
- en: Workflow and Business Process
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作流与业务流程
- en: In the previous chapters, we learned some of the basics of Jira and how to customize
    its data collection and presentation with custom fields and screens. In this chapter,
    we will dive in and take a look at workflows, one of the core and most powerful
    features of Jira.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在前几章中，我们学习了 Jira 的一些基础知识，并了解了如何使用自定义字段和屏幕来定制其数据收集和展示。在本章中，我们将深入探讨工作流，这是 Jira
    的核心且最强大的功能之一。
- en: A workflow controls how issues in Jira move from one status to another as they
    are being worked on, often passing from one assignee to another. Unlike many other
    systems, Jira allows you to create your own workflows to resemble your processes.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流控制 Jira 中问题从一个状态到另一个状态的移动，通常是从一个责任人传递到另一个责任人。与许多其他系统不同，Jira 允许你创建自己的工作流，以便与您的流程相似。
- en: 'By the end of this chapter, you will have learned the following:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将学到以下内容：
- en: What a workflow is and what it consists of
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作流是什么以及它包含什么
- en: The relationship between workflows and screens
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作流与屏幕之间的关系
- en: What statuses, transitions, conditions, validators, and post functions are
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 状态、转换、条件、验证器和后置功能是什么
- en: How to create your own workflow with the workflow designer
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用工作流设计器创建你自己的工作流
- en: How to associate a workflow with projects
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何将工作流与项目关联
- en: 'Specifically, we will look at the following topics:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 具体来说，我们将讨论以下内容：
- en: Mapping business processes
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 映射业务流程
- en: Understanding workflows
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解工作流
- en: Managing workflows
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理工作流
- en: Using the workflow designer
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用工作流设计器
- en: Authoring a workflow
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建工作流
- en: Updating an existing workflow
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新现有的工作流
- en: Understanding workflow schemes
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解工作流方案
- en: Applying a workflow scheme to projects
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将工作流方案应用于项目
- en: Delegated workflow management
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 委派的工作流管理
- en: Extending a workflow with workflow add-ons
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过工作流插件扩展工作流
- en: The **human resources** (**HR**) project
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**人力资源**（**HR**）项目'
- en: Mapping business processes
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 映射业务流程
- en: It is often said that a good software system is one that adapts to your business
    and not one that requires your business to adapt to the software. Jira is an excellent
    example of the former. The power of Jira is that you can easily configure it to
    model your existing business processes through the use of workflows.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 常说，一个好的软件系统是能够适应你的业务，而不是要求你的业务去适应软件。Jira 是前者的一个优秀示例。Jira 的强大之处在于，你可以轻松配置它，通过使用工作流来模拟你现有的业务流程。
- en: A business process flow can often be represented as a flow chart. For example,
    a typical approval flow may include tasks such as approval submission, approval
    review, and—finally—approval or rejection of the request, where the user needs
    to follow these tasks in sequential order. You can easily implement this as a
    Jira workflow. Each task will be represented as a workflow status, with transitions
    guiding you on how you can move from one status to the next. In fact, when working
    with workflows, it is often a good approach to first draft the logical flow of
    the process as a flow chart and then implement it as a workflow. As we will see,
    Jira provides many tools to help you visualize your workflows.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一个业务流程通常可以通过流程图来表示。例如，一个典型的审批流程可能包括提交审批、审批审核，最后是审批或拒绝请求的任务，用户需要按顺序完成这些任务。你可以轻松地将其实现为
    Jira 工作流。每个任务将作为一个工作流状态来表示，转换会指引你如何从一个状态转到下一个状态。事实上，在处理工作流时，通常一个好的做法是首先绘制流程的逻辑流程图，然后将其实现为工作流。正如我们将看到的，Jira
    提供了许多工具来帮助你可视化你的工作流。
- en: Now that we have briefly seen how you can map a normal business process to a
    Jira workflow, it is time to take a closer look at the components of a workflow
    and how you can create your own workflows.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经简要了解了如何将一个普通的业务流程映射到 Jira 工作流，接下来是时候更深入地了解工作流的组件，以及如何创建你自己的工作流了。
- en: Understanding workflows
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解工作流
- en: 'A workflow is what Jira uses to model business processes. It is a flow of statuses
    (steps) that issues go through one by one, with paths between the statuses (transitions).
    All issues in Jira have a workflow applied, based on their issue type and project.
    Issues move through workflows from one status (for example, **Open**) to another
    (for example, **Closed**). Jira allows you to visualize and design workflows as
    a diagram, as shown here:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流是 Jira 用来模拟业务流程的工具。它是一系列状态（步骤），问题依次经过这些状态，并且状态之间有路径（转换）。所有 Jira 中的问题都应用了工作流，基于它们的任务类型和项目。问题在工作流中从一个状态（例如，**打开**）移动到另一个状态（例如，**已关闭**）。Jira
    允许你将工作流以图表的形式可视化和设计，如下所示：
- en: '![Figure 7.1 – Jira workflow'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.1 – Jira 工作流'
- en: '](img/Figure_7.01_B18644.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.01_B18644.jpg)'
- en: Figure 7.1 – Jira workflow
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.1 – Jira 工作流
- en: The preceding diagram shows a simple workflow in Jira. The rectangles represent
    the statuses, and the arrow lines represent transitions that link statuses together.
    As you can see, this looks a lot like a normal flow chart depicting the flow of
    a process.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 上面的图示显示了 Jira 中的一个简单工作流。矩形代表状态，箭头线代表连接状态的转换。正如你所看到的，这看起来很像一个普通的流程图，展示了一个过程的流动。
- en: Also, notice that statuses have different colors. The color of a status is determined
    by the category it belongs to. There are three categories—**To Do** (gray), **In
    Progress** (blue), and **Done** (green). Categories help you to easily identify
    where along the workflow an issue is by using color as an indicator.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，请注意状态有不同的颜色。状态的颜色由其所属的类别决定。共有三种类别——**待办**（灰色）、**进行中**（蓝色）和**已完成**（绿色）。类别有助于通过颜色指示器轻松识别问题在工作流中的位置。
- en: 'Issues in Jira, starting from when they are created, go through a series of
    steps identified as issue statuses, such as **In Progress** and **Closed**. These
    movements are often triggered by user interactions. For example, when a user clicks
    on the **Start Progress** link, the issue is transitioned to the **In Progress**
    status, as shown in the following screenshot:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 中的问题，从创建开始，会经过一系列步骤，这些步骤被称为问题状态，例如 **进行中** 和 **已关闭**。这些状态的变化通常由用户操作触发。例如，当用户点击
    **开始进行** 链接时，问题会转到 **进行中** 状态，如下图所示：
- en: '![Figure 7.2 – Transition options for issue'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.2 – 问题的转换选项'
- en: '](img/Figure_7.02_B18644.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.02_B18644.jpg)'
- en: Figure 7.2 – Transition options for issue
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.2 – 问题的转换选项
- en: There is a definitive start of a workflow, which is when an issue is first created,
    but the end of a workflow can sometimes be ambiguous. For example, in the default
    workflow, issues can go from **OPEN** to **CLOSED** to **REOPENED** and back to
    **CLOSED**. By convention, when people talk about the end of a workflow, they
    are usually referring to a status named **CLOSED** or the status where issues
    are given a resolution. Once a resolution is given, the issue comes to a logical
    end. Several built-in features of Jira follow this convention; for example, issues
    with resolutions set will not be displayed on the **Assigned to Me** list on the
    home page.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流有明确的开始时间，即问题首次创建时，但工作流的结束时间有时是模糊的。例如，在默认工作流中，问题可以从 **打开** 转到 **已关闭**，再到 **已重新打开**，然后返回
    **已关闭**。按照惯例，当人们谈论工作流的结束时，通常指的是名为 **已关闭** 的状态，或是给问题指定解决方案的状态。一旦指定了解决方案，问题就进入了一个逻辑上的结束。Jira
    的几个内置功能遵循这一惯例；例如，设置了解决方案的问题将不会显示在主页的 **分配给我** 列表中。
- en: For this reason, when you close an issue, you should either prompt the user
    to select a resolution value by having it on a screen or automatically set the
    resolution value via a post function (post functions are covered later in this
    chapter). When you reopen an issue, you should also clear the resolution value
    from the issue, and this is usually done automatically via a post function as
    well.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，当你关闭一个问题时，应提示用户通过屏幕选择一个解决方案值，或者通过后置功能自动设置解决方案值（后置功能将在本章后面介绍）。当你重新打开一个问题时，也应清除问题的解决方案值，通常这也是通过后置功能自动完成的。
- en: Important note
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: When work for an issue is completed, it should be given a resolution.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 当问题的工作完成时，应为其指定解决方案。
- en: Managing workflows
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理工作流
- en: 'Workflows are controlled and managed centrally from the Jira administration
    console, so you need to be an administrator to create and configure workflows.
    To manage workflows, perform the following steps:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流是通过 Jira 管理控制台集中控制和管理的，因此你需要是管理员才能创建和配置工作流。要管理工作流，请执行以下步骤：
- en: Log in to Jira as a Jira administrator.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以 Jira 管理员身份登录 Jira。
- en: Browse to the Jira administration console.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到 Jira 管理控制台。
- en: 'Select the **Issues** tab and then the **Workflows** option. This will bring
    up the **View Workflows** page:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **问题** 选项卡，然后选择 **工作流** 选项。这样会显示 **查看工作流** 页面：
- en: '![Figure 7.3 – Workflow list page'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.3 – 工作流列表页面'
- en: '](img/Figure_7.03_B18644.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.03_B18644.jpg)'
- en: Figure 7.3 – Workflow list page
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.3 – 工作流列表页面
- en: From the **View Workflows** page, you will be able to manage all the available
    workflows and create new workflows. The page is divided into two sections, **Active**
    and **Inactive**. Active workflows are being used by projects, and inactive ones
    are not. By default, the **Inactive** section is collapsed, so the page will only
    display active workflows. The preceding screenshot shows both the sections being
    expanded.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在 **查看工作流** 页面，你将能够管理所有可用的工作流并创建新的工作流。该页面分为两个部分，**活动** 和 **非活动**。活动工作流正在被项目使用，非活动工作流则没有。默认情况下，**非活动**
    部分是折叠的，因此页面只会显示活动工作流。前面的截图展示了两个部分都被展开的情况。
- en: 'Jira comes with a default read-only workflow called `jira`, mostly used to
    remain backward compatible with existing projects, and this is applied to projects
    that do not have any specific workflow applied. For this reason, you cannot edit
    or delete this workflow. New projects will have their own workflows created based
    on the template selected. These project-specific workflows will have their names
    start with the project key, followed by the project’s template, such as `HR: Task
    Management Workflow`.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 'Jira 带有一个默认的只读工作流，名为 `jira`，主要用于保持与现有项目的向后兼容，并且应用于没有特定工作流的项目。因此，你不能编辑或删除此工作流。新项目将根据选择的模板创建自己的工作流。这些特定于项目的工作流将以项目密钥为开头，后跟项目的模板，例如
    `HR: 任务管理工作流`。'
- en: Issue statuses
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题状态
- en: In a Jira workflow, an issue status represents a state in the workflow for an
    issue. It describes the current status of the issue. If we compare it to a flow
    chart, the highlighted rectangle indicates the current status of the issue along
    the process. Just as a task can only be in one stage of a business process, an
    issue can be in only one status at any given time; for example, an issue cannot
    be both open and closed at the same time.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Jira 工作流中，问题状态表示工作流中某个问题的状态。它描述了问题的当前状态。如果我们将其与流程图进行比较，高亮的矩形表示问题在过程中当前的状态。就像任务只能处于业务流程的一个阶段一样，问题在任何给定时间只能处于一个状态；例如，一个问题不能同时处于开放和关闭状态。
- en: There is also a term called **step**, which is the workflow term for statuses.
    Since Jira has simplified its workflow administration, step and status can be
    used interchangeably. For consistency, we will be using the term **status** in
    this book, unless a separation needs to be made in special cases.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个术语叫做 **步骤**，它是工作流中表示状态的术语。由于 Jira 已简化其工作流管理，步骤和状态可以互换使用。为了保持一致性，本书将使用术语
    **状态**，除非在特殊情况下需要做出区分。
- en: Transitions
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 转换
- en: Statuses represent stages in a workflow, and the path that takes an issue from
    one status to the next is known as a **transition**. A transition links two statuses
    together. A transition cannot exist on its own, meaning it must have a start and
    finish status and can only have one of each. This means that a transition cannot
    conditionally split off to different destination statuses. Transitions are also
    one-way only. This means that if a transition takes an issue from status *A* to
    status *B*, you must create a new transition if you want to go back from status
    *B* to status *A*.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 状态表示工作流中的阶段，将问题从一个状态带到下一个状态的路径被称为 **转换**。转换将两个状态连接在一起。转换不能独立存在，这意味着它必须有一个开始状态和一个结束状态，并且每个状态只能出现一次。这意味着转换不能根据条件分支到不同的目标状态。转换也是单向的。这意味着，如果一个转换将问题从状态
    *A* 带到状态 *B*，你必须创建一个新的转换才能将问题从状态 *B* 返回到状态 *A*。
- en: 'Transitions have several components. These are set out here:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 转换有几个组件，具体如下：
- en: '**Conditions**: Criteria must be met before a transition is available (visible)
    for users to execute. These are usually used to control permissions around how
    users can execute a transition.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**条件**：必须满足的条件，才能使用户执行转换时可见（可用）。这些通常用于控制关于用户如何执行转换的权限。'
- en: '**Validators**: These are the verifications that must pass before a transition
    can be executed. They are usually used together with transition screens.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**验证器**：这些是必须通过的验证条件，才能执行转换。它们通常与转换屏幕一起使用。'
- en: '**Post functions**: These are additional functions to be performed as part
    of the transition process.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**后置函数**：这些是作为转换过程的一部分需要执行的附加功能。'
- en: '**Transition screen**: This is an optional screen to be displayed when a user
    is executing a transition. It is usually used to capture additional information
    as a part of the transition.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**转换屏幕**：这是一个可选屏幕，当用户执行转换时显示。它通常用于在转换过程中捕捉附加信息。'
- en: '**Triggers**: If you have integrated Jira with other development tools such
    as Bitbucket or GitHub, triggers can automatically execute a transition when an
    event happens, such as the creation of a new branch or when someone makes a code
    commit.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**触发器**：如果你将 Jira 与其他开发工具（如 Bitbucket 或 GitHub）集成，触发器可以在事件发生时自动执行转换，例如创建新分支或有人进行代码提交。'
- en: Important note
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: A common trick is to create a transition that links back to itself. Since a
    transition can have its own screen and execute some business logic via post functions,
    you can use this kind of transition as a trigger in the **user interface** (**UI**)
    to show a screen or run a post function without having to create complex customizations.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 一种常见的技巧是创建一个返回自身的转换。由于转换可以有自己的屏幕，并通过后置功能执行一些业务逻辑，你可以将这种转换作为**用户界面**（**UI**）中的触发器，用于显示屏幕或运行后置功能，而无需创建复杂的自定义设置。
- en: Each of the first three components defines the behavior of transitions, allowing
    you to perform pre- and post-validations, as well as post-execution processing
    on transition execution. We will discuss these components in depth in the following
    sections.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 前三个组件中的每个定义了转换的行为，允许你在转换执行时执行前验证、后验证以及后处理。我们将在接下来的部分中深入讨论这些组件。
- en: Triggers
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 触发器
- en: 'As described earlier, Jira needs to be integrated with one of the following
    systems before you can start using triggers:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，在开始使用触发器之前，Jira 需要与以下系统之一集成：
- en: Atlassian Bitbucket
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Atlassian Bitbucket
- en: Atlassian FishEye/Crucible
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Atlassian FishEye/Crucible
- en: GitHub
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GitHub
- en: Triggers will listen for changes from the integrated development tools, such
    as code commits, and when these happen, the trigger will automatically execute
    the workflow transition. Note that all permissions are ignored when this happens.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 触发器将监听来自集成开发工具的更改，例如代码提交，当这些更改发生时，触发器将自动执行工作流转换。请注意，发生此事件时所有权限都将被忽略。
- en: Conditions
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 条件
- en: Sometimes, you might want to have control over who can execute a transition
    or when a transition can be executed. For example, a transition to authorize an
    issue should be restricted to users in the managers group so that normal employees
    will not be able to authorize their own requests. This is where conditions come
    in.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，你可能希望控制谁可以执行转换或何时可以执行转换。例如，授权问题的转换应仅限于经理组的用户，以防止普通员工自己授权请求。这时，条件就派上用场了。
- en: '**Conditions** are criteria that must be fulfilled before the user is allowed
    to execute a transition. If the conditions on transitions are not met, the transition
    will not be available to the user when viewing the issue. The following table
    shows a list of conditions that are shipped with Jira; other conditions can be
    added via third-party add-ons:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '**条件**是必须满足的标准，用户才能执行转换。如果转换的条件未满足，当用户查看问题时，该转换将不可用。下表列出了 Jira 随附的条件；其他条件可以通过第三方插件添加：'
- en: '| **Condition** | **Description** |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| **条件** | **描述** |'
- en: '| --- | --- |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| **Code Committed Condition** | This allows a transition to execute only if
    the code has/has not (depending on configuration) been committed against this
    issue. |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| **代码已提交条件** | 仅当代码已对该问题提交（或根据配置未提交）时，才允许执行此转换。 |'
- en: '| **Hide Transition from User** | This will hide the transition from all users,
    and it can only be triggered by post functions. This is useful in situations where
    a transition will be triggered as part of an automated process rather than manually
    by a user. |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| **从用户界面隐藏转换** | 这将把转换隐藏对所有用户，只有通过后置功能才能触发它。这在需要作为自动化流程的一部分触发转换，而非由用户手动触发时非常有用。
    |'
- en: '| **No Open Reviews Condition** | This allows a transition to execute only
    if there are no related open Crucible reviews. |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| **无开放审查条件** | 仅当没有相关的开放 Crucible 审查时，才允许执行此转换。 |'
- en: '| **Only Assignee Condition** | This only allows the issue’s current assignee
    to execute the transition. |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| **仅限指派人条件** | 仅允许当前指派人执行此转换。 |'
- en: '| **Only Reporter Condition** | This only allows the issue’s reporter to execute
    the transition. |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| **仅限报告人条件** | 仅允许问题的报告人执行此转换。 |'
- en: '| **Permission Condition** | This only allows users with the given permission
    to execute the transition. |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| **权限条件** | 仅允许具有指定权限的用户执行此转换。 |'
- en: '| **Condition** | **Description** |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| **条件** | **描述** |'
- en: '| **Sub-Task Blocking Condition** | This blocks the parent issue transition
    depending on all its subtasks’ statuses. |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| **子任务阻塞条件** | 根据所有子任务的状态，阻止父问题的转移。 |'
- en: '| **Unreviewed Code Condition** | This allows a transition to execute only
    if there are no unviewed changesets related to this issue. |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| **未审阅代码条件** | 只有在此问题没有未审阅的变更集时，才能执行此转移。 |'
- en: '| **User Is In Group** | This only allows users in a given group to execute
    the transition. |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| **用户处于组内** | 这只允许处于特定组内的用户执行此转移。 |'
- en: '| **User Is In Group Custom Field** | This only allows users in a given group
    custom field to execute a transition. |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| **用户处于自定义组字段内** | 这只允许处于特定自定义组字段内的用户执行此转移。 |'
- en: '| **User Is In Project Role** | This only allows users in a given project role
    to execute a transition. |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| **用户处于项目角色** | 这只允许处于特定项目角色的用户执行此转移。 |'
- en: Table 7.1 – Workflow conditions
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 表 7.1 – 工作流条件
- en: Validators
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 验证器
- en: Validators are similar to conditions, but they validate certain criteria before
    allowing a transition to complete. While conditions will hide a workflow transition
    from the user if its criteria are not met, validators will allow the user to see
    the transition but not allow the transition to execute if its criteria are not
    met.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 验证器类似于条件，但它们会在允许转移完成之前验证特定的条件。条件会在未满足标准时将工作流转移隐藏，而验证器则允许用户看到转移，但如果条件未满足，则不允许执行转移。
- en: 'The most common use case for validators is to validate the user input during
    a transition. For example, you can validate if the user has entered data for all
    fields presented on the workflow screen. The following table shows a list of validators
    that come shipped with Jira; other validators can be added via third-party add-ons:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 验证器的最常见用例是在转移过程中验证用户输入。例如，您可以验证用户是否为工作流屏幕上显示的所有字段输入了数据。下表显示了Jira自带的验证器列表；其他验证器可以通过第三方插件添加：
- en: '| **Validator** | **Description** |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| **验证器** | **描述** |'
- en: '| **Permission Validator** | This validates that the user has the selected
    permission. This is useful when checking whether the person who has executed a
    transition has the required permissions. |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| **权限验证器** | 验证用户是否具有选定的权限。当检查执行转移的人员是否拥有所需权限时，这非常有用。 |'
- en: '| **User Permission Validator** | This validates that the user has the selected
    permission where the `OSWorkflow` variable holding the username is configurable.
    This is obsolete. |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| **用户权限验证器** | 验证用户是否具有选定的权限，其中 `OSWorkflow` 变量持有用户名并且是可配置的。此功能已废弃。 |'
- en: Table 7.2 – Workflow validators
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 表 7.2 – 工作流验证器
- en: Post functions
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 后置功能
- en: As the name suggests, post functions are functions that occur after (post) a
    transition has been executed. This allows you to perform additional processes
    once you have executed a transition. Jira makes heavy use of post functions internally
    to perform a lot of its functions. For example, when you transition an issue,
    Jira uses post functions to update its search indexes so that your search results
    will reflect the change in issue status.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 正如其名称所示，后置功能是在转移执行后（post）发生的功能。这使得在执行转移后可以执行额外的处理。Jira内部大量使用后置功能来执行其许多功能。例如，当您转移问题时，Jira会使用后置功能更新其搜索索引，以便您的搜索结果能够反映问题状态的变化。
- en: 'If a transition has failed to execute (for example, failing validation from
    validators), post functions attached to the transition will not be triggered.
    The following table shows a list of post functions that come shipped with Jira,
    and other post functions can be added via third-party add-ons:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 如果转移未能执行（例如，验证器验证失败），则与转移相关联的后置功能将不会被触发。下表显示了Jira自带的后置功能列表，其他后置功能可以通过第三方插件添加。
- en: '| **Post function** | **Description** |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| **后置功能** | **描述** |'
- en: '| **Assign to Current User** | This assigns the issue to the current user if
    the current user has the assignable user permission. |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| **分配给当前用户** | 如果当前用户具有可分配用户权限，则将问题分配给当前用户。 |'
- en: '| **Assign to Lead Developer** | This assigns the issue to the project/component
    lead developer. |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| **分配给首席开发者** | 将问题分配给项目/组件的首席开发者。 |'
- en: '| **Assign to Reporter** | This assigns the issue to the reporter. |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| **分配给报告者** | 将问题分配给报告者。 |'
- en: '| **Create Perforce Job Function** | This creates a Perforce job (if required)
    after completing the workflow transition. |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| **创建Perforce作业功能** | 在完成工作流转移后（如果需要），创建一个Perforce作业。 |'
- en: '| **Notify HipChat** | This sends a notification to one or more HipChat rooms.
    |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| **通知 HipChat** | 这会向一个或多个 HipChat 房间发送通知。 |'
- en: '| **Trigger a Webhook** | If this post function is executed, Jira will post
    the issue content in **JavaScript Object Notation** (**JSON**) format to the **Uniform
    Resource Locator** (**URL**) specified. |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| **触发 Webhook** | 如果执行此后置功能，Jira 将以**JavaScript 对象表示法**（**JSON**）格式将问题内容发布到指定的**统一资源定位符**（**URL**）。
    |'
- en: '| **Update Issue Field** | This updates a system field such as **Summary**
    to a given value. |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| **更新问题字段** | 这会将系统字段（如**概要**）更新为指定的值。 |'
- en: Table 7.3 – Workflow post functions
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 表 7.3 – 工作流后置功能
- en: We have looked at all the main components in a workflow. In the next section,
    we will look at how to design a workflow using the workflow designer tool.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看过工作流中的所有主要组件。在下一节中，我们将学习如何使用工作流设计器工具设计一个工作流。
- en: Using the workflow designer
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用工作流设计器
- en: Jira comes with a simple-to-use drag and drop tool called the **workflow designer**.
    This helps you create and configure workflows. If you are familiar with diagramming
    tools such as Microsoft Visio, you will feel right at home. There is also another
    older option, called **text mode**, available. However, since the designer is
    easier and has more features, we will focus on using the designer in this book.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 配备了一个易于使用的拖放工具，称为**工作流设计器**。它帮助您创建和配置工作流。如果您熟悉像 Microsoft Visio 这样的图表工具，您会觉得很得心应手。还有一个较旧的选项，称为**文本模式**，也可以使用。然而，由于设计器更容易使用且功能更多，本书将专注于使用设计器。
- en: Important note
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: As your workflow becomes more complicated, text mode can be a better option
    to manage statuses and transitions in the workflow.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 随着工作流变得越来越复杂，文本模式可能是管理工作流中的状态和转换的更好选择。
- en: 'The workflow designer is shown in the following screenshot. You have the workflow
    layout in the main panel and a few controls on top, namely the **Add status**
    and **Add transition** buttons. Note that the **Diagram** option is selected.
    If you click on the **Text** option, Jira will change to the old authoring tool:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了工作流设计器的界面。主面板显示了工作流布局，顶部有一些控件，即**添加状态**和**添加转换**按钮。请注意，**图表**选项已被选中。如果您点击**文本**选项，Jira
    将切换到旧的创作工具：
- en: '![Figure 7.4 – Workflow designer'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.4 – 工作流设计器'
- en: '](img/Figure_7.04_B18644.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.04_B18644.jpg)'
- en: Figure 7.4 – Workflow designer
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.4 – 工作流设计器
- en: 'From the workflow designer, you can drag and rearrange statuses and transitions.
    Clicking on each will open up its property window, as shown in the following screenshot,
    where the **Resolve Issue** transition is selected:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在工作流设计器中，您可以拖动并重新排列状态和转换。点击每个元素将打开其属性窗口，如下图所示，其中选中了**解决问题**转换：
- en: '![Figure 7.5 – Editing a workflow'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.5 – 编辑工作流'
- en: '](img/Figure_7.05_B18644.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.05_B18644.jpg)'
- en: Figure 7.5 – Editing a workflow
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.5 – 编辑工作流
- en: From here, we can view and update its properties, such as conditions and validators.
    If you have a complex workflow and the property window covers part of your workflow,
    you can either zoom out to reduce the size of the workflow diagram or drag the
    diagram around the page.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 从这里，我们可以查看并更新其属性，如条件和验证器。如果您有一个复杂的工作流，并且属性窗口覆盖了工作流的一部分，您可以缩小工作流图表的尺寸，或者将图表拖动到页面上其他位置。
- en: Authoring a workflow
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建工作流
- en: 'So, let’s take a look at how to create and set up a new workflow in Jira. To
    create a new workflow, all you need is a name and description, so let’s get started:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，让我们看看如何在 Jira 中创建和设置一个新工作流。创建新工作流时，您只需要一个名称和描述，接下来我们开始：
- en: Browse to the **View Workflows** page.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到**查看工作流**页面。
- en: Click on the **Add Workflow** button.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加工作流**按钮。
- en: Enter a name and description for the new workflow in the **Add Workflow** dialog.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**添加工作流**对话框中输入新工作流的名称和描述。
- en: Click on the **Add** button to create the workflow.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮创建工作流。
- en: 'The newly created workflow will only contain the default **Create** and **Open**
    statuses, so you will need to configure it by adding new statuses and transitions
    to make it useful. Let’s start by adding new statuses to the workflow using the
    following steps:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 新创建的工作流只包含默认的**创建**和**打开**状态，因此您需要通过添加新的状态和转换来配置它，使其变得有用。让我们通过以下步骤开始向工作流中添加新状态：
- en: Click on the **Add status** button.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加状态**按钮。
- en: Select an existing status from the drop-down list. If the status you need does
    not exist, you can create a new status by entering its name and pressing the *Enter*
    key on your keyboard.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉列表中选择一个现有的状态。如果需要的状态不存在，你可以通过输入其名称并按下键盘上的*Enter*键来创建一个新状态。
- en: Check the **Allow all statuses to transition to this one** option if you want
    users to be able to move the issue into this status regardless of its current
    status. This will create a global transition, which is a convenient option, so
    you do not have to manually create multiple transitions for the status.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果希望用户能够将问题移动到该状态，无论其当前状态如何，请勾选**允许所有状态转换到此状态**选项。这将创建一个全局转换，这是一个方便的选项，你不必手动为该状态创建多个转换。
- en: Important note
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If the global status is not representing a **Done** or **Closed** status, it
    is often a good idea to add a **Clear Resolution** post function to make sure
    the resolution field is always cleared when the issue is transitioned into the
    status.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 如果全局状态不是表示**已完成**或**已关闭**状态，通常最好添加一个**清除分辨率**后置功能，以确保在问题转换到该状态时，分辨率字段始终被清除。
- en: 'Click on the **Add** button to add the status to your workflow, as illustrated
    in the following screenshot. You can repeat these steps to add as many statuses
    as you want to your workflow:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮，将状态添加到你的工作流中，如下图所示。你可以重复这些步骤，将多个状态添加到工作流中：
- en: '![Figure 7.6 – Adding a status'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.6 – 添加状态'
- en: '](img/Figure_7.06_B18644.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.06_B18644.jpg)'
- en: Figure 7.6 – Adding a status
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.6 – 添加状态
- en: Important note
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Try to reuse existing statuses, if possible, so that you do not end up with
    many similar statuses to manage.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 尽量重用现有状态，以避免管理过多相似的状态。
- en: 'Now that the statuses are added to the workflow, they need to be linked with
    transitions so that issues can move from one status to the next. There are two
    ways to create a transition, as follows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，状态已经添加到工作流中，需要将它们与转换关联，以便问题能够从一个状态转移到另一个状态。创建转换的方式有两种，如下所示：
- en: Click on the **Add transition** button
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击**添加转换**按钮
- en: Select the originating status and then click and drag the arrow to the destination
    status
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择起始状态，然后点击并拖动箭头到目标状态
- en: 'Both options will bring up the **Add Transition** dialog, as shown in the following
    screenshot:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 两个选项都会弹出**添加转换**对话框，如下图所示：
- en: '![Figure 7.7 – Add Transition dialog'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.7 – 添加转换对话框'
- en: '](img/Figure_7.07_B18644.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.07_B18644.jpg)'
- en: Figure 7.7 – Add Transition dialog
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.7 – 添加转换对话框
- en: From the preceding screenshot, you can choose to either create a new transition
    with the **New Transition** tab or use an existing transition with the **Reuse
    a transition** tab.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的截图中，你可以选择使用**新转换**标签创建一个新的转换，或者使用**重用转换**标签来使用现有转换。
- en: 'When creating a new transition, you will need to configure the following settings:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 创建新转换时，需要配置以下设置：
- en: '**From status**: This is the originating status. The transition will be available
    when the issue is in the selected status.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**起始状态**：这是起始状态。当问题处于选定状态时，转换将可用。'
- en: '**To status**: This is the destination status. Once the transition is executed,
    the issue will be put into the selected status.'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**目标状态**：这是目标状态。一旦执行转换，问题将被放入选定状态。'
- en: '`Close Issue`.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`关闭问题`。'
- en: '**Description**: This is an optional text description showing the purpose of
    this transition. This will not be displayed to users.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：这是一个可选的文本描述，用于显示该转换的目的。此描述不会显示给用户。'
- en: '**Screen**: This is an optional intermediate screen to be displayed when users
    execute the transition. For example, you display a screen to capture additional
    data as part of the transition. If you do not select a screen, the transition
    will be executed immediately. The following screenshot shows a workflow screen:'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**屏幕**：这是一个可选的中间屏幕，当用户执行转换时将显示该屏幕。例如，你可以在转换过程中显示一个屏幕来捕获额外的数据。如果不选择屏幕，转换将立即执行。以下截图展示了一个工作流屏幕：'
- en: '![Figure 7.8 – Transition screen'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.8 – 转换屏幕'
- en: '](img/Figure_7.08_B18644.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.08_B18644.jpg)'
- en: Figure 7.8 – Transition screen
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.8 – 转换屏幕
- en: 'If you want to reuse an existing transition, simply click on the **Reuse a
    transition** tab, **From status** and **To status**, and **Transition to reuse**,
    as shown in the following screenshot:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望重用现有转换，只需点击**重用转换**标签，选择**起始状态**和**目标状态**，以及**重用的转换**，如下面的截图所示：
- en: '![Figure 7.9 – Reuse a transition tab'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.9 – 重用转换标签'
- en: '](img/Figure_7.09_B18644.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.09_B18644.jpg)'
- en: Figure 7.9 – Reuse a transition tab
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.9 – 重用转换标签
- en: Important note
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Note that Jira will only list valid transitions based on the **To status** selection.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，Jira 只会根据**到状态**选择列出有效的转换。
- en: You might be wondering when you should create a new transition and when you
    should reuse an existing transition. The big difference between the two is that
    when you reuse a transition, all instances of the reused transition (also known
    as the `Close Issue`; instead of creating separate transitions each time, you
    can create one transition and reuse it whenever you need a transition to close
    an issue. Later on, if you need to add a new validator to the transition to validate
    additional user input, you will only need to make the change once, rather than
    multiple times for each `Close Issue` transition.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想，什么时候应该创建新的转换，什么时候应该重用现有的转换。两者之间的主要区别在于，当你重用一个转换时，所有被重用的转换实例（也称为`关闭问题`；你不必每次都创建单独的转换，你可以创建一个转换，并在需要关闭问题时重复使用它。以后，如果你需要向转换中添加新的验证器以验证额外的用户输入，你只需要进行一次更改，而不是每个`关闭问题`转换都做多次更改。
- en: Another good practice to keep in mind is to not have a *dead-end* state in your
    workflow—for example, by allowing closed issues to be reopened. This will prevent
    users from accidentally closing an issue and not being able to correct the mistake.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个要记住的好做法是，在工作流中不要设置*死胡同*状态——例如，允许已关闭的问题重新打开。这可以防止用户意外关闭问题后无法纠正错误。
- en: One thing people often overlook is that you can change the status an issue is
    transitioned to when it is first created. By default, an issue is placed in the
    `Create Issue` transition. By doing so, you can influence the issue creation process.
    For example, you can add a validator to it for additional checking before an issue
    is allowed to be created, or add a post function to perform additional tasks as
    soon as an issue is created.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 一件人们常常忽略的事情是，你可以在问题首次创建时更改其要转换到的状态。默认情况下，问题会放置在`创建问题`转换中。通过这样做，你可以影响问题的创建过程。例如，你可以在问题创建之前添加一个验证器进行额外的检查，或者添加一个后置功能，以便在问题创建时执行额外的任务。
- en: Now that we have seen how to add new statuses and transitions to a workflow,
    let’s look at adding triggers, conditions, validators, and post functions to a
    transition.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了如何向工作流中添加新状态和转换，接下来我们来看看如何向转换添加触发器、条件、验证器和后置功能。
- en: Adding a trigger to transitions
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加触发器到转换
- en: 'You can only add triggers to transitions if Jira is integrated with at least
    one of the supported development tools. With triggers, you can automate some of
    your **development-operations** (**DevOps**) flow, such as automatically transitioning
    an issue into an **In Review** status when a **pull request** (**PR**) is created.
    To add triggers, perform the following steps:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 只有当 Jira 与至少一个受支持的开发工具集成时，你才能向转换添加触发器。通过触发器，你可以自动化一些**开发运维**（**DevOps**）流程，例如，在创建**拉取请求**（**PR**）时自动将问题转换到**审查中**状态。添加触发器的步骤如下：
- en: Select a transition you want to add triggers to.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加触发器的转换。
- en: Click on the **Triggers** link.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**触发器**链接。
- en: 'Click on the **Add trigger** button. If you do not have any integrated development
    tools, this button will be disabled, as indicated in the following screenshot:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加触发器**按钮。如果你没有集成开发工具，则此按钮将被禁用，如下图所示：
- en: '![Figure 7.10 – Add trigger button'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.10 – 添加触发器按钮](img/Figure_7.10_B18644.jpg)'
- en: '](img/Figure_7.10_B18644.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.10_B18644.jpg)'
- en: Figure 7.10 – Add trigger button
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.10 – 添加触发器按钮
- en: Select a trigger you want to add and click on the **Next** button.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加的触发器，然后点击**下一步**按钮。
- en: Confirm the trigger source is detected and click on the **Add trigger** button.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认触发器源已被检测到，然后点击**添加触发器**按钮。
- en: Adding a condition to transitions
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向转换添加条件
- en: 'New transitions do not have any conditions by default. This means that anyone
    who has access to the issue will be able to execute the transition. Jira allows
    you to add any number of conditions to the transition. Here’s how to do this:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，新转换没有任何条件。这意味着任何有权限访问该问题的人都可以执行该转换。Jira 允许你向转换添加任意数量的条件。以下是操作步骤：
- en: Select a transition you want to add conditions to.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加条件的转换。
- en: Click on the **Conditions** link.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**条件**链接。
- en: 'Click on the **Add condition** link, as shown in the following screenshot.
    This will bring you to the **Add Condition To Transition** page, which lists all
    the available conditions you can add:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加条件**链接，如下图所示。这将带你进入**为过渡添加条件**页面，该页面列出了所有可以添加的条件：
- en: '![Figure 7.11 – Add condition link'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.11 – 添加条件链接'
- en: '](img/Figure_7.11_B18644.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.11_B18644.jpg)'
- en: Figure 7.11 – Add condition link
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.11 – 添加条件链接
- en: Select a condition you want to add.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加的条件。
- en: Click on the **Add** button to add the condition.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮以添加条件。
- en: 'Depending on the condition, you may be presented with the **Add Parameters
    To Condition** page where you can specify configuration options for the condition.
    For example, the **User Is In Group** condition will ask you to select a group
    to check against, shown as follows:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据条件的不同，你可能会看到**添加参数到条件**页面，在该页面你可以为条件指定配置选项。例如，**用户属于组**条件会要求你选择一个组进行检查，如下所示：
- en: '![Figure 7.12 – Configuring a condition'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.12 – 配置条件'
- en: '](img/Figure_7.12_B18644.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.12_B18644.jpg)'
- en: Figure 7.12 – Configuring a condition
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.12 – 配置条件
- en: Newly added conditions are appended to the end of the existing list of conditions,
    creating a `AND` operator is used to group the conditions. This means that all
    conditions must pass for the entire condition group to pass. If one condition
    fails, the entire group fails, and the user will not be able to execute the transition.
    You can switch to using a logical `OR` operator, which means only one of the conditions
    in the group needs to pass for the entire group to pass. This is a very useful
    feature as it allows you to combine multiple conditions to form a more complex
    logical unit.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 新添加的条件会被追加到现有条件列表的末尾，并使用`AND`运算符将这些条件分组。这意味着所有条件必须通过，整个条件组才能通过。如果某个条件失败，整个组都会失败，用户将无法执行过渡。你可以切换到使用逻辑`OR`运算符，这意味着该组中的任意一个条件通过，整个组就通过。这是一个非常有用的功能，它允许你将多个条件组合成更复杂的逻辑单元。
- en: For example, the `AND` operator, you can add multiple `OR` operator, then the
    user will only need to belong to one of the listed groups. The only restriction
    to this is that you cannot use both operators for the same condition group.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，对于`AND`运算符，你可以添加多个`OR`运算符，这样用户只需要属于列出的其中一个组即可。唯一的限制是你不能在同一个条件组中同时使用两种运算符。
- en: Important note
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 重要说明
- en: One transition can only have one condition group, and each conditional group
    can only have one logical operator.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 一个过渡只能有一个条件组，每个条件组只能有一个逻辑运算符。
- en: Adding a validator to transitions
  id: totrans-195
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为过渡添加验证器
- en: 'As with conditions, transitions by default do not have any validators associated.
    This means that transitions are completed as soon as they are executed. You can
    add validators to transitions to make sure that executions are only allowed to
    be complete when certain criteria are met. Use the following steps to add a validator
    to a transition:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 与条件类似，过渡默认没有任何关联的验证器。这意味着过渡一旦执行，就会立即完成。你可以为过渡添加验证器，确保只有在满足特定条件时，执行才能完成。按照以下步骤为过渡添加验证器：
- en: Select a transition you want to add conditions to.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加条件的过渡。
- en: Click on the **Validators** link.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**验证器**链接。
- en: 'Click on the **Add validator** link, as shown in the following screenshot.
    This will bring you to the **Add Validator To Transition** page, which lists all
    the available validators you can add:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加验证器**链接，如下图所示。这将带你进入**为过渡添加验证器**页面，该页面列出了所有可以添加的验证器：
- en: '![Figure 7.13 – Add validator link'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.13 – 添加验证器链接'
- en: '](img/Figure_7.13_B18644.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.13_B18644.jpg)'
- en: Figure 7.13 – Add validator link
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.13 – 添加验证器链接
- en: Select a validator you want to add.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加的验证器。
- en: Click on the **Add** button to add the validator.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮以添加验证器。
- en: 'Depending on the validator, you may be presented with the **Add Parameters
    To Validator** page where you can specify configuration options for the validator.
    The following screenshot shows an example from the **Fields required** validator:'
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据验证器的不同，你可能会看到**添加参数到验证器**页面，在该页面你可以为验证器指定配置选项。以下截图展示了**必填字段**验证器的示例：
- en: '![Figure 7.14 – Configuring validators'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.14 – 配置验证器'
- en: '](img/Figure_7.14_B18644.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.14_B18644.jpg)'
- en: Figure 7.14 – Configuring validators
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.14 – 配置验证器
- en: Similar to conditions, when there are multiple validators added to a transition,
    they form a validator group. Unlike conditions, you can only use a logical `AND`
    condition for the group. This means that in order to complete a transition, every
    validator added to the transition must pass its validation criteria. Transitions
    cannot selectively pass validations using a logical `OR` condition.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 与条件类似，当多个验证器被添加到一个过渡时，它们会形成一个验证器组。与条件不同，您只能对该组使用逻辑`AND`条件。这意味着为了完成过渡，添加到过渡中的每个验证器都必须通过其验证标准。过渡不能通过逻辑`OR`条件来选择性地通过验证。
- en: 'The following screenshot shows a validator (the **Fields required** validator
    from **Suite Utilities for Jira** (**JSU**); refer to the *Extending a workflow
    with workflow add-ons* section) being placed on the transition, which validates
    whether the user has entered a value for the **Resolution Details** field:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了一个验证器（来自**Suite Utilities for Jira**（**JSU**）的**字段必填**验证器；参见*使用工作流插件扩展工作流*部分）被放置在过渡上，用于验证用户是否为**解决方案详细信息**字段输入了值：
- en: '![Figure 7.15 – Issue Fields required validator'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.15 – 问题字段必填验证器'
- en: '](img/Figure_7.15_B18644.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.15_B18644.jpg)'
- en: Figure 7.15 – Issue Fields required validator
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.15 – 问题字段必填验证器
- en: Adding a post function to transitions
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加后置功能到过渡
- en: 'Transitions, by default, are created with several post functions. These post
    functions provide key services to Jira internal operations, so they cannot be
    deleted from the transition. These post functions perform the following operations:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，过渡会创建几个后置功能。这些后置功能为 Jira 的内部操作提供关键服务，因此无法从过渡中删除。这些后置功能执行以下操作：
- en: Set the issue status to the linked status of the destination workflow step
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将问题状态设置为目标工作流步骤的关联状态
- en: Add a comment to an issue if one is entered during a transition
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在过渡期间，如果输入了评论，则将该评论添加到问题中
- en: Update the change history for an issue and store the issue in the database
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更新问题的变更历史，并将问题存储到数据库中
- en: Re-index an issue to keep indexes in sync with the database
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重新索引问题，以保持索引与数据库同步
- en: Fire an event that can be processed by the listeners
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 触发事件，供监听器处理
- en: 'As you can see, these post functions provide some of the basic functions such
    as updating a search index and setting an issue’s status after transition execution,
    which is essential in Jira. Therefore, instead of letting users manually add them
    in and risk the possibility of leaving one or more out, Jira adds them for you
    automatically when you create a new transition, as described in the following
    steps:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，这些后置功能提供了一些基本功能，比如更新搜索索引和在过渡执行后设置问题状态，这对于 Jira 至关重要。因此，Jira 在创建新的过渡时，会自动为你添加这些后置功能，而不是让用户手动添加，避免遗漏一个或多个后置功能，具体步骤如下：
- en: Select a transition you want to add post functions to.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要添加后置功能的过渡。
- en: Click on the **Post Functions** link.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**后置功能**链接。
- en: 'Click on the **Add post function** link, as illustrated in the following screenshot,
    and select a post function you want to add:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加后置功能**链接，如下图所示，选择你想要添加的后置功能：
- en: '![Figure 7.16 – Add post function link'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.16 – 添加后置功能链接'
- en: '](img/Figure_7.16_B18644.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.16_B18644.jpg)'
- en: Figure 7.16 – Add post function link
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.16 – 添加后置功能链接
- en: Click on the **Add** button to add the post function.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮以添加后置功能。
- en: 'Depending on the post function, you may be presented with an **Add Parameters
    To Function** page where you can specify configuration options for the post function.
    The following screenshot shows an example from the **Update Issue Field** post
    function:'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据后置功能的不同，你可能会看到**添加参数到功能**页面，在这里你可以为后置功能指定配置选项。以下截图展示了**更新问题字段**后置功能的示例：
- en: '![Figure 7.17 – Configuring post function'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.17 – 配置后置功能'
- en: '](img/Figure_7.17_B18644.jpg)'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.17_B18644.jpg)'
- en: Figure 7.17 – Configuring post function
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.17 – 配置后置功能
- en: When a transition is executed, each post function is executed sequentially as
    it appears in the list, from top to bottom. If any post function in the list encounters
    an error during processing, you will receive an error, and the remaining post
    functions will not be executed.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 当执行一个过渡时，每个后置功能会按照列表中的顺序从上到下依次执行。如果列表中的任何一个后置功能在处理过程中遇到错误，你会收到一个错误提示，剩余的后置功能将不会被执行。
- en: Since post functions are executed sequentially and some of them possess the
    ability to modify values and perform other tasks, their sequence of execution
    often becomes very important. For example, if you have a post function that changes
    the issue’s assignee to the current user and another post function that updates
    an issue field’s value with the issue’s assignee, obviously the update assignee
    post function needs to occur first, so you need to make sure that it is above
    the other post function.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 由于后置函数是顺序执行的，而且其中一些函数具有修改值和执行其他任务的能力，它们的执行顺序往往非常重要。例如，如果你有一个后置函数，它将问题的负责人更改为当前用户，而另一个后置函数会使用问题的负责人更新问题字段的值，那么显然，更新负责人后置函数需要先执行，因此你需要确保它在另一个后置函数之上。
- en: You can move the position of post functions up and down along the list by clicking
    on the **Move Up** and **Move Down** links. Note that not all post functions can
    be repositioned, such as the **Re-index issue** and **Fire event issue** post
    functions. They are locked in their positions to ensure data integrity is maintained
    in Jira.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过点击**上移**和**下移**链接来调整后置函数在列表中的位置。请注意，并非所有后置函数都可以重新定位，比如**重新索引问题**和**触发事件问题**后置函数。它们的位置是锁定的，以确保
    Jira 中的数据完整性。
- en: Updating an existing workflow
  id: totrans-236
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更新现有工作流
- en: 'Jira lets you make changes to both active and inactive workflows. However,
    with active workflows, there are several restrictions, as outlined here:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: Jira 允许你修改活动的和非活动的工作流。然而，对于活动的工作流，存在若干限制，如下所述：
- en: Existing workflow steps cannot be deleted
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有工作流步骤不能删除
- en: The associated status for an existing step cannot be edited
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现有步骤的关联状态不能编辑
- en: If an existing step has no outgoing transitions, it cannot have any new outgoing
    transitions added
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果现有步骤没有外部转换，则无法添加新的外部转换
- en: If you need to make these changes, you will have to either deactivate the workflow
    by removing the associations of the workflow with all projects or create a copy
    of the workflow.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要进行这些更改，你必须通过移除工作流与所有项目的关联来停用工作流，或者创建工作流的副本。
- en: Important note
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: You can always make a copy of the active workflow, make your changes, and then
    swap the original with the copied workflow in your workflow scheme.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以始终复制当前的工作流，进行修改，然后在工作流方案中用复制的工作流替换原始工作流。
- en: When editing an active workflow, you are actually making changes to a draft
    copy of the workflow created by Jira. None of the changes you make will be applied
    until you publish your draft.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 在编辑活动工作流时，实际上是对 Jira 创建的工作流草稿副本进行更改。你所做的更改在发布草稿之前不会应用。
- en: 'Publishing a draft is a very simple process. All you have to do is this:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 发布草稿是一个非常简单的过程。你只需执行以下操作：
- en: Click on the **Publish Draft** button. You will be prompted if you would like
    to first create a backup of the original workflow. It is recommended that you
    create a backup in case you need to undo your changes.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布草稿**按钮。如果你想先创建原始工作流的备份，系统会提示你。建议在进行更改之前创建备份，以防需要撤销更改。
- en: Select either `Sales Workflow 1.0`) to keep track of the changes.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 `Sales Workflow 1.0`）以跟踪更改。
- en: 'Click on the **Publish** button to publish the draft workflow and apply changes,
    as shown in the following screenshot:'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮以发布草稿工作流并应用更改，如下图所示：
- en: '![Figure 7.18 – Publish workflow'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.18 – 发布工作流'
- en: '](img/Figure_7.18_B18644.jpg)'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.18_B18644.jpg)'
- en: Figure 7.18 – Publish workflow
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.18 – 发布工作流
- en: Important note
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Do not forget to publish your draft after you have made your changes.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行更改后，别忘了发布你的草稿。
- en: Now that we have covered how to create a workflow, we will look at how to map
    a workflow to an issue type next.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经讲解了如何创建工作流，接下来我们将讨论如何将工作流映射到问题类型。
- en: Understanding workflow schemes
  id: totrans-255
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解工作流方案
- en: While workflows define and model business processes, there still needs to be
    a way to tell Jira the situations in which to apply the workflows. As with other
    configurations in Jira, this is achieved through the use of schemes. As we have
    seen in the previous chapters, schemes act as self-contained, reusable configuration
    units that associate specific configuration options with projects and, optionally,
    issue types.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然工作流定义并建模了业务流程，但仍然需要有一种方式来告诉 Jira 在哪些情况下应用这些工作流。与 Jira 中的其他配置一样，这是通过使用方案来实现的。正如我们在前几章中所看到的，方案充当了自包含的、可重用的配置单元，将特定的配置选项与项目关联，并可以选择性地与问题类型关联。
- en: A workflow scheme establishes the association between workflows and issue types.
    The scheme can then be applied to multiple projects. Once applied, the workflows
    within the scheme become active.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流方案建立了工作流和问题类型之间的关联。该方案随后可以应用于多个项目。一旦应用，方案中的工作流将变为激活状态。
- en: 'To view and manage workflow schemes, perform the following steps:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看和管理工作流方案，请执行以下步骤：
- en: Log in to Jira as a Jira administrator user.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以Jira管理员身份登录Jira。
- en: Browse to the Jira administration console.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到Jira管理控制台。
- en: 'Select the **Issues** tab and then the **Workflow schemes** option. This will
    bring up the **Workflow schemes** page, as shown in the following screenshot:'
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**问题**标签，然后选择**工作流方案**选项。这将打开**工作流方案**页面，如下图所示：
- en: '![Figure 7.19 – Workflow schemes page'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.19 – 工作流方案页面'
- en: '](img/Figure_7.19_B18644.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.19_B18644.jpg)'
- en: Figure 7.19 – Workflow schemes page
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.19 – 工作流方案页面
- en: 'The **Workflow schemes** page shows each scheme’s workflow association. For
    example, in the preceding screenshot, we can see that for **ISM: Insight ITSM
    Workflow Scheme**, the **Incident** issue type is assigned to **ISM: Insight ITSM
    Incident Workflow**, while the **Change** issue type is assigned to **ISM: Insight
    ITSM Change Workflow**.'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '**工作流方案**页面显示了每个方案的工作流关联。例如，在之前的截图中，我们可以看到，**ISM: Insight ITSM 工作流方案**中的**事件**问题类型被分配给了**ISM:
    Insight ITSM 事件工作流**，而**变更**问题类型则被分配给了**ISM: Insight ITSM 变更工作流**。'
- en: Creating a workflow scheme
  id: totrans-266
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建工作流方案
- en: 'When a new project is created, a new workflow scheme will be created automatically
    for the project, so normally, you will not need to create new workflow schemes.
    However, there might be times—such as when experimenting with changes to the workflow—when
    you still want to keep existing configurations untouched as a backup. To create
    a new workflow scheme, perform the following steps:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建一个新项目时，系统会自动为该项目创建一个新的工作流方案，因此通常情况下，你不需要创建新的工作流方案。然而，在某些情况下，比如在实验性的更改工作流时，你可能仍希望保持现有配置不变作为备份。若要创建一个新的工作流方案，请执行以下步骤：
- en: Browse to the **Workflow schemes** page.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到**工作流方案**页面。
- en: Click on the **Add workflow scheme** button. This will take you to the **Add
    Workflow Scheme** dialog.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加工作流方案**按钮。这将带你进入**添加工作流方案**对话框。
- en: Enter a name and description for the new workflow scheme. For example, you can
    choose to name your workflow after the project/issue type it will be applied to.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为新的工作流方案输入名称和描述。例如，你可以选择根据将应用到的项目/问题类型来命名你的工作流。
- en: Click on the **Add** button to create the workflow scheme.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮以创建工作流方案。
- en: You will be taken back to the **Workflow schemes** page once the new scheme
    has been created, and it will be listed in the table of available workflow schemes.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦新方案创建完成，你将被带回到**工作流方案**页面，并且该方案将显示在可用工作流方案的表格中。
- en: When you first create a new workflow scheme, the scheme is empty. This means
    it contains no associations of workflows and issue types, except the default association
    called `jira`). What you need to do next is configure the associations by assigning
    workflows to issue types.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 当你首次创建一个新的工作流方案时，该方案是空的。这意味着它没有任何工作流和问题类型的关联，除了默认的关联（称为`jira`）。接下来，你需要通过将工作流分配给问题类型来配置这些关联。
- en: Important note
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: You can delete the default `jira`) association after you have added an association
    yourself.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 在你自己添加了一个关联之后，你可以删除默认的`jira`关联。
- en: Configuring a workflow scheme
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置工作流方案
- en: Workflow schemes contain associations between issue types and workflows. After
    you have created a workflow scheme, you need to configure and maintain the associations
    as your requirements change. For example, when a new issue type is added to the
    projects using the workflow scheme, you may need to add an explicit association
    for the new issue type.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流方案包含问题类型和工作流之间的关联。创建工作流方案后，你需要根据需求变化来配置和维护这些关联。例如，当一个新的问题类型被添加到使用该工作流方案的项目中时，你可能需要为新的问题类型添加显式的关联。
- en: 'To configure a workflow scheme, perform the following steps:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置工作流方案，请执行以下步骤：
- en: Browse to the **Workflow schemes** page.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到**工作流方案**页面。
- en: 'Click on the **Edit** link for the workflow scheme you want to configure. This
    will take you to the workflow’s details page, as shown in the following screenshot:'
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你想要配置的工作流方案的**编辑**链接。这将带你进入工作流的详细页面，如下图所示：
- en: '![Figure 7.20 – Configuring a workflow scheme'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.20 – 配置工作流方案'
- en: '](img/Figure_7.20_B18644.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.20_B18644.jpg)'
- en: Figure 7.20 – Configuring a workflow scheme
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.20 – 配置工作流方案
- en: From this page, you will be able to see a list of existing associations, create
    new associations for issue types, and delete associations that are no longer relevant.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 从此页面，您将能够看到现有关联的列表，创建新的问题类型关联，并删除不再相关的关联。
- en: Assigning an issue type to a workflow
  id: totrans-285
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将问题类型分配给工作流
- en: Issue types and workflows have a many-to-one relationship. This means each issue
    type can be associated with one and only one workflow. One workflow can be associated
    with multiple issue types. This rule is applied on a per-workflow scheme basis,
    so you can have a different association of the same issue type in a different
    workflow scheme.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 问题类型和工作流之间是多对一的关系。这意味着每个问题类型只能关联一个工作流，而一个工作流可以关联多个问题类型。此规则是基于每个工作流方案应用的，因此您可以在不同的工作流方案中为相同的问题类型设置不同的关联。
- en: When you add a new association, Jira will list all the issue types and all available
    workflows. Once you have assigned a workflow to the issue type, it will not appear
    in the list again until you remove the original association.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 当您添加新的关联时，Jira 将列出所有问题类型和所有可用的工作流。一旦您为问题类型分配了一个工作流，它将在列表中消失，直到您删除原始关联。
- en: Among the list of issue types, there is an option called `jira` workflow. As
    with normal issue types, you can have only one catch-all association.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 在问题类型列表中，有一个名为`jira`工作流的选项。与普通问题类型一样，您只能拥有一个捕获所有的关联。
- en: Important note
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If all issue types will be using the same workflow, use the **All Unassigned
    Issue Types** option.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 如果所有问题类型都将使用相同的工作流，请使用**所有未分配的问题类型**选项。
- en: 'There are two ways to assign a workflow to an issue type. If you want to add
    an issue type to one of the existing associations, perform the following steps:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种方法可以将工作流分配给问题类型。如果您想将问题类型添加到现有的某个关联中，请执行以下步骤：
- en: Browse to the workflow scheme’s details page for the workflow scheme you want
    to configure by clicking on its **Edit** link.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击其**编辑**链接，浏览到您想要配置的工作流方案的详细页面。
- en: Click on the **Assign** link for the association you want to add an issue type
    to.
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您想要为其添加问题类型的关联的**分配**链接。
- en: Select issue types to add from the **Assign Issue Type to Workflow** dialog.
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**分配问题类型到工作流**对话框中选择要添加的问题类型。
- en: Click on the **Finish** button.
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**完成**按钮。
- en: 'If you want to create a new association from scratch, perform the following
    steps:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想从头开始创建一个新的关联，请执行以下步骤：
- en: Browse to the workflow scheme’s details page for the workflow scheme you want
    to configure.
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到您想要配置的工作流方案的详细页面。
- en: 'Select the **Add Existing** option from the **Add Workflow** menu. This will
    bring up the **Add Existing Workflow** dialog, as shown in the following screenshot:'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**添加工作流**菜单中选择**添加现有**选项。这将弹出**添加现有工作流**对话框，如下图所示：
- en: '![Figure 7.21 – Adding a workflow to the workflow scheme'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.21 – 将工作流添加到工作流方案'
- en: '](img/Figure_7.21_B18644.jpg)'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.21_B18644.jpg)'
- en: Figure 7.21 – Adding a workflow to the workflow scheme
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.21 – 将工作流添加到工作流方案
- en: Select a workflow to use and click on the **Next** button.
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择一个工作流并点击**下一步**按钮。
- en: 'Select issue types to associate with the workflow and click on the **Finish**
    button, as illustrated in the following screenshot. If you select an issue type
    that is already assigned, it will be removed from the old assignment and added
    to the currently selected workflow:'
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要与工作流关联的问题类型，并点击**完成**按钮，如下图所示。如果您选择的是已分配的问题类型，它将从旧的分配中移除，并添加到当前选择的工作流中：
- en: '![Figure 7.22 – Assigning a workflow to an issue type'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.22 – 将工作流分配给问题类型'
- en: '](img/Figure_7.22_B18644.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.22_B18644.jpg)'
- en: Figure 7.22 – Assigning a workflow to an issue type
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.22 – 将工作流分配给问题类型
- en: Editing or deleting an association
  id: totrans-307
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 编辑或删除关联
- en: 'Once you have associated an issue type with a workflow in a scheme, you cannot
    add a new association for the same issue type. There is also a **No edit** option
    to change the association. What you need to do is to delete the existing association
    and create a new one using the following steps:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您在方案中将问题类型与工作流关联，您就不能为相同的问题类型添加新的关联。还有一个**不可编辑**的选项用于更改关联。您需要做的是删除现有的关联，并使用以下步骤创建一个新的关联：
- en: Browse to the workflow scheme’s details page for the workflow scheme you want
    to configure.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到您想要配置的工作流方案的详细页面。
- en: Click on the **Remove** link for the association you want to remove.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您想要移除的关联的**删除**链接。
- en: Once an association is deleted, you will be able to create a new one for the
    issue type. If you do not assign a new workflow to the issue type, the workflow
    with the **All Unassigned Issue Types** option will be applied.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦关联被删除，您将能够为该问题类型创建新的关联。如果未为问题类型分配新工作流，则会应用**所有未分配问题类型**选项的工作流。
- en: Applying a workflow scheme to projects
  id: totrans-312
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将工作流方案应用到项目。
- en: Workflow schemes are inactive by default after they are created. This means
    there are no projects in Jira using the workflow scheme. To activate a workflow
    scheme, you need to select a scheme and apply it to the project.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 工作流方案在创建后默认处于非激活状态。这意味着没有项目在Jira中使用该工作流方案。要激活工作流方案，您需要选择一个方案并将其应用到项目中。
- en: 'When assigning a workflow scheme to a project, you need to follow four basic
    steps, as outlined next:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 在将工作流方案分配给项目时，您需要按照下列四个基本步骤进行操作：
- en: Browse to the project administration page for the project you want to apply
    the workflow scheme to.
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到您希望应用工作流方案的项目的项目管理页面。
- en: Select the **Workflows** option from the left panel.
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从左侧面板选择**工作流**选项。
- en: Click on the **Switch Scheme** button.
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**切换方案**按钮。
- en: Select a new workflow scheme to use and click on the **Associate** button.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择一个新的工作流方案并点击**关联**按钮。
- en: 'On the confirmation page, depending on the differences between the current
    and new workflow, you will be prompted to make migration decisions for existing
    issues. For example, if the current workflow has a status called **Resolved**
    and the new workflow does not (or it has something equivalent but with a different
    **identifier** (**ID**)), you need to specify the new status to place issues that
    are currently in the **Resolved** status. Once mapped, Jira will start migrating
    existing issues to the new status, as illustrated in the following screenshot:'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 在确认页面上，根据当前工作流和新工作流之间的差异，您将被提示为现有问题做出迁移决策。例如，如果当前工作流有一个名为**已解决**的状态，而新工作流没有（或者有一个等效状态，但有不同的**标识符**（**ID**）），您需要指定一个新的状态，以便将当前处于**已解决**状态的问题迁移到该状态。一旦映射完成，Jira将开始将现有问题迁移到新状态，如下图所示：
- en: '![Figure 7.23 – Mapping workflow statuses'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 7.23 – 工作流状态映射'
- en: '](img/Figure_7.23_B18644.jpg)'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.23_B18644.jpg)'
- en: Figure 7.23 – Mapping workflow statuses
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7.23 – 工作流状态映射
- en: 'The steps are set out here:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 步骤如下：
- en: Select new workflow statuses for existing issues that are in statuses that do
    not exist in the new workflow.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为现有问题选择新的工作流状态，如果现有状态在新工作流中不存在的话。
- en: Click on the **Associate** button to start the migration.
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**关联**按钮以开始迁移。
- en: Once the migration starts, Jira will display a progress bar showing you the
    progress. Depending on the number of issues that need to be migrated, this process
    may take some time. It is recommended to allocate a time frame to perform this
    task as it can be quite resource-intensive for large instances.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦迁移开始，Jira将显示一个进度条，展示迁移的进度。根据需要迁移的问题数量，这一过程可能会花费一些时间。建议为此任务分配一个时间框架，因为对于大型实例来说，它可能会非常消耗资源。
- en: Delegated workflow management
  id: totrans-327
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 委托的工作流管理
- en: Just as we saw in [*Chapter 6*](B18644_06.xhtml#_idTextAnchor154), *Screen Management*,
    project administrators have also been empowered to make changes to workflows that
    are used only by their own projects, instead of having to rely entirely on the
    Jira administrator.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在[*第6章*](B18644_06.xhtml#_idTextAnchor154)中看到的，*屏幕管理*，项目管理员也被授权对仅供其项目使用的工作流进行更改，而无需完全依赖Jira管理员。
- en: 'There are, however, some restrictions to this, as outlined here:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，关于此操作有一些限制，具体如下：
- en: Only existing statuses can be used in the workflow
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只能在工作流中使用现有状态。
- en: If the status is already used by an issue in the project, the status cannot
    be deleted from the workflow
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果某个状态已被项目中的问题使用，则该状态不能从工作流中删除。
- en: Transition properties, conditions, validators, and post functions cannot be
    updated
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 转换属性、条件、验证器和后置功能无法更新。
- en: The workflow must not be shared with any other projects
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作流不得与其他项目共享
- en: Workflows can only be updated in diagram mode
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只能在图表模式下更新工作流。
- en: 'This allows you to make changes such as adjusting statuses and transition flow
    to workflows that are dedicated to a single project, which would normally be the
    case since new workflows are automatically created with each new project. To make
    changes to workflows for your project as a project administrator, perform the
    following steps:'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 这使您能够进行诸如调整状态和工作流转换流向的更改，这些工作流通常专用于单个项目，因为每个新项目都会自动创建新的工作流。要为项目执行以下步骤，以项目管理员的身份更改工作流程：
- en: Browse to the target project’s administration page.
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到目标项目的管理页面。
- en: Click on the **Issue types** option from the left panel.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从左侧面板中选择**问题类型**选项。
- en: Select a workflow for the issue type you want to edit and click on the **Edit**
    button.
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要编辑的问题类型的工作流程，然后单击**编辑**按钮。
- en: 'Click on the **Publish** button once you are done with your changes. You can
    see an overview of this in the following screenshot:'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在完成更改后，单击**发布**按钮。您可以在以下截图中查看概述：
- en: '![Figure 7.24 – Delegated workflow administration'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.24 – 委派工作流管理'
- en: '](img/Figure_7.24_B18644.jpg)'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.24_B18644.jpg)'
- en: Figure 7.24 – Delegated workflow administration
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.24 – 委派工作流管理
- en: Now we have covered all the out-of-the-box workflow features in Jira, let’s
    take a look at some of the third-party apps you can use to extend what you can
    do with workflows.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经介绍了 Jira 中的所有开箱即用的工作流功能，让我们来看看一些第三方应用程序，您可以使用这些应用程序来扩展您可以使用工作流程执行的操作。
- en: Extending a workflow with workflow add-ons
  id: totrans-344
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 扩展工作流程与工作流程插件
- en: There are a number of very useful add-ons that will provide additional components
    such as conditions, validators, and post functions. The following sections present
    some of the most popular workflow-related plugins.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多非常有用的插件，可以提供额外的组件，例如条件、验证器和后置功能。以下部分介绍了一些最受欢迎的与工作流相关的插件。
- en: JSU
  id: totrans-346
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: JSU
- en: You can find a number of very useful conditions, validators, and post functions
    with this add-on. For example, the **Update Issue Field** post function that ships
    with Jira allows you to update any issue fields such as priority and assignee
    when a workflow transition completes. The JSU add-on complements this by providing
    a very similar **Update Any Issue Field** post function that handles custom fields.
    There are many other useful components such as the **Copy Value From Other Field**
    post function, which will allow you to implement some amazing logic with your
    workflow. It is a must-have add-on for any Jira instance. You can find out more
    at [https://marketplace.atlassian.com/apps/5048/jsu-suite-utilities-for-jira](https://marketplace.atlassian.com/apps/5048/jsu-suite-utilities-for-jira).
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用此插件找到许多非常有用的条件、验证器和后置功能。例如，随 Jira 提供的**更新问题字段**后置功能允许您在工作流转换完成时更新任何问题字段，例如优先级和受让人。JSU
    插件通过提供一个非常相似的**更新任何问题字段**后置功能来补充此功能，处理自定义字段。还有许多其他有用的组件，例如**从其他字段复制值**后置功能，它将允许您在工作流中实施一些惊人的逻辑。对于任何
    Jira 实例来说，这是一个必备的插件。您可以在[https://marketplace.atlassian.com/apps/5048/jsu-suite-utilities-for-jira](https://marketplace.atlassian.com/apps/5048/jsu-suite-utilities-for-jira)了解更多信息。
- en: Jira Workflow Toolbox (JWT)
  id: totrans-348
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Jira 工作流工具箱（JWT）
- en: As the name suggests, this is a workflow toolbox with a rich set of workflow
    conditions, validators, and post functions intended to fill many gaps when developing
    complex workflows. For example, it provides a condition and validator that allows
    you to specify checking rules with **regular expressions** (**regexes**). You
    can find out more at [https://marketplace.atlassian.com/apps/29496/jira-workflow-toolbox](https://marketplace.atlassian.com/apps/29496/jira-workflow-toolbox).
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 正如其名称所示，这是一个带有丰富的工作流条件、验证器和后置功能的工作流工具箱，旨在填补开发复杂工作流时的许多空白。例如，它提供了一个条件和验证器，允许您使用**正则表达式（regexes）**指定检查规则。您可以在[https://marketplace.atlassian.com/apps/29496/jira-workflow-toolbox](https://marketplace.atlassian.com/apps/29496/jira-workflow-toolbox)了解更多信息。
- en: Jira Misc Workflow Extensions (JMWE)
  id: totrans-350
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Jira 杂项工作流扩展（JMWE）
- en: This is another plugin with an assortment of conditions, validators, and post
    functions. Normal post functions let you alter the current issue’s field values.
    This plugin provides post functions that will allow you to set a parent issue’s
    field values from subtasks, along with many other features. You can find out more
    at [https://marketplace.atlassian.com/apps/292/jira-misc-workflow-extensions](https://marketplace.atlassian.com/apps/292/jira-misc-workflow-extensions).
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 这是另一个插件，包含各种条件、验证器和后置功能。普通的后置功能允许你更改当前问题的字段值。这个插件提供的后置功能允许你从子任务中设置父问题的字段值，以及许多其他功能。你可以在[https://marketplace.atlassian.com/apps/292/jira-misc-workflow-extensions](https://marketplace.atlassian.com/apps/292/jira-misc-workflow-extensions)了解更多信息。
- en: Workflow Enhancer for Jira
  id: totrans-352
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Jira工作流增强器
- en: This contains a variety of validators and conditions around comparisons of the
    value of a field with another field, and lets you set up validation logic to compare
    dates, numeric, and Boolean values; you can find out more at [https://marketplace.atlassian.com/apps/575829/workflow-enhancer-for-jira](https://marketplace.atlassian.com/apps/575829/workflow-enhancer-for-jira).
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 这包含了多种验证器和条件，围绕字段值与另一个字段的比较，并允许你设置验证逻辑来比较日期、数字和布尔值；你可以在[https://marketplace.atlassian.com/apps/575829/workflow-enhancer-for-jira](https://marketplace.atlassian.com/apps/575829/workflow-enhancer-for-jira)了解更多信息。
- en: ScriptRunner for Jira
  id: totrans-354
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ScriptRunner for Jira
- en: This is a very useful and powerful add-on that allows you to create your own
    custom conditions, validators, and post functions by writing scripts. This does
    require you to have some programming knowledge and a good understanding of Jira’s
    **application programming interface** (**API**). You can find out more at [https://marketplace.atlassian.com/apps/6820/scriptrunner-for-jira](https://marketplace.atlassian.com/apps/6820/scriptrunner-for-jira).
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个非常有用且强大的插件，允许你通过编写脚本来创建自定义的条件、验证器和后置功能。这需要你具备一定的编程知识，并且对Jira的**应用程序接口**（**API**）有一定的了解。你可以在[https://marketplace.atlassian.com/apps/6820/scriptrunner-for-jira](https://marketplace.atlassian.com/apps/6820/scriptrunner-for-jira)了解更多信息。
- en: The HR project
  id: totrans-356
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: HR项目
- en: 'We have seen the power of workflows and how we can enhance the usefulness of
    Jira by adapting to everyday business processes. With our HR project, we have
    already defined two issue types to represent the onboarding and dismissal of an
    employee; both of these use the same default workflow with two steps: **To Do**
    and **Done**. So, we will now customize the workflow to represent a real-world
    HR process.'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到了工作流的强大功能，以及如何通过适应日常业务流程来增强Jira的实用性。通过我们的HR项目，我们已经定义了两个问题类型来表示员工的入职和离职；这两者都使用相同的默认工作流，包含两个步骤：**待办**和**已完成**。因此，我们现在将自定义工作流，以表示一个真实世界的HR流程。
- en: 'Our requirements for the business process would then include the following:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对业务流程的要求将包括以下内容：
- en: The **New Employee** and **Termination** issue types will use a customized workflow,
    while the **Task** issue type will continue to use the existing one
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**新员工**和**终止**问题类型将使用自定义工作流，而**任务**问题类型将继续使用现有的工作流。'
- en: 'For the **Termination** issue type, we will add two additional steps: one to
    conduct an exit interview, and one to ensure that all necessary company assets
    are returned'
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于**终止**问题类型，我们将添加两个额外的步骤：一个是进行离职面谈，另一个是确保所有必要的公司资产被归还。
- en: Ensure that only authorized personnel can transition the issue through the various
    statuses of the workflow
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保只有授权人员可以将问题在工作流的各个状态之间进行转换。
- en: The easiest way to implement these requirements would be to create a new workflow
    and add the extra process steps as new statuses. We will first do this to get
    our workflow structure in place. Later on, we will also look at how we can use
    other features in Jira and incorporate them into our workflow to make it more
    robust.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 实现这些要求的最简单方法是创建一个新的工作流，并将额外的流程步骤作为新的状态添加。我们将首先这样做，以建立我们的工作流结构。之后，我们还将研究如何使用Jira的其他功能，并将其整合到工作流中，使其更加稳健。
- en: Setting up workflows
  id: totrans-363
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置工作流
- en: 'The first step is to create a new workflow for our **Termination** issue type
    since we still want to keep the existing workflow for the **Task** issue type.
    The easiest way to get started is to clone the current workflow to save us some
    time. Follow the next steps to do that:'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是为我们的**终止**问题类型创建一个新的工作流，因为我们仍然希望保留**任务**问题类型的现有工作流。最简单的方式是克隆当前的工作流，这样可以节省一些时间。按照以下步骤操作：
- en: Browse to the **View Workflows** page.
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到**查看工作流**页面。
- en: 'Click on the `HR: Task Management Workflow` workflow.'
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '点击`HR: 任务管理工作流`工作流。'
- en: 'Name the new workflow `HR: Termination Workflow`.'
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新工作流命名为`HR：终止工作流程`。
- en: Click on the **Copy** button to create our workflow.
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**复制**按钮以创建我们的工作流。
- en: 'The next step is to add in the extra status we need. Make sure that you are
    in the workflow designer by selecting the **Diagram** option, then proceed as
    follows:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是添加我们需要的额外状态。确保您通过选择**图表**选项进入工作流设计器，然后按照以下步骤操作：
- en: Click on the **Add status** button.
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加状态**按钮。
- en: Enter the name for our new status as **In Exit Review**, set the **Category**
    type to **In Progress**, and click on **Add**. You will need to hit the *Enter*
    key on your keyboard since we are creating a new status.
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入我们新状态的名称为**进入退出审查**，将**类别**类型设置为**进行中**，然后点击**添加**。由于我们正在创建一个新状态，您需要按下键盘上的*Enter*键。
- en: Click on the **Create** button to create the workflow status.
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮创建工作流状态。
- en: Repeat *steps 2* and *3* to create a new status called **Collecting Assets**.
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复*步骤2*和*3*创建一个名为**收集资产**的新状态。
- en: 'Now that we have our statuses added to our workflow, we need to connect them
    in the workflow with transitions. For now, we will make the workflow go in a sequence
    in the order of **To Do** | **In Exit Review** | **Collecting Assets** | **Done**.
    Let’s start by creating a transition going from **To Do** | **In Exit Review**,
    as follows:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经将状态添加到工作流中，我们需要通过过渡将它们连接起来。暂时，我们将按照**待办** | **进入退出审查** | **收集资产** | **完成**的顺序进行工作流。让我们从创建从**待办**
    | **进入退出审查**开始的过渡开始：
- en: Click on the **Add transition** button.
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加过渡**按钮。
- en: Select **To Do** as the **From** status.
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**待办**作为**从**状态。
- en: Select **In Exit Review** as the **To** status.
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**进入退出审查**作为**到**状态。
- en: Name the new transition **Conduct Exit Review**.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 命名新的过渡为**执行退出审查**。
- en: Select **Workflow Screen** for **Screen**.
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为**屏幕**选择**工作流屏幕**。
- en: Click on the **Add** button to create the transition.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮创建过渡。
- en: Repeat *steps 1* to *6* to create two more transitions, linking **In Exit Review**
    to **Collecting Assets**, and **Collecting Assets** to **Done**.
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复*步骤1*至*6*创建两个更多的过渡，将**进入退出审查**连接到**收集资产**，并将**收集资产**连接到**完成**。
- en: With the new transitions in place, we will also want to remove the existing
    transitions between **To Do** and **Done** so that people cannot skip the process
    steps.
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装新的过渡后，我们还希望删除**待办**和**完成**之间的现有过渡，以防止人们跳过流程步骤。
- en: 'Your workflow will look something like the one shown in the following screenshot.
    You can rearrange the elements in the workflow to make the diagram flow more naturally:'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 您的工作流将类似于以下截图中显示的内容。您可以重新排列工作流中的元素，使图表流动更自然：
- en: '![Figure 7.25 – HR workflow'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.25 – 人力资源工作流'
- en: '](img/Figure_7.25_B18644.jpg)'
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.25_B18644.jpg)'
- en: Figure 7.25 – HR workflow
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.25 – 人力资源工作流
- en: 'The next customization we will do is to make sure that only authorized personnel
    can transition the issue along the workflow. For now, we will set it so only members
    of the `jira-administrators` group can transition an issue after it is created.
    Once we cover [*Chapter 9*](B18644_09.xhtml#_idTextAnchor256), *Securing Jira*,
    we can change this security setting. Proceed as follows:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来要做的自定义是确保只有授权人员可以在工作流中推进问题。暂时，我们将设置仅允许`jira-administrators`组的成员在创建问题后进行问题推进。一旦我们涵盖了[*第9章*](B18644_09.xhtml#_idTextAnchor256)，*保护
    Jira*，我们可以更改此安全设置。按以下步骤操作：
- en: Click on the **Conduct Exit Review** transition and click on **Conditions**
    from the **Transition property** section.
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**执行退出审查**过渡，并从**过渡属性**部分点击**条件**。
- en: Click on the **Add condition** button to bring up the **Add Condition To Transition**
    page.
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加条件**按钮以打开**添加过渡条件**页面。
- en: Select the **User Is In Group** option.
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**用户在组中**选项。
- en: Select the `jira-administrator` group.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`jira-administrator`组。
- en: Click on **Add** to add the condition to the transition.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**添加过渡条件。
- en: Repeat *steps 1* to *5* on the remaining transitions.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在其余的过渡上重复*步骤1*至*5*。
- en: Using the `jira-administrator` in this case—will see the transition with the
    condition applied to it.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 在此案例中使用`jira-administrator`，将看到应用于过渡的条件。
- en: Applying the workflow
  id: totrans-395
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用工作流
- en: 'With our workflow in place and set up, we need to let Jira know the issue types
    that will be using our new workflow. Since we already have a workflow scheme in
    place for our project, we just need to associate the appropriate issue type with
    the workflow. Here’s how to do this:'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们设置并配置好工作流后，我们需要让Jira知道哪些问题类型将使用我们的新工作流。由于我们已经为我们的项目设置了工作流方案，我们只需要将适当的 issue
    类型与工作流关联起来。以下是操作步骤：
- en: Browse to the **Workflow schemes** page.
  id: totrans-397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到**工作流方案**页面。
- en: 'Click on the `HR: Task Management Workflow Scheme`.'
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '点击`HR: 任务管理工作流方案`。'
- en: Click on the **Add Workflow** menu and select the **Add Existing** option.
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加工作流**菜单，选择**添加现有**选项。
- en: 'Select our new `HR: Termination Workflow` option and click on the **Next**
    button.'
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '选择我们的新`HR: 终止工作流`选项，然后点击**下一步**按钮。'
- en: Select a **Termination** issue type.
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**终止**问题类型。
- en: Click on **Finish** to create an association.
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**完成**以创建关联。
- en: Click on the **Publish** button to apply the change.
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮以应用更改。
- en: This associates our new workflow with the **Termination** issue type specifically
    created for our HR project and leaves the default workflow for the others.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 这将把我们的新工作流与专为HR项目创建的**终止**问题类型关联，并为其他问题保留默认工作流。
- en: Putting it together
  id: totrans-405
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 汇总
- en: 'With our new workflow in place, we can now create a new **Termination** issue
    and start testing our implementation. Since we need to simulate a scenario where
    an unauthorized user cannot transition an issue after it is created, we need to
    create a new user. We will look at user management and security in [*Chapter 9*](B18644_09.xhtml#_idTextAnchor256),
    *Securing Jira*. For now, we will simply add a new user to our system, as follows:'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 配置好我们的新工作流后，我们现在可以创建一个新的**终止**问题并开始测试我们的实现。由于我们需要模拟一个未经授权的用户无法在创建问题后进行过渡的场景，我们需要创建一个新用户。我们将在[*第9章*](B18644_09.xhtml#_idTextAnchor256)中讨论用户管理和安全，*Jira安全性*。现在，我们将简单地向我们的系统添加一个新用户，如下所示：
- en: Browse to the Jira administration console.
  id: totrans-407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到Jira管理控制台。
- en: Select the **Users management** tab and click on the **Users** link.
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**用户管理**标签，点击**用户**链接。
- en: Click on the **Create user** button to bring up the **Create New User** dialog.
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建用户**按钮以打开**创建新用户**对话框。
- en: Name the new user `john.doe` (John Doe).
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 命名新用户为`john.doe`（John Doe）。
- en: Set a password and email address for this new user.
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为这个新用户设置密码和电子邮件地址。
- en: Uncheck the **Send Notification Email** option.
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取消勾选**发送通知邮件**选项。
- en: Check the **Jira Software** option for **Application access**.
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**应用访问**中勾选**Jira软件**选项。
- en: Click on the **Create** button to create the user.
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**按钮以创建用户。
- en: 'Now, log in to Jira as a new business user, `john.doe`, and create a new `john.doe`)
    are not in the `jira-administrators` group. The administrator user we created
    in [*Chapter 1*](B18644_01.xhtml#_idTextAnchor014), *Getting Started with Jira
    Data Center*, is in the `jira-administrators` group, so let’s log in as the administrator.
    Once logged in as the administrator, you will see our new transition, **Conduct
    Exit Review**, as shown in the following screenshot:'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，以新业务用户`john.doe`登录Jira，并创建一个新的`john.doe`（John Doe）。该用户不在`jira-administrators`组中。我们在[*第1章*](B18644_01.xhtml#_idTextAnchor014)中创建的管理员用户，*Jira数据中心入门*一书中的该用户，属于`jira-administrators`组，因此我们将以管理员身份登录。以管理员身份登录后，你将看到我们的新过渡**进行离职审查**，如下图所示：
- en: '![Figure 7.26 – HR workflow transition 1'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.26 – HR工作流过渡 1]'
- en: '](img/Figure_7.26_B18644.jpg)'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.26_B18644.jpg)'
- en: Figure 7.26 – HR workflow transition 1
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.26 – HR工作流过渡 1
- en: You will also see that, if you create a new task in the HR project, the task
    issue will continue to use the default workflow.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 你还会看到，如果你在HR项目中创建一个新任务，任务问题将继续使用默认工作流。
- en: With the current workflow set up, everything happens in sequential order. However,
    sometimes, you might need things to happen in parallel. For example, in the collecting
    assets step, there might be multiple assets to be collected for various teams,
    such as a laptop for IT and a key card for security. It will be a lot more efficient
    if you can perform them at the same time and be able to track them individually.
    One way you can do this is by creating subtasks for each asset under the issue
    (remember—an issue can only be assigned to one person), and then assigning the
    subtasks to the relevant team such as IT and security so that they can chase up
    with the employee to retrieve the asset. You can then set a condition on the **Done**
    transition to make sure that all subtasks are completed before they can be executed.
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 在当前工作流设置下，一切都是按顺序发生的。然而，有时您可能需要某些操作并行进行。例如，在收集资产的步骤中，可能有多个资产需要为不同团队收集，比如IT部门的笔记本电脑和安保部门的门禁卡。如果能够同时执行这些操作并能够单独跟踪它们，将会更加高效。您可以通过在问题下为每个资产创建子任务（记住——一个问题只能分配给一个人），然后将子任务分配给相关团队，例如IT和安保团队，以便他们可以追踪员工并收回资产。接着，您可以在**完成**过渡上设置一个条件，确保所有子任务完成后才能执行。
- en: 'This can be expanded upon to have the asset collection and exit interview as
    subtasks so that both can happen at the same time, and you can create different
    subtask issue types to differentiate them, as covered in [*Chapter 4*](B18644_04.xhtml#_idTextAnchor083),
    *Working with Issues*. Your **Termination** issue may look something like this:'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 这个方法可以扩展为将资产收集和离职面谈作为子任务，这样两者可以同时进行，并且您可以创建不同的子任务问题类型来区分它们，正如在[*第4章*](B18644_04.xhtml#_idTextAnchor083)《与问题协作》中所介绍的那样。您的**离职**问题可能如下所示：
- en: '![Figure 7.27 – HR workflow transition 2'
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.27 – 人力资源工作流过渡 2'
- en: '](img/Figure_7.27_B18644.jpg)'
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_7.27_B18644.jpg)'
- en: Figure 7.27 – HR workflow transition 2
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 图7.27 – 人力资源工作流过渡 2
- en: In this example, the **Done** transition will only be available when all subtasks
    are completed. This can be achieved by adding the **Sub-Task Blocking Condition**
    type to the **Done** issue transition.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，**完成**过渡只有在所有子任务完成时才可用。这可以通过将**子任务阻塞条件**类型添加到**完成**问题过渡来实现。
- en: Summary
  id: totrans-426
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we looked at how Jira can be customized to adapt to your organization.
    At the heart of this powerful feature is a robust workflow system that allows
    you to model Jira workflows based on existing business processes. We also looked
    at the various components within a workflow, how to perform validations, and how
    postprocessing provides a level of process automation.
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了如何定制Jira以适应您的组织。在这一强大功能的核心，是一个健全的工作流系统，允许您基于现有的业务流程来建模Jira工作流。我们还介绍了工作流中的各个组件，如何执行验证，以及后处理如何提供一定程度的流程自动化。
- en: In the next chapter, we will look at how we can combine the power of a workflow
    and its event-driven systems to facilitate communication through Jira notifications
    and the email system.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨如何结合工作流的强大功能及其事件驱动系统，通过Jira通知和电子邮件系统促进沟通。
