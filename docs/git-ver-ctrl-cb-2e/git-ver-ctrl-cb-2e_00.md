# 前言

Git 正日益成为现代软件开发中**源代码管理**（**SCM**）的*事实标准*。

Git 最初由 Linus Torvalds 开发，作为 Linux 内核的 SCM 系统，用以取代专有的 SCM 工具 BitKeeper。此后，Git 已征服了大部分开源世界，并且被许多组织用于他们的私有/专有项目。

本书旨在为你提供日常 Git 使用的实用配方。这些配方可以直接使用，也可以作为灵感。本书通过实用配方和深入的解释，覆盖了 Git 数据模型，使你更深入地理解 Git 的内部工作原理。本书将展示以下主题：

+   使用历史记录。Git 会将所有历史记录存储在本地。你可以浏览历史、查看历史、查找某个分支上的最后一次提交等。

+   使用分支时，通过选项和策略有效地进行推送、拉取和合并。

+   在 Git 仓库中存储和提取额外的元数据。

+   灾难恢复：本地和全局。

*Git 版本控制秘籍* 为你提供了精确的、逐步的指引，涵盖了各种常见和不常见的 Git 操作。本书通过提供常见问题的解决方案、实用的技巧与窍门，并深入阐明这些方法的原理与作用，使你的 Git 日常工作变得更加轻松。

# 本书适合谁阅读

本书面向开发者、专业的构建/发布经理和 DevOps 从业者，提供了 Git 下一个层次的实用指南。从 Git 数据模型开始，逐步深入到分支管理、元数据与钩子等内容，本书通过易于阅读的配方结构，使从简单的日常用例到高级仓库管理的过渡变得平滑。本书适合目标读者群体阅读和理解，你需要具备基本的 GNU/Linux 工具和 Shell/Bash 脚本的知识，才能充分利用本书。

# 本书涵盖了哪些内容

第一章，*导航 Git*，展示了 Git 如何存储文件和提交。示例将直观地展示数据模型，以及如何使用简单的命令浏览历史记录和数据库。

第二章，*配置*，展示了 Git 中可以配置的内容、如何设置配置目标、不同的配置级别以及一些有用的配置目标。

第三章，*分支、合并与选项*，将让你对分支和推送/拉取目标的选项有更深入的了解。本章还展示了不同的合并策略，以及如何记录合并解决方案的一些技巧。

第四章，*定期并交互式地进行变基及其他使用场景*，向您展示了如何使用变基来替代合并，以及其他许多变基的使用场景，如发布前清理历史记录和测试单个提交。

第五章，*在您的代码库中存储附加信息*，带您了解 Git 笔记。它将向您展示如何将附加信息与提交绑定，并如何再次使用和查看这些信息。

第六章，*从代码库中提取数据*，向您展示了如何从代码库中提取统计信息和其他元数据。

第七章，*通过 Git 钩子、别名和脚本提升您的日常工作*，包含一系列配方，帮助您自动化繁琐的日常工作。

第八章，*从错误中恢复*，带您走过几个恢复场景，从本地撤销，到“我的旧提交在哪里”，再到全局恢复场景。

第九章，*代码库维护*，是一本关于代码库维护和管理的配方集，从强制垃圾回收、过度拆分和合并代码库，到完全重写历史记录。

第十章，*修补和离线共享*，向您展示如何在离线状态下使用 Git 工作，并通过除推送和拉取外的其他方式共享工作。

第十一章，*技巧与窍门*，是一本关于各种主题的配方集，从简单的技巧到在提示符中显示当前分支，再到高级 Git 工具，如 bisect 和 stash。

第十二章，*Git 提供者、集成和客户端*，介绍了最大的 Git 托管网站 GitHub。此外，本章将讨论如何集成 Jenkins 进行自动化构建和测试。

# 为了充分利用本书的内容

要按照本书中的配方操作并重现结果，您需要一台计算机，最好运行*nix 操作系统。您需要安装 Git，建议安装 Git 2.x 版本或更高版本。

如果您是 Windows 用户，我们推荐使用 Git Extensions 包，它包含了这两者。

图形化和文本（Bash）Git 界面。后者是本书中的配方所必需的。

# 下载彩色图像

我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图像。您可以在这里下载：[`www.packtpub.com/sites/default/files/downloads/GitVersionControlCookbookSecondEdition_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/GitVersionControlCookbookSecondEdition_ColorImages.pdf)。

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入以及 Twitter 账号。例如：“最新的提交是 `3061dc6 Adds Java version of 'hello world'` 提交。”

任何命令行输入或输出会按如下方式编写：

```
$ git checkout master && git reset --hard b14a939  
```

**粗体**：表示新术语、重要单词或屏幕上显示的词语。例如，菜单或对话框中的词语会像这样显示在文本中。这里有一个例子：“从管理面板中选择系统信息。”

警告或重要的注释会像这样显示。

提示和技巧会像这样显示。

# 章节

在本书中，你将发现多个常见的标题（*准备就绪*，*如何操作...*，*如何运作...*，*还有更多...*，以及*另请参见*）。

为了提供清晰的操作指引，使用以下这些部分：

# 准备就绪

本节将告诉你在食谱中可以期待什么，并描述如何设置任何所需的软件或前期设置。

# 如何操作……

本节包含遵循食谱所需的步骤。

# 如何运作……

本节通常包含对上一节内容发生情况的详细解释。

# 还有更多……

本节包含关于食谱的附加信息，帮助你更好地理解食谱内容。

# 另请参见

本节提供指向其他有用信息的链接，以帮助你完成本食谱。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：请通过电子邮件 `feedback@packtpub.com` 并在邮件主题中提及书名。如果你对本书的任何方面有疑问，请通过 `questions@packtpub.com` 联系我们。

**勘误表**：尽管我们已尽一切努力确保内容的准确性，但错误仍然会发生。如果你在本书中发现错误，我们将非常感谢你向我们报告。请访问 [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择你的书籍，点击勘误提交表单链接，并填写相关信息。

**盗版**：如果你在互联网上发现我们作品的任何非法复制品，我们将非常感谢你提供其位置地址或网站名称。请通过 `copyright@packtpub.com` 联系我们，并附上相关链接。

**如果你有兴趣成为作者**：如果你在某个领域拥有专业知识，并且有兴趣撰写或为书籍贡献内容，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。

# 书评

请留下评论。一旦你阅读并使用了本书，为什么不在你购买书籍的站点上留下评论呢？潜在读者可以通过你的公正意见做出购买决策，Packt 也能了解你对我们产品的看法，作者也能看到你对他们书籍的反馈。谢谢！

如需了解更多关于 Packt 的信息，请访问 [packtpub.com](https://www.packtpub.com/)。
