# 第六章：用例示例实施

你已经通过修改 JIRA 配置并使用流行的**Zephyr**插件了解了测试管理的自定义。本章不会重复这些配置，而是会提供示例数据，以便创建可在 JIRA 中实现的各种用例。本章将涵盖通常所需的问题类型、要添加的自定义字段和工作流示例。

用户可以将这些示例作为起点，在公司内实施类似的功能。在本章中，我们将了解如何开始收集需求，文中提到的示例用例可以进一步用来根据具体需求定制 JIRA。

本章涵盖的主题如下：

+   收集需求

+   准备 JIRA 配置文档

+   为帮助台/支持票务设置 JIRA

+   为需求管理设置 JIRA

+   为缺陷追踪设置 JIRA

+   自定义更改

# 收集需求

与任何其他软件项目一样，将 JIRA 自定义当作一个独立的项目来对待。作为 JIRA 管理员，你应当首先与所有利益相关者会面，以了解他们希望如何使用 JIRA。通常，这从与所有团队经理的头脑风暴会议开始。

当你想开始自定义 JIRA 时，务必准备一份文档来记录所需的所有配置。即使在实施之后，如果需要进行任何进一步的更改，你仍然需要更新该文档。这也有助于新管理员接管 JIRA 实例。当所有需求都存储在配置文档中时，追踪系统中所做的更改就变得更加容易。如果你已经有一个运行中的**Confluence**实例，你可以使用它来创建这些文档，所有利益相关者都能访问这些文档。通常，人们会将 Confluence 与 JIRA 一起使用，以便在文档上协作并共享信息。

# 准备 JIRA 配置文档

配置文档应包含有关所有方案的信息，并附有相关的背景信息来进行解释。

本文档应包含以下部分。

## 需要进行什么样的问题追踪？

首先，从以下问题开始：在 JIRA 中需要追踪什么样的问题？你是想追踪客户投诉，还是想追踪正在进行的项目中的缺陷？你可能会倾向于直接开始使用 JIRA 并进行即时自定义，但这种方式会导致系统混乱，长期来看将很难管理。

## 所需问题类型

一旦使用 JIRA 的目的明确后，确定需要追踪的问题类型。如果 JIRA 用于简单的缺陷追踪，现有的问题类型就足够了，但如果你希望将 JIRA 用于支持票务，那么你可能需要创建新的问题类型。

### 最佳实践

仅当现有的问题类型无法使用时，才创建新的问题类型。始终尝试重用系统中已有的问题类型。太多的问题类型不仅会让最终用户感到困惑，也会让管理员感到困扰。

## 需要捕捉哪些数据？

在创建问题时，识别需要捕捉的信息。JIRA 自带很多默认的系统字段，如**摘要**、**优先级**、**截止日期**、**描述**等。在你的情况下，可能需要捕捉用户提供的额外信息，如客户名称或问题类别。准备一份所有自定义字段的清单，并注明它们的类型——无论是文本字段、选择列表还是日期。

确定自定义字段在哪些操作中会显示给用户：创建、编辑或查看。每个操作可能都有不同的屏幕。也可能在工作流过渡之间有额外的屏幕；例如，在将问题移到“待处理”状态之前，可能需要让用户填写反馈表单。

对于每个自定义字段，记录其行为——字段是否为必填项或可选项，应该在早期做出决定。

### 自定义 JIRA 的最佳实践

在 JIRA 中创建自定义字段非常简单，但随着实例的增长，可能会有很多这样的字段。始终尝试重用类似的字段。尽量为字段使用通用名称，这样它们就可以在其他项目中重复使用。上下文也可以用来在多个项目中使用相同的下拉菜单选择列表，但每个项目可以有不同的选项。最佳实践在第十七章，*JIRA 最佳实践*中有详细讨论。

## 问题工作流

你的问题如何从一个状态移动到另一个状态是由工作流定义的。这通常是公司在特定用例中遵循的流程。流程就是问题所经过的各个阶段。首先，决定工作流中需要多少个状态，然后再决定这些状态之间的过渡。过渡定义了问题是否可以从一个状态移动到另一个状态。对于每个过渡，决定需要哪些条件、验证和后置功能。在第四章，*自定义 JIRA 用于测试管理*中，我们详细讨论了工作流的定制。

整个项目可以使用单一的工作流，或者每个问题类型可以有自己的工作流。与项目经理仔细讨论，了解问题在各个阶段是如何流转的。

# 为帮助台/支持票务系统设置 JIRA

拥有软件产品和应用程序、并且为各种客户或客户提供服务的公司通常需要一个系统，让他们的用户可以提出投诉、建议和反馈。有多种专门的开源和专有工具可以用于此活动，但 JIRA 可以轻松定制为一个帮助台或支持票务系统。

## 问题类型

帮助台有一个机制来捕获客户的支持请求。我们还将为此目的创建一个新的问题类型，称为`支持请求`：

| **方案名称** | **问题类型** | **备注** |
| --- | --- | --- |
| 帮助台—问题类型方案 | 支持请求改进错误新功能新用户请求子任务 | 这创建了不可用的问题类型 |

## 工作流

我们将为**支持请求**问题类型使用自定义工作流，具体描述如下。它几乎与默认的 JIRA 工作流相同，只是多了两个额外的状态——等待客户和暂挂：

| **从** | **到** | **备注** |
| --- | --- | --- |
| 打开 | 进行中已解决已关闭等待客户 |

+   **条件**：只有报告人可以将问题移动到等待客户状态

+   **后置功能**：这将优先级更改为轻微

|

| 进行中 | 打开已解决已关闭暂挂 |
| --- | --- |

+   **条件**：只有报告人可以将问题移动到暂挂状态

+   **后置功能**：这将优先级更改为轻微

|

| 已解决 | 已关闭重新打开 | 已解决状态的问题可以移动到已关闭状态或重新打开状态 |
| --- | --- | --- |
| 重新打开 | 已解决已关闭进行中 | 一旦问题重新打开，可以重新解决、关闭或移动到进行中状态 |
| 已关闭 | 重新打开 | 已关闭的议题可以重新打开 |
| 等待客户 | 打开 | 一旦收到更多明确的信息，问题可以重新打开 |
| 暂挂 | 进行中 | 暂挂的议题可以移动到进行中状态 |

## 字段

**支持请求**问题类型将比默认的系统 JIRA 字段多一些额外字段：

| **字段名称** | **类型** | **是否必填** | **描述** |
| --- | --- | --- | --- |
| **项目** | 选择列表 | 是 | 选择项目名称 |
| **问题类型** | 选择列表 | 是 | 输入要执行的活动 |
| **摘要** | 文本 | 是 | 输入问题的简要描述 |

| **优先级** | 选择列表 | 否 | 值：

+   最高

+   高

+   中等

+   低

+   最低

|

| **到期日期** | 日期选择器 | 否 | 输入问题的到期日期（如果有的话） |
| --- | --- | --- | --- |
| **组件** | 选择列表 | 否 | 用户可以选择由项目管理员创建的组件。项目中的每个组件可以有一个专门的组件负责人，该用户可以配置为成为使用该组件的议题的默认指派人 |
| **影响版本** | 选择列表 | 是 | 选择该问题提出的版本 |
| **指派人** | 用户选择器 | 否 | 选择将处理此问题的用户 |
| **报告人** | 用户选择器 | 是 | 选择问题的报告人。默认是创建者 |
| **环境** | 文本框 | 否 | 指定在什么系统环境下报告了此问题 |
| **描述** | 文本框 | 否 | 在此字段中输入问题的详细信息 |
| **附件** | 文件 | 否 | 上传文件或截图 |

| **类别** | 选择列表 | 是 | 值：

+   计费

+   用户注册

+   安装

+   用户界面

+   连接性

|

在创建新类型为 **支持请求** 的问题时，这些字段会显示给用户；对于其他问题类型，则使用系统默认字段。

## 屏幕方案

现在我们已经决定了**支持请求**所需的字段，创建一个名为 `支持请求屏幕` 的新屏幕：

| **问题类型屏幕方案名称** | **屏幕方案** | **问题类型** | **屏幕** |
| --- | --- | --- | --- |
| Helpdesk—问题类型屏幕方案 | Helpdesk—屏幕方案 | 支持请求 | 支持请求屏幕 |
| 默认屏幕方案 | 改进问题 Bug 新功能新用户请求子任务 | 默认屏幕 |   |

## 权限方案

正如我们之前提到的，最好复制默认权限方案，然后在其基础上进行更改。我们将把新的方案命名为`Helpdesk—权限方案`。

以下表格突出显示了与默认权限方案不同的权限：

| **项目权限** | **用户/组/项目角色** |
| --- | --- |
| **指派问题** | 报告人 |
| **删除问题** | 报告人 |
| **处理问题** | 指派人 |

同时，如第四章中所讨论的，*自定义 JIRA 用于测试管理*，我们还可以使用**问题安全方案**将项目中的特定问题对其他用户隐藏。

在本节中，我们讨论了 JIRA 在支持票据方面的自定义。需要记住的重要事项是，登录 JIRA 提交支持请求的用户必须在 JIRA 中有一个账户，这意味着他们会计入许可证。在企业版中，如果用户无限制，这可能不是问题，但如果 JIRA 使用的是有限许可证，只有拥有 JIRA 许可证的账户才能登录并提交票据。如果 JIRA 对外开放，比如给你的客户使用，那么你应该要么拥有无限 JIRA 用户许可证，要么使用 JIRA 服务台，这是一个特别适用于支持请求的流行 JIRA 应用程序。它不要求提交支持票据的最终用户必须是 JIRA 用户许可证的一部分。

在第十五章中，*实施 JIRA 服务台*，我们将详细介绍这个流行的应用程序。它是一个专门用于支持请求的应用程序，不需要你自定义 JIRA。它具有典型支持项目的内建标准功能。

# 配置 JIRA 用于需求管理

让我们来看看使用 JIRA 需求管理的配置；我们将存储与需求相关的问题。这也将确保项目的期望被捕获，并在后续测试中进行验证。

## 问题类型

以下表格列出了需求管理的不同问题类型：

| **方案名称** | **问题类型** | **备注** |
| --- | --- | --- |
| 需求—问题类型方案 | 需求文档变更请求改进 Bug 新功能新用户请求子任务 | 创建没有的 issue 类型 |

## 工作流

我们将为需求问题类型使用自定义工作流；它将用于存储项目需求；对于其余的所有问题类型，将使用默认的 JIRA 工作流。

以下表格展示了需求工作流：

| **从** | **到** | **备注** |
| --- | --- | --- |
| 打开 | 进行中 | 新问题可以在工作开始时进入进行中状态 |
| 进行中 | 打开审核 |

+   **条件**：只有受让人可以将问题移到审核状态

|

| 审核 | 进行中已解决 |
| --- | --- |

+   **过渡屏幕**：在将问题从“审核”转到“进行中”时，要求用户输入评论

|

| 已解决 | 已关闭进行中重新打开 | 一旦解决，问题可以关闭，移回进行中状态，或重新打开 |
| --- | --- | --- |
| 已关闭 | 重新打开 | 已关闭的问题可以重新打开 |

## 字段

**需求**问题类型将有一些额外的字段，除了默认的系统 JIRA 字段外。类似地，我们还将为**文档**问题类型创建一些新的自定义字段。

以下表格显示了字段名称和描述的信息：

| **字段名称** | **类型** | **是否必填** | **描述** |
| --- | --- | --- | --- |
| **项目** | 选择列表 | 是 | 选择项目名称 |
| **问题类型** | 选择列表 | 是 | 选择要执行的活动 |
| **摘要** | 文本 | 是 | 输入问题的简要描述 |
| **到期日期** | 日期选择器 | 否 | 选择问题的到期日期（如果有的话） |
| **组件** | 选择列表 | 否 | 用户可以选择由项目管理员创建的组件 |
| **受让人** | 用户选择器 | 否 | 选择将处理此问题的用户 |
| **报告人** | 用户选择器 | 是 | 选择问题的报告人，默认是创建者 |
| **描述** | 文本字段 | 否 | 在此字段中输入问题的详细信息 |
| **附件** | 文件 | 否 | 上传文件或截图 |

| **需求类型** | 选择列表 | 是 | 值：

+   客户

+   功能性

+   非功能性

+   设计

|

| **可追溯性** | 文本字段 | 否 | 在此字段中，用户可以输入在一段时间内对需求所做的更改 |
| --- | --- | --- | --- |

## 文档

以下表格显示了字段名称和描述的信息：

| **字段名称** | **类型** | **是否必填** | **描述** |
| --- | --- | --- | --- |
| **项目** | 选择列表 | 是 | 选择项目名称 |
| **问题类型** | 选择列表 | 是 | 选择要执行的活动 |
| **摘要** | 文本 | 是 | 输入问题的简要描述 |
| **到期日期** | 日期选择器 | 否 | 选择问题的到期日期（如果有的话） |
| **组件** | 选择列表 | 否 | 用户可以选择由项目管理员创建的组件 |
| **受让人** | 用户选择器 | 否 | 选择将处理此问题的用户 |
| **报告人** | 用户选择器 | 是 | 选择问题的报告人，默认是创建者 |
| **描述** | 文本字段 | 否 | 在此字段中输入问题的详细信息 |
| **附件** | 文件 | 否 | 上传文件或截图 |

| **文档类型** | 选择列表 | 是 | 值：

+   PDF

+   DOC

+   XLS

|

| **文档 ID** | 文本字段 | 否 | 如果文档存储在外部系统中，请在此处存储其 ID |
| --- | --- | --- | --- |

在创建**支持请求**类型的问题时，用户将看到这些字段；对于其他问题类型，则使用系统默认字段。

## 屏幕方案

现在我们已经决定了**支持请求**所需的字段，创建一个新的屏幕，名为`需求屏幕`。以下表格显示了字段名称及其描述：

| **问题类型屏幕方案名称** | **屏幕方案** | **问题类型** | **屏幕** |
| --- | --- | --- | --- |
| 需求—问题类型屏幕方案 | 需求—屏幕方案 | 需求 | 需求屏幕 |
| 文档—屏幕方案 | 文档 | 文档屏幕 |   |
| 默认屏幕方案 | 变更请求改进 Bug 新特性新用户请求子任务 | 默认屏幕 |   |

## 权限方案

如前所述，最好是复制默认权限方案，然后在其基础上做修改。我们将命名我们的新方案为需求-权限方案。

以下表格突出显示了与默认权限方案不同的权限：

| **项目权限** | **用户/组/项目角色** |
| --- | --- |
| 指派问题 | 报告人 |
| 删除问题 | 报告人 |
| 工作在问题上 | 指派人 |

# 设置 JIRA 用于 Bug 跟踪

JIRA 可以开箱即用用于 Bug 跟踪。它自带一个名为**Bug**的默认问题类型，以及其他问题类型。然而，未来可能需要对默认配置进行某些更改，最好为 Bug 跟踪创建自定义方案。当然，我们会复制默认方案，并在复制的配置中进行更改。

## 问题类型

以下是 Bug 跟踪的问题类型：

| **方案名称** | **问题类型** | **备注** |
| --- | --- | --- |
| 默认问题类型方案 | 改进 Bug 新特性新用户请求子任务 | 在这里无需创建新的问题类型或新的方案 |

## 工作流

我们将为**Bug**问题类型使用自定义工作流；它将用于存储项目需求；对于其他问题类型，将使用默认的 JIRA 工作流。

以下是 Bug 跟踪的工作流：

| **来源** | **目标** | **备注** |
| --- | --- | --- |
| 打开 | 确认已解决已关闭等待客户 |

+   **条件**：只有指派人可以确认 Bug

|

| 确认 | 进行中已解决 | 一旦问题确认，移至进行中状态 |
| --- | --- | --- |
| 进行中 | 打开已解决已关闭暂停 | 处于进行中状态的问题可以重新打开、解决、关闭或置为暂停 |
| 已解决 | 已关闭已重新打开 | 已解决的问题可以被关闭或重新打开 |
| 已重新打开 | 已解决已关闭进行中 | 被重新打开的问题可以被解决、关闭或移动到进行中状态 |
| 已关闭 | 已重新打开 | 已关闭的问题可以重新打开 |

前述工作流与默认的 JIRA 工作流类似，唯一的不同是新增了一个名为“已确认”的状态。一旦 Bug 被提出，受托人有责任首先检查该 Bug。

## 字段

**Bug** 问题类型除了系统默认的 JIRA 字段外，还会有一些额外字段：

| **字段名称** | **类型** | **是否必填** | **描述** |
| --- | --- | --- | --- |
| **项目** | 下拉列表 | 是 | 选择项目名称 |
| **问题类型** | 下拉列表 | 是 | 选择要执行的活动 |
| **概要** | 文本 | 是 | 输入问题的简短描述 |

| **优先级** | 下拉列表 | 否 | 值：

+   主要

+   阻塞

+   严重

+   次要

+   微不足道

|

| **到期日期** | 日期选择器 | 否 | 选择问题的到期日期（如果有） |
| --- | --- | --- | --- |
| **组件** | 下拉列表 | 否 | 用户可以选择由项目管理员创建的组件 |
| **影响版本** | 下拉列表 | 是 | 选择报告该问题的版本 |
| **受托人** | 用户选择器 | 否 | 选择将处理此问题的用户 |
| **报告人** | 用户选择器 | 是 | 选择问题的报告人。默认报告人是创建者 |
| **环境** | 文本字段 | 否 | 指定报告此问题的系统环境 |
| **描述** | 文本字段 | 否 | 在此字段中输入问题的详细信息 |
| **附件** | 文件 | 否 | 上传文件或截图 |

| **类别** | 下拉列表 | 是 | 值：

+   账单

+   用户注册

+   安装

+   用户界面

+   连接性

|

| **客户名称** | 下拉列表 | 否 | 如果应用程序由多个客户使用，使用此字段来记录他们的名称 |
| --- | --- | --- | --- |

这些字段在创建**支持请求**类型的新问题时显示给用户；对于其他问题类型，请使用系统默认字段。

## 屏幕方案

现在我们已经决定了要为**Bug**创建哪些字段，接下来创建一个名为`Bug 屏幕`的新屏幕：

| **问题类型屏幕方案名称** | **屏幕方案** | **问题类型** | **屏幕** |
| --- | --- | --- | --- |
| Bug—问题类型屏幕方案 | Bug—屏幕方案 | 支持请求 | Bug 屏幕 |
| 默认屏幕方案 | 改进 Bug 新功能新用户请求子任务 | 默认屏幕 |   |

## 权限方案

如前所述，最好先复制默认权限方案，然后在此基础上进行修改。我们将新的方案命名为`Helpdesk—权限方案`。

下表仅突出显示与默认权限方案不同的那些权限：

| **项目权限** | **用户/组/项目角色** |
| --- | --- |
| **指派问题** | 报告人 |
| **删除问题** | 报告人 |
| **处理问题** | 受托人 |
| **移动问题** | 项目角色（管理员） |

# 自定义更改

我们讨论了可以在 JIRA 中实现的各种用例。当你第一次使用 JIRA 时，你无法准确确定这些定制中可能需要的变化。JIRA 管理员总是可以在方案中进行修改，以适应进一步的变化。然而，建立一个变更控制委员会并检查这些变化可能产生的影响总是一个好主意。我们将在第十七章中详细讨论这一点，*JIRA 最佳实践*。

# 总结

在本章中，我们检查了几个可以在 JIRA 中实现的用例的示范实现。你可以通过遵循本章中给出的示例数据开始定制；到现在为止，你已经知道如何定制 JIRA，但更重要的是你要将 JIRA 的定制视为一个项目，并准备一份配置文档来存储你的需求，这是我们在本章中讨论的内容。

在下一章，我们将探讨 JIRA 中的用户管理。我们还将了解如何配置用户的默认全局权限，以控制他们应当访问的内容。我们还将学习创建组及其使用的重要性。
